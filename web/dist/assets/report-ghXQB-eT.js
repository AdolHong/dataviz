var nl=Object.defineProperty;var il=(o,f,e)=>f in o?nl(o,f,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[f]=e;var re=(o,f,e)=>il(o,typeof f!="symbol"?f+"":f,e);import{r as U,j as I,h as io,a as ro,R as rl,c as gt,f as Yi,t as fe}from"./index-Cw5LrM1U.js";import{c as it,r as Ki,d as bn,a as An,u as ut,P as Re,z as Yn,L as oo,F as so,f as Le,g as Kn,j as Oe,b as Qn,R as ao,q as ol,e as et,A as Qi,p as At,h as lo,y as sl,E as co,H as uo,J as ho,t as fo,K as go,D as po,C as mo,i as vo,s as yo,w as al,k as Wt,l as zt,m as Bt,n as Vt,I as Ie,B as be,O as Gt,T as xn,Q as en,U as ll,V as cl,W as ul,Y as hl,M as Sn}from"./index-Bjjy5Tnx.js";import{a as dn}from"./axios-rQhDmkLL.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],fl=it("chart-no-axes-column",dl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wo=it("check",gl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ml=it("chevron-up",pl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],Cr=it("chevrons-down",vl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],wl=it("chevrons-up-down",yl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],$r=it("chevrons-up",bl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sl=it("circle",xl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$l=it("database",Cl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],_l=it("download",Ml);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kl=it("funnel",Al);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],El=it("search",Rl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ll=it("square-pen",Tl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tn=it("trash-2",Il);var qi="Tabs",[Dl,mg]=An(qi,[Yn]),bo=Yn(),[Ol,Xi]=Dl(qi),xo=U.forwardRef((o,f)=>{const{__scopeTabs:e,value:a,onValueChange:p,defaultValue:d,orientation:g="horizontal",dir:m,activationMode:c="automatic",...u}=o,s=Ki(m),[i,r]=bn({prop:a,onChange:p,defaultProp:d});return I.jsx(Ol,{scope:e,baseId:ut(),value:i,onValueChange:r,orientation:g,dir:s,activationMode:c,children:I.jsx(Re.div,{dir:s,"data-orientation":g,...u,ref:f})})});xo.displayName=qi;var So="TabsList",Co=U.forwardRef((o,f)=>{const{__scopeTabs:e,loop:a=!0,...p}=o,d=Xi(So,e),g=bo(e);return I.jsx(oo,{asChild:!0,...g,orientation:d.orientation,dir:d.dir,loop:a,children:I.jsx(Re.div,{role:"tablist","aria-orientation":d.orientation,...p,ref:f})})});Co.displayName=So;var $o="TabsTrigger",Mo=U.forwardRef((o,f)=>{const{__scopeTabs:e,value:a,disabled:p=!1,...d}=o,g=Xi($o,e),m=bo(e),c=Ao(g.baseId,a),u=ko(g.baseId,a),s=a===g.value;return I.jsx(so,{asChild:!0,...m,focusable:!p,active:s,children:I.jsx(Re.button,{type:"button",role:"tab","aria-selected":s,"aria-controls":u,"data-state":s?"active":"inactive","data-disabled":p?"":void 0,disabled:p,id:c,...d,ref:f,onMouseDown:Le(o.onMouseDown,i=>{!p&&i.button===0&&i.ctrlKey===!1?g.onValueChange(a):i.preventDefault()}),onKeyDown:Le(o.onKeyDown,i=>{[" ","Enter"].includes(i.key)&&g.onValueChange(a)}),onFocus:Le(o.onFocus,()=>{const i=g.activationMode!=="manual";!s&&!p&&i&&g.onValueChange(a)})})})});Mo.displayName=$o;var _o="TabsContent",qn=U.forwardRef((o,f)=>{const{__scopeTabs:e,value:a,forceMount:p,children:d,...g}=o,m=Xi(_o,e),c=Ao(m.baseId,a),u=ko(m.baseId,a),s=a===m.value,i=U.useRef(s);return U.useEffect(()=>{const r=requestAnimationFrame(()=>i.current=!1);return()=>cancelAnimationFrame(r)},[]),I.jsx(Kn,{present:p||s,children:({present:r})=>I.jsx(Re.div,{"data-state":s?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:u,tabIndex:0,...g,ref:f,style:{...o.style,animationDuration:i.current?"0s":void 0},children:r&&d})})});qn.displayName=_o;function Ao(o,f){return`${o}-trigger-${f}`}function ko(o,f){return`${o}-content-${f}`}var Nl=xo,Pl=Co,Fl=Mo,jl=qn;function Hl({className:o,...f}){return I.jsx(Nl,{"data-slot":"tabs",className:Oe("flex flex-col gap-2",o),...f})}function Wl({className:o,...f}){return I.jsx(Pl,{"data-slot":"tabs-list",className:Oe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",o),...f})}function li({className:o,...f}){return I.jsx(Fl,{"data-slot":"tabs-trigger",className:Oe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),...f})}function zl({className:o,...f}){return I.jsx(jl,{"data-slot":"tabs-content",className:Oe("flex-1 outline-none",o),...f})}const Bl=(o,f)=>e=>(e={...o,executor:{...o.executor,updateMode:{type:f,...f==="auto"?{interval:600}:{}}}},e),Vl=(o,f)=>e=>(console.info(o.executor),e={...o,executor:{...o.executor,engine:f}},e),Gl=(o,f)=>e=>{switch(e={...o},f){case"python":e.executor={type:"python",engine:"default",code:"",updateMode:{type:"manual"}};break;case"sql":e.executor={type:"sql",engine:"default",code:"",updateMode:{type:"manual"}};break;case"csv_data":e.executor={type:"csv_data",data:""};break;case"csv_uploader":e.executor={type:"csv_uploader",demoData:""};break}return e};function Mr(o,[f,e]){return Math.min(e,Math.max(f,o))}function Ro(o){const f=U.useRef({value:o,previous:o});return U.useMemo(()=>(f.current.value!==o&&(f.current.previous=f.current.value,f.current.value=o),f.current.previous),[o])}var Ul="VisuallyHidden",Zi=U.forwardRef((o,f)=>I.jsx(Re.span,{...o,ref:f,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...o.style}}));Zi.displayName=Ul;var vg=Zi,Yl=[" ","Enter","ArrowUp","ArrowDown"],Kl=[" ","Enter"],kn="Select",[Xn,Zn,Ql]=ol(kn),[on,yg]=An(kn,[Ql,Qn]),Jn=Qn(),[ql,Tt]=on(kn),[Xl,Zl]=on(kn),Eo=o=>{const{__scopeSelect:f,children:e,open:a,defaultOpen:p,onOpenChange:d,value:g,defaultValue:m,onValueChange:c,dir:u,name:s,autoComplete:i,disabled:r,required:t,form:n}=o,l=Jn(f),[h,v]=U.useState(null),[y,C]=U.useState(null),[$,S]=U.useState(!1),w=Ki(u),[T=!1,E]=bn({prop:a,defaultProp:p,onChange:d}),[_,k]=bn({prop:g,defaultProp:m,onChange:c}),D=U.useRef(null),A=h?n||!!h.closest("form"):!0,[R,b]=U.useState(new Set),x=Array.from(R).map(M=>M.props.value).join(";");return I.jsx(ao,{...l,children:I.jsxs(ql,{required:t,scope:f,trigger:h,onTriggerChange:v,valueNode:y,onValueNodeChange:C,valueNodeHasChildren:$,onValueNodeHasChildrenChange:S,contentId:ut(),value:_,onValueChange:k,open:T,onOpenChange:E,dir:w,triggerPointerDownPosRef:D,disabled:r,children:[I.jsx(Xn.Provider,{scope:f,children:I.jsx(Xl,{scope:o.__scopeSelect,onNativeOptionAdd:U.useCallback(M=>{b(L=>new Set(L).add(M))},[]),onNativeOptionRemove:U.useCallback(M=>{b(L=>{const O=new Set(L);return O.delete(M),O})},[]),children:e})}),A?I.jsxs(Jo,{"aria-hidden":!0,required:t,tabIndex:-1,name:s,autoComplete:i,value:_,onChange:M=>k(M.target.value),disabled:r,form:n,children:[_===void 0?I.jsx("option",{value:""}):null,Array.from(R)]},x):null]})})};Eo.displayName=kn;var To="SelectTrigger",Lo=U.forwardRef((o,f)=>{const{__scopeSelect:e,disabled:a=!1,...p}=o,d=Jn(e),g=Tt(To,e),m=g.disabled||a,c=et(f,g.onTriggerChange),u=Zn(e),s=U.useRef("touch"),[i,r,t]=es(l=>{const h=u().filter(C=>!C.disabled),v=h.find(C=>C.value===g.value),y=ts(h,l,v);y!==void 0&&g.onValueChange(y.value)}),n=l=>{m||(g.onOpenChange(!0),t()),l&&(g.triggerPointerDownPosRef.current={x:Math.round(l.pageX),y:Math.round(l.pageY)})};return I.jsx(Qi,{asChild:!0,...d,children:I.jsx(Re.button,{type:"button",role:"combobox","aria-controls":g.contentId,"aria-expanded":g.open,"aria-required":g.required,"aria-autocomplete":"none",dir:g.dir,"data-state":g.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":Zo(g.value)?"":void 0,...p,ref:c,onClick:Le(p.onClick,l=>{l.currentTarget.focus(),s.current!=="mouse"&&n(l)}),onPointerDown:Le(p.onPointerDown,l=>{s.current=l.pointerType;const h=l.target;h.hasPointerCapture(l.pointerId)&&h.releasePointerCapture(l.pointerId),l.button===0&&l.ctrlKey===!1&&l.pointerType==="mouse"&&(n(l),l.preventDefault())}),onKeyDown:Le(p.onKeyDown,l=>{const h=i.current!=="";!(l.ctrlKey||l.altKey||l.metaKey)&&l.key.length===1&&r(l.key),!(h&&l.key===" ")&&Yl.includes(l.key)&&(n(),l.preventDefault())})})})});Lo.displayName=To;var Io="SelectValue",Do=U.forwardRef((o,f)=>{const{__scopeSelect:e,className:a,style:p,children:d,placeholder:g="",...m}=o,c=Tt(Io,e),{onValueNodeHasChildrenChange:u}=c,s=d!==void 0,i=et(f,c.onValueNodeChange);return At(()=>{u(s)},[u,s]),I.jsx(Re.span,{...m,ref:i,style:{pointerEvents:"none"},children:Zo(c.value)?I.jsx(I.Fragment,{children:g}):d})});Do.displayName=Io;var Jl="SelectIcon",Oo=U.forwardRef((o,f)=>{const{__scopeSelect:e,children:a,...p}=o;return I.jsx(Re.span,{"aria-hidden":!0,...p,ref:f,children:a||"▼"})});Oo.displayName=Jl;var ec="SelectPortal",No=o=>I.jsx(lo,{asChild:!0,...o});No.displayName=ec;var Ut="SelectContent",Po=U.forwardRef((o,f)=>{const e=Tt(Ut,o.__scopeSelect),[a,p]=U.useState();if(At(()=>{p(new DocumentFragment)},[]),!e.open){const d=a;return d?io.createPortal(I.jsx(Fo,{scope:o.__scopeSelect,children:I.jsx(Xn.Slot,{scope:o.__scopeSelect,children:I.jsx("div",{children:o.children})})}),d):null}return I.jsx(jo,{...o,ref:f})});Po.displayName=Ut;var ct=10,[Fo,Lt]=on(Ut),tc="SelectContentImpl",jo=U.forwardRef((o,f)=>{const{__scopeSelect:e,position:a="item-aligned",onCloseAutoFocus:p,onEscapeKeyDown:d,onPointerDownOutside:g,side:m,sideOffset:c,align:u,alignOffset:s,arrowPadding:i,collisionBoundary:r,collisionPadding:t,sticky:n,hideWhenDetached:l,avoidCollisions:h,...v}=o,y=Tt(Ut,e),[C,$]=U.useState(null),[S,w]=U.useState(null),T=et(f,V=>$(V)),[E,_]=U.useState(null),[k,D]=U.useState(null),A=Zn(e),[R,b]=U.useState(!1),x=U.useRef(!1);U.useEffect(()=>{if(C)return co(C)},[C]),uo();const M=U.useCallback(V=>{const[Y,...K]=A().map(ne=>ne.ref.current),[q]=K.slice(-1),J=document.activeElement;for(const ne of V)if(ne===J||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===Y&&S&&(S.scrollTop=0),ne===q&&S&&(S.scrollTop=S.scrollHeight),ne==null||ne.focus(),document.activeElement!==J))return},[A,S]),L=U.useCallback(()=>M([E,C]),[M,E,C]);U.useEffect(()=>{R&&L()},[R,L]);const{onOpenChange:O,triggerPointerDownPosRef:N}=y;U.useEffect(()=>{if(C){let V={x:0,y:0};const Y=q=>{var J,ne;V={x:Math.abs(Math.round(q.pageX)-(((J=N.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(q.pageY)-(((ne=N.current)==null?void 0:ne.y)??0))}},K=q=>{V.x<=10&&V.y<=10?q.preventDefault():C.contains(q.target)||O(!1),document.removeEventListener("pointermove",Y),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",K,{capture:!0})}}},[C,O,N]),U.useEffect(()=>{const V=()=>O(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[O]);const[F,j]=es(V=>{const Y=A().filter(J=>!J.disabled),K=Y.find(J=>J.ref.current===document.activeElement),q=ts(Y,V,K);q&&setTimeout(()=>q.ref.current.focus())}),W=U.useCallback((V,Y,K)=>{const q=!x.current&&!K;(y.value!==void 0&&y.value===Y||q)&&(_(V),q&&(x.current=!0))},[y.value]),P=U.useCallback(()=>C==null?void 0:C.focus(),[C]),z=U.useCallback((V,Y,K)=>{const q=!x.current&&!K;(y.value!==void 0&&y.value===Y||q)&&D(V)},[y.value]),H=a==="popper"?Ti:Ho,G=H===Ti?{side:m,sideOffset:c,align:u,alignOffset:s,arrowPadding:i,collisionBoundary:r,collisionPadding:t,sticky:n,hideWhenDetached:l,avoidCollisions:h}:{};return I.jsx(Fo,{scope:e,content:C,viewport:S,onViewportChange:w,itemRefCallback:W,selectedItem:E,onItemLeave:P,itemTextRefCallback:z,focusSelectedItem:L,selectedItemText:k,position:a,isPositioned:R,searchRef:F,children:I.jsx(ho,{as:fo,allowPinchZoom:!0,children:I.jsx(go,{asChild:!0,trapped:y.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Le(p,V=>{var Y;(Y=y.trigger)==null||Y.focus({preventScroll:!0}),V.preventDefault()}),children:I.jsx(po,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:g,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:I.jsx(H,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:V=>V.preventDefault(),...v,...G,onPlaced:()=>b(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Le(v.onKeyDown,V=>{const Y=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!Y&&V.key.length===1&&j(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let q=A().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(V.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const J=V.target,ne=q.indexOf(J);q=q.slice(ne+1)}setTimeout(()=>M(q)),V.preventDefault()}})})})})})})});jo.displayName=tc;var nc="SelectItemAlignedPosition",Ho=U.forwardRef((o,f)=>{const{__scopeSelect:e,onPlaced:a,...p}=o,d=Tt(Ut,e),g=Lt(Ut,e),[m,c]=U.useState(null),[u,s]=U.useState(null),i=et(f,T=>s(T)),r=Zn(e),t=U.useRef(!1),n=U.useRef(!0),{viewport:l,selectedItem:h,selectedItemText:v,focusSelectedItem:y}=g,C=U.useCallback(()=>{if(d.trigger&&d.valueNode&&m&&u&&l&&h&&v){const T=d.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),_=d.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(d.dir!=="rtl"){const J=k.left-E.left,ne=_.left-J,ce=T.left-ne,se=T.width+ce,le=Math.max(se,E.width),ue=window.innerWidth-ct,ke=Mr(ne,[ct,Math.max(ct,ue-le)]);m.style.minWidth=se+"px",m.style.left=ke+"px"}else{const J=E.right-k.right,ne=window.innerWidth-_.right-J,ce=window.innerWidth-T.right-ne,se=T.width+ce,le=Math.max(se,E.width),ue=window.innerWidth-ct,ke=Mr(ne,[ct,Math.max(ct,ue-le)]);m.style.minWidth=se+"px",m.style.right=ke+"px"}const D=r(),A=window.innerHeight-ct*2,R=l.scrollHeight,b=window.getComputedStyle(u),x=parseInt(b.borderTopWidth,10),M=parseInt(b.paddingTop,10),L=parseInt(b.borderBottomWidth,10),O=parseInt(b.paddingBottom,10),N=x+M+R+O+L,F=Math.min(h.offsetHeight*5,N),j=window.getComputedStyle(l),W=parseInt(j.paddingTop,10),P=parseInt(j.paddingBottom,10),z=T.top+T.height/2-ct,H=A-z,G=h.offsetHeight/2,V=h.offsetTop+G,Y=x+M+V,K=N-Y;if(Y<=z){const J=D.length>0&&h===D[D.length-1].ref.current;m.style.bottom="0px";const ne=u.clientHeight-l.offsetTop-l.offsetHeight,ce=Math.max(H,G+(J?P:0)+ne+L),se=Y+ce;m.style.height=se+"px"}else{const J=D.length>0&&h===D[0].ref.current;m.style.top="0px";const ce=Math.max(z,x+l.offsetTop+(J?W:0)+G)+K;m.style.height=ce+"px",l.scrollTop=Y-z+l.offsetTop}m.style.margin=`${ct}px 0`,m.style.minHeight=F+"px",m.style.maxHeight=A+"px",a==null||a(),requestAnimationFrame(()=>t.current=!0)}},[r,d.trigger,d.valueNode,m,u,l,h,v,d.dir,a]);At(()=>C(),[C]);const[$,S]=U.useState();At(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const w=U.useCallback(T=>{T&&n.current===!0&&(C(),y==null||y(),n.current=!1)},[C,y]);return I.jsx(rc,{scope:e,contentWrapper:m,shouldExpandOnScrollRef:t,onScrollButtonChange:w,children:I.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:I.jsx(Re.div,{...p,ref:i,style:{boxSizing:"border-box",maxHeight:"100%",...p.style}})})})});Ho.displayName=nc;var ic="SelectPopperPosition",Ti=U.forwardRef((o,f)=>{const{__scopeSelect:e,align:a="start",collisionPadding:p=ct,...d}=o,g=Jn(e);return I.jsx(mo,{...g,...d,ref:f,align:a,collisionPadding:p,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ti.displayName=ic;var[rc,Ji]=on(Ut,{}),Li="SelectViewport",Wo=U.forwardRef((o,f)=>{const{__scopeSelect:e,nonce:a,...p}=o,d=Lt(Li,e),g=Ji(Li,e),m=et(f,d.onViewportChange),c=U.useRef(0);return I.jsxs(I.Fragment,{children:[I.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),I.jsx(Xn.Slot,{scope:e,children:I.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...p,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...p.style},onScroll:Le(p.onScroll,u=>{const s=u.currentTarget,{contentWrapper:i,shouldExpandOnScrollRef:r}=g;if(r!=null&&r.current&&i){const t=Math.abs(c.current-s.scrollTop);if(t>0){const n=window.innerHeight-ct*2,l=parseFloat(i.style.minHeight),h=parseFloat(i.style.height),v=Math.max(l,h);if(v<n){const y=v+t,C=Math.min(n,y),$=y-C;i.style.height=C+"px",i.style.bottom==="0px"&&(s.scrollTop=$>0?$:0,i.style.justifyContent="flex-end")}}}c.current=s.scrollTop})})})]})});Wo.displayName=Li;var zo="SelectGroup",[oc,sc]=on(zo),ac=U.forwardRef((o,f)=>{const{__scopeSelect:e,...a}=o,p=ut();return I.jsx(oc,{scope:e,id:p,children:I.jsx(Re.div,{role:"group","aria-labelledby":p,...a,ref:f})})});ac.displayName=zo;var Bo="SelectLabel",lc=U.forwardRef((o,f)=>{const{__scopeSelect:e,...a}=o,p=sc(Bo,e);return I.jsx(Re.div,{id:p.id,...a,ref:f})});lc.displayName=Bo;var zn="SelectItem",[cc,Vo]=on(zn),Go=U.forwardRef((o,f)=>{const{__scopeSelect:e,value:a,disabled:p=!1,textValue:d,...g}=o,m=Tt(zn,e),c=Lt(zn,e),u=m.value===a,[s,i]=U.useState(d??""),[r,t]=U.useState(!1),n=et(f,y=>{var C;return(C=c.itemRefCallback)==null?void 0:C.call(c,y,a,p)}),l=ut(),h=U.useRef("touch"),v=()=>{p||(m.onValueChange(a),m.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return I.jsx(cc,{scope:e,value:a,disabled:p,textId:l,isSelected:u,onItemTextChange:U.useCallback(y=>{i(C=>C||((y==null?void 0:y.textContent)??"").trim())},[]),children:I.jsx(Xn.ItemSlot,{scope:e,value:a,disabled:p,textValue:s,children:I.jsx(Re.div,{role:"option","aria-labelledby":l,"data-highlighted":r?"":void 0,"aria-selected":u&&r,"data-state":u?"checked":"unchecked","aria-disabled":p||void 0,"data-disabled":p?"":void 0,tabIndex:p?void 0:-1,...g,ref:n,onFocus:Le(g.onFocus,()=>t(!0)),onBlur:Le(g.onBlur,()=>t(!1)),onClick:Le(g.onClick,()=>{h.current!=="mouse"&&v()}),onPointerUp:Le(g.onPointerUp,()=>{h.current==="mouse"&&v()}),onPointerDown:Le(g.onPointerDown,y=>{h.current=y.pointerType}),onPointerMove:Le(g.onPointerMove,y=>{var C;h.current=y.pointerType,p?(C=c.onItemLeave)==null||C.call(c):h.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(g.onPointerLeave,y=>{var C;y.currentTarget===document.activeElement&&((C=c.onItemLeave)==null||C.call(c))}),onKeyDown:Le(g.onKeyDown,y=>{var $;(($=c.searchRef)==null?void 0:$.current)!==""&&y.key===" "||(Kl.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});Go.displayName=zn;var vn="SelectItemText",Uo=U.forwardRef((o,f)=>{const{__scopeSelect:e,className:a,style:p,...d}=o,g=Tt(vn,e),m=Lt(vn,e),c=Vo(vn,e),u=Zl(vn,e),[s,i]=U.useState(null),r=et(f,v=>i(v),c.onItemTextChange,v=>{var y;return(y=m.itemTextRefCallback)==null?void 0:y.call(m,v,c.value,c.disabled)}),t=s==null?void 0:s.textContent,n=U.useMemo(()=>I.jsx("option",{value:c.value,disabled:c.disabled,children:t},c.value),[c.disabled,c.value,t]),{onNativeOptionAdd:l,onNativeOptionRemove:h}=u;return At(()=>(l(n),()=>h(n)),[l,h,n]),I.jsxs(I.Fragment,{children:[I.jsx(Re.span,{id:c.textId,...d,ref:r}),c.isSelected&&g.valueNode&&!g.valueNodeHasChildren?io.createPortal(d.children,g.valueNode):null]})});Uo.displayName=vn;var Yo="SelectItemIndicator",Ko=U.forwardRef((o,f)=>{const{__scopeSelect:e,...a}=o;return Vo(Yo,e).isSelected?I.jsx(Re.span,{"aria-hidden":!0,...a,ref:f}):null});Ko.displayName=Yo;var Ii="SelectScrollUpButton",Qo=U.forwardRef((o,f)=>{const e=Lt(Ii,o.__scopeSelect),a=Ji(Ii,o.__scopeSelect),[p,d]=U.useState(!1),g=et(f,a.onScrollButtonChange);return At(()=>{if(e.viewport&&e.isPositioned){let m=function(){const u=c.scrollTop>0;d(u)};const c=e.viewport;return m(),c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[e.viewport,e.isPositioned]),p?I.jsx(Xo,{...o,ref:g,onAutoScroll:()=>{const{viewport:m,selectedItem:c}=e;m&&c&&(m.scrollTop=m.scrollTop-c.offsetHeight)}}):null});Qo.displayName=Ii;var Di="SelectScrollDownButton",qo=U.forwardRef((o,f)=>{const e=Lt(Di,o.__scopeSelect),a=Ji(Di,o.__scopeSelect),[p,d]=U.useState(!1),g=et(f,a.onScrollButtonChange);return At(()=>{if(e.viewport&&e.isPositioned){let m=function(){const u=c.scrollHeight-c.clientHeight,s=Math.ceil(c.scrollTop)<u;d(s)};const c=e.viewport;return m(),c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[e.viewport,e.isPositioned]),p?I.jsx(Xo,{...o,ref:g,onAutoScroll:()=>{const{viewport:m,selectedItem:c}=e;m&&c&&(m.scrollTop=m.scrollTop+c.offsetHeight)}}):null});qo.displayName=Di;var Xo=U.forwardRef((o,f)=>{const{__scopeSelect:e,onAutoScroll:a,...p}=o,d=Lt("SelectScrollButton",e),g=U.useRef(null),m=Zn(e),c=U.useCallback(()=>{g.current!==null&&(window.clearInterval(g.current),g.current=null)},[]);return U.useEffect(()=>()=>c(),[c]),At(()=>{var s;const u=m().find(i=>i.ref.current===document.activeElement);(s=u==null?void 0:u.ref.current)==null||s.scrollIntoView({block:"nearest"})},[m]),I.jsx(Re.div,{"aria-hidden":!0,...p,ref:f,style:{flexShrink:0,...p.style},onPointerDown:Le(p.onPointerDown,()=>{g.current===null&&(g.current=window.setInterval(a,50))}),onPointerMove:Le(p.onPointerMove,()=>{var u;(u=d.onItemLeave)==null||u.call(d),g.current===null&&(g.current=window.setInterval(a,50))}),onPointerLeave:Le(p.onPointerLeave,()=>{c()})})}),uc="SelectSeparator",hc=U.forwardRef((o,f)=>{const{__scopeSelect:e,...a}=o;return I.jsx(Re.div,{"aria-hidden":!0,...a,ref:f})});hc.displayName=uc;var Oi="SelectArrow",dc=U.forwardRef((o,f)=>{const{__scopeSelect:e,...a}=o,p=Jn(e),d=Tt(Oi,e),g=Lt(Oi,e);return d.open&&g.position==="popper"?I.jsx(vo,{...p,...a,ref:f}):null});dc.displayName=Oi;function Zo(o){return o===""||o===void 0}var Jo=U.forwardRef((o,f)=>{const{value:e,...a}=o,p=U.useRef(null),d=et(f,p),g=Ro(e);return U.useEffect(()=>{const m=p.current,c=window.HTMLSelectElement.prototype,s=Object.getOwnPropertyDescriptor(c,"value").set;if(g!==e&&s){const i=new Event("change",{bubbles:!0});s.call(m,e),m.dispatchEvent(i)}},[g,e]),I.jsx(Zi,{asChild:!0,children:I.jsx("select",{...a,ref:d,defaultValue:e})})});Jo.displayName="BubbleSelect";function es(o){const f=sl(o),e=U.useRef(""),a=U.useRef(0),p=U.useCallback(g=>{const m=e.current+g;f(m),function c(u){e.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(m)},[f]),d=U.useCallback(()=>{e.current="",window.clearTimeout(a.current)},[]);return U.useEffect(()=>()=>window.clearTimeout(a.current),[]),[e,p,d]}function ts(o,f,e){const p=f.length>1&&Array.from(f).every(u=>u===f[0])?f[0]:f,d=e?o.indexOf(e):-1;let g=fc(o,Math.max(d,0));p.length===1&&(g=g.filter(u=>u!==e));const c=g.find(u=>u.textValue.toLowerCase().startsWith(p.toLowerCase()));return c!==e?c:void 0}function fc(o,f){return o.map((e,a)=>o[(f+a)%o.length])}var gc=Eo,pc=Lo,mc=Do,vc=Oo,yc=No,wc=Po,bc=Wo,xc=Go,Sc=Uo,Cc=Ko,$c=Qo,Mc=qo;function Cn({...o}){return I.jsx(gc,{"data-slot":"select",...o})}function $n({...o}){return I.jsx(mc,{"data-slot":"select-value",...o})}function Mn({className:o,size:f="default",children:e,...a}){return I.jsxs(pc,{"data-slot":"select-trigger","data-size":f,className:Oe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),...a,children:[e,I.jsx(vc,{asChild:!0,children:I.jsx(yo,{className:"size-4 opacity-50"})})]})}function _n({className:o,children:f,position:e="popper",...a}){return I.jsx(yc,{children:I.jsxs(wc,{"data-slot":"select-content",className:Oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:e,...a,children:[I.jsx(_c,{}),I.jsx(bc,{className:Oe("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:f}),I.jsx(Ac,{})]})})}function Ze({className:o,children:f,...e}){return I.jsxs(xc,{"data-slot":"select-item",className:Oe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...e,children:[I.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:I.jsx(Cc,{children:I.jsx(wo,{className:"size-4"})})}),I.jsx(Sc,{children:f})]})}function _c({className:o,...f}){return I.jsx($c,{"data-slot":"select-scroll-up-button",className:Oe("flex cursor-default items-center justify-center py-1",o),...f,children:I.jsx(ml,{className:"size-4"})})}function Ac({className:o,...f}){return I.jsx(Mc,{"data-slot":"select-scroll-down-button",className:Oe("flex cursor-default items-center justify-center py-1",o),...f,children:I.jsx(yo,{className:"size-4"})})}var kc="Label",ns=U.forwardRef((o,f)=>I.jsx(Re.label,{...o,ref:f,onMouseDown:e=>{var p;e.target.closest("button, input, select, textarea")||((p=o.onMouseDown)==null||p.call(o,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));ns.displayName=kc;var Rc=ns;function ve({className:o,...f}){return I.jsx(Rc,{"data-slot":"label",className:Oe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",o),...f})}var er="Radio",[Ec,is]=An(er),[Tc,Lc]=Ec(er),rs=U.forwardRef((o,f)=>{const{__scopeRadio:e,name:a,checked:p=!1,required:d,disabled:g,value:m="on",onCheck:c,form:u,...s}=o,[i,r]=U.useState(null),t=et(f,h=>r(h)),n=U.useRef(!1),l=i?u||!!i.closest("form"):!0;return I.jsxs(Tc,{scope:e,checked:p,disabled:g,children:[I.jsx(Re.button,{type:"button",role:"radio","aria-checked":p,"data-state":as(p),"data-disabled":g?"":void 0,disabled:g,value:m,...s,ref:t,onClick:Le(o.onClick,h=>{p||c==null||c(),l&&(n.current=h.isPropagationStopped(),n.current||h.stopPropagation())})}),l&&I.jsx(Ic,{control:i,bubbles:!n.current,name:a,value:m,checked:p,required:d,disabled:g,form:u,style:{transform:"translateX(-100%)"}})]})});rs.displayName=er;var os="RadioIndicator",ss=U.forwardRef((o,f)=>{const{__scopeRadio:e,forceMount:a,...p}=o,d=Lc(os,e);return I.jsx(Kn,{present:a||d.checked,children:I.jsx(Re.span,{"data-state":as(d.checked),"data-disabled":d.disabled?"":void 0,...p,ref:f})})});ss.displayName=os;var Ic=o=>{const{control:f,checked:e,bubbles:a=!0,...p}=o,d=U.useRef(null),g=Ro(e),m=al(f);return U.useEffect(()=>{const c=d.current,u=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(u,"checked").set;if(g!==e&&i){const r=new Event("click",{bubbles:a});i.call(c,e),c.dispatchEvent(r)}},[g,e,a]),I.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:e,...p,tabIndex:-1,ref:d,style:{...o.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function as(o){return o?"checked":"unchecked"}var Dc=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tr="RadioGroup",[Oc,wg]=An(tr,[Yn,is]),ls=Yn(),cs=is(),[Nc,Pc]=Oc(tr),us=U.forwardRef((o,f)=>{const{__scopeRadioGroup:e,name:a,defaultValue:p,value:d,required:g=!1,disabled:m=!1,orientation:c,dir:u,loop:s=!0,onValueChange:i,...r}=o,t=ls(e),n=Ki(u),[l,h]=bn({prop:d,defaultProp:p,onChange:i});return I.jsx(Nc,{scope:e,name:a,required:g,disabled:m,value:l,onValueChange:h,children:I.jsx(oo,{asChild:!0,...t,orientation:c,dir:n,loop:s,children:I.jsx(Re.div,{role:"radiogroup","aria-required":g,"aria-orientation":c,"data-disabled":m?"":void 0,dir:n,...r,ref:f})})})});us.displayName=tr;var hs="RadioGroupItem",ds=U.forwardRef((o,f)=>{const{__scopeRadioGroup:e,disabled:a,...p}=o,d=Pc(hs,e),g=d.disabled||a,m=ls(e),c=cs(e),u=U.useRef(null),s=et(f,u),i=d.value===p.value,r=U.useRef(!1);return U.useEffect(()=>{const t=l=>{Dc.includes(l.key)&&(r.current=!0)},n=()=>r.current=!1;return document.addEventListener("keydown",t),document.addEventListener("keyup",n),()=>{document.removeEventListener("keydown",t),document.removeEventListener("keyup",n)}},[]),I.jsx(so,{asChild:!0,...m,focusable:!g,active:i,children:I.jsx(rs,{disabled:g,required:d.required,checked:i,...c,...p,name:d.name,ref:s,onCheck:()=>d.onValueChange(p.value),onKeyDown:Le(t=>{t.key==="Enter"&&t.preventDefault()}),onFocus:Le(p.onFocus,()=>{var t;r.current&&((t=u.current)==null||t.click())})})})});ds.displayName=hs;var Fc="RadioGroupIndicator",fs=U.forwardRef((o,f)=>{const{__scopeRadioGroup:e,...a}=o,p=cs(e);return I.jsx(ss,{...p,...a,ref:f})});fs.displayName=Fc;var jc=us,Hc=ds,Wc=fs;function Ni({className:o,...f}){return I.jsx(jc,{"data-slot":"radio-group",className:Oe("grid gap-3",o),...f})}function Jt({className:o,...f}){return I.jsx(Hc,{"data-slot":"radio-group-item",className:Oe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),...f,children:I.jsx(Wc,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:I.jsx(Sl,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function bg(){return{accessor:(o,f)=>typeof o=="function"?{...f,accessorFn:o}:{...f,accessorKey:o},display:o=>o,group:o=>o}}function _t(o,f){return typeof o=="function"?o(f):o}function nt(o,f){return e=>{f.setState(a=>({...a,[o]:_t(e,a[o])}))}}function ei(o){return o instanceof Function}function zc(o){return Array.isArray(o)&&o.every(f=>typeof f=="number")}function Bc(o,f){const e=[],a=p=>{p.forEach(d=>{e.push(d);const g=f(d);g!=null&&g.length&&a(g)})};return a(o),e}function ge(o,f,e){let a=[],p;return d=>{let g;e.key&&e.debug&&(g=Date.now());const m=o(d);if(!(m.length!==a.length||m.some((s,i)=>a[i]!==s)))return p;a=m;let u;if(e.key&&e.debug&&(u=Date.now()),p=f(...m),e==null||e.onChange==null||e.onChange(p),e.key&&e.debug&&e!=null&&e.debug()){const s=Math.round((Date.now()-g)*100)/100,i=Math.round((Date.now()-u)*100)/100,r=i/16,t=(n,l)=>{for(n=String(n);n.length<l;)n=" "+n;return n};console.info(`%c⏱ ${t(i,5)} /${t(s,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,e==null?void 0:e.key)}return p}}function pe(o,f,e,a){return{debug:()=>{var p;return(p=o==null?void 0:o.debugAll)!=null?p:o[f]},key:!1,onChange:a}}function Vc(o,f,e,a){const p=()=>{var g;return(g=d.getValue())!=null?g:o.options.renderFallbackValue},d={id:`${f.id}_${e.id}`,row:f,column:e,getValue:()=>f.getValue(a),renderValue:p,getContext:ge(()=>[o,e,f,d],(g,m,c,u)=>({table:g,column:m,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),pe(o.options,"debugCells"))};return o._features.forEach(g=>{g.createCell==null||g.createCell(d,e,f,o)},{}),d}function Gc(o,f,e,a){var p,d;const m={...o._getDefaultColumnDef(),...f},c=m.accessorKey;let u=(p=(d=m.id)!=null?d:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?p:typeof m.header=="string"?m.header:void 0,s;if(m.accessorFn?s=m.accessorFn:c&&(c.includes(".")?s=r=>{let t=r;for(const l of c.split(".")){var n;t=(n=t)==null?void 0:n[l]}return t}:s=r=>r[m.accessorKey]),!u)throw new Error;let i={id:`${String(u)}`,accessorFn:s,parent:a,depth:e,columnDef:m,columns:[],getFlatColumns:ge(()=>[!0],()=>{var r;return[i,...(r=i.columns)==null?void 0:r.flatMap(t=>t.getFlatColumns())]},pe(o.options,"debugColumns")),getLeafColumns:ge(()=>[o._getOrderColumnsFn()],r=>{var t;if((t=i.columns)!=null&&t.length){let n=i.columns.flatMap(l=>l.getLeafColumns());return r(n)}return[i]},pe(o.options,"debugColumns"))};for(const r of o._features)r.createColumn==null||r.createColumn(i,o);return i}const Xe="debugHeaders";function _r(o,f,e){var a;let d={id:(a=e.id)!=null?a:f.id,column:f,index:e.index,isPlaceholder:!!e.isPlaceholder,placeholderId:e.placeholderId,depth:e.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const g=[],m=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(m),g.push(c)};return m(d),g},getContext:()=>({table:o,header:d,column:f})};return o._features.forEach(g=>{g.createHeader==null||g.createHeader(d,o)}),d}const Uc={createTable:o=>{o.getHeaderGroups=ge(()=>[o.getAllColumns(),o.getVisibleLeafColumns(),o.getState().columnPinning.left,o.getState().columnPinning.right],(f,e,a,p)=>{var d,g;const m=(d=a==null?void 0:a.map(i=>e.find(r=>r.id===i)).filter(Boolean))!=null?d:[],c=(g=p==null?void 0:p.map(i=>e.find(r=>r.id===i)).filter(Boolean))!=null?g:[],u=e.filter(i=>!(a!=null&&a.includes(i.id))&&!(p!=null&&p.includes(i.id)));return Fn(f,[...m,...u,...c],o)},pe(o.options,Xe)),o.getCenterHeaderGroups=ge(()=>[o.getAllColumns(),o.getVisibleLeafColumns(),o.getState().columnPinning.left,o.getState().columnPinning.right],(f,e,a,p)=>(e=e.filter(d=>!(a!=null&&a.includes(d.id))&&!(p!=null&&p.includes(d.id))),Fn(f,e,o,"center")),pe(o.options,Xe)),o.getLeftHeaderGroups=ge(()=>[o.getAllColumns(),o.getVisibleLeafColumns(),o.getState().columnPinning.left],(f,e,a)=>{var p;const d=(p=a==null?void 0:a.map(g=>e.find(m=>m.id===g)).filter(Boolean))!=null?p:[];return Fn(f,d,o,"left")},pe(o.options,Xe)),o.getRightHeaderGroups=ge(()=>[o.getAllColumns(),o.getVisibleLeafColumns(),o.getState().columnPinning.right],(f,e,a)=>{var p;const d=(p=a==null?void 0:a.map(g=>e.find(m=>m.id===g)).filter(Boolean))!=null?p:[];return Fn(f,d,o,"right")},pe(o.options,Xe)),o.getFooterGroups=ge(()=>[o.getHeaderGroups()],f=>[...f].reverse(),pe(o.options,Xe)),o.getLeftFooterGroups=ge(()=>[o.getLeftHeaderGroups()],f=>[...f].reverse(),pe(o.options,Xe)),o.getCenterFooterGroups=ge(()=>[o.getCenterHeaderGroups()],f=>[...f].reverse(),pe(o.options,Xe)),o.getRightFooterGroups=ge(()=>[o.getRightHeaderGroups()],f=>[...f].reverse(),pe(o.options,Xe)),o.getFlatHeaders=ge(()=>[o.getHeaderGroups()],f=>f.map(e=>e.headers).flat(),pe(o.options,Xe)),o.getLeftFlatHeaders=ge(()=>[o.getLeftHeaderGroups()],f=>f.map(e=>e.headers).flat(),pe(o.options,Xe)),o.getCenterFlatHeaders=ge(()=>[o.getCenterHeaderGroups()],f=>f.map(e=>e.headers).flat(),pe(o.options,Xe)),o.getRightFlatHeaders=ge(()=>[o.getRightHeaderGroups()],f=>f.map(e=>e.headers).flat(),pe(o.options,Xe)),o.getCenterLeafHeaders=ge(()=>[o.getCenterFlatHeaders()],f=>f.filter(e=>{var a;return!((a=e.subHeaders)!=null&&a.length)}),pe(o.options,Xe)),o.getLeftLeafHeaders=ge(()=>[o.getLeftFlatHeaders()],f=>f.filter(e=>{var a;return!((a=e.subHeaders)!=null&&a.length)}),pe(o.options,Xe)),o.getRightLeafHeaders=ge(()=>[o.getRightFlatHeaders()],f=>f.filter(e=>{var a;return!((a=e.subHeaders)!=null&&a.length)}),pe(o.options,Xe)),o.getLeafHeaders=ge(()=>[o.getLeftHeaderGroups(),o.getCenterHeaderGroups(),o.getRightHeaderGroups()],(f,e,a)=>{var p,d,g,m,c,u;return[...(p=(d=f[0])==null?void 0:d.headers)!=null?p:[],...(g=(m=e[0])==null?void 0:m.headers)!=null?g:[],...(c=(u=a[0])==null?void 0:u.headers)!=null?c:[]].map(s=>s.getLeafHeaders()).flat()},pe(o.options,Xe))}};function Fn(o,f,e,a){var p,d;let g=0;const m=function(r,t){t===void 0&&(t=1),g=Math.max(g,t),r.filter(n=>n.getIsVisible()).forEach(n=>{var l;(l=n.columns)!=null&&l.length&&m(n.columns,t+1)},0)};m(o);let c=[];const u=(r,t)=>{const n={depth:t,id:[a,`${t}`].filter(Boolean).join("_"),headers:[]},l=[];r.forEach(h=>{const v=[...l].reverse()[0],y=h.column.depth===n.depth;let C,$=!1;if(y&&h.column.parent?C=h.column.parent:(C=h.column,$=!0),v&&(v==null?void 0:v.column)===C)v.subHeaders.push(h);else{const S=_r(e,C,{id:[a,t,C.id,h==null?void 0:h.id].filter(Boolean).join("_"),isPlaceholder:$,placeholderId:$?`${l.filter(w=>w.column===C).length}`:void 0,depth:t,index:l.length});S.subHeaders.push(h),l.push(S)}n.headers.push(h),h.headerGroup=n}),c.push(n),t>0&&u(l,t-1)},s=f.map((r,t)=>_r(e,r,{depth:g,index:t}));u(s,g-1),c.reverse();const i=r=>r.filter(n=>n.column.getIsVisible()).map(n=>{let l=0,h=0,v=[0];n.subHeaders&&n.subHeaders.length?(v=[],i(n.subHeaders).forEach(C=>{let{colSpan:$,rowSpan:S}=C;l+=$,v.push(S)})):l=1;const y=Math.min(...v);return h=h+y,n.colSpan=l,n.rowSpan=h,{colSpan:l,rowSpan:h}});return i((p=(d=c[0])==null?void 0:d.headers)!=null?p:[]),c}const Yc=(o,f,e,a,p,d,g)=>{let m={id:f,index:a,original:e,depth:p,parentId:g,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(m._valuesCache.hasOwnProperty(c))return m._valuesCache[c];const u=o.getColumn(c);if(u!=null&&u.accessorFn)return m._valuesCache[c]=u.accessorFn(m.original,a),m._valuesCache[c]},getUniqueValues:c=>{if(m._uniqueValuesCache.hasOwnProperty(c))return m._uniqueValuesCache[c];const u=o.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(m._uniqueValuesCache[c]=u.columnDef.getUniqueValues(m.original,a),m._uniqueValuesCache[c]):(m._uniqueValuesCache[c]=[m.getValue(c)],m._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=m.getValue(c))!=null?u:o.options.renderFallbackValue},subRows:[],getLeafRows:()=>Bc(m.subRows,c=>c.subRows),getParentRow:()=>m.parentId?o.getRow(m.parentId,!0):void 0,getParentRows:()=>{let c=[],u=m;for(;;){const s=u.getParentRow();if(!s)break;c.push(s),u=s}return c.reverse()},getAllCells:ge(()=>[o.getAllLeafColumns()],c=>c.map(u=>Vc(o,m,u,u.id)),pe(o.options,"debugRows")),_getAllCellsByColumnId:ge(()=>[m.getAllCells()],c=>c.reduce((u,s)=>(u[s.column.id]=s,u),{}),pe(o.options,"debugRows"))};for(let c=0;c<o._features.length;c++){const u=o._features[c];u==null||u.createRow==null||u.createRow(m,o)}return m},Kc={createColumn:(o,f)=>{o._getFacetedRowModel=f.options.getFacetedRowModel&&f.options.getFacetedRowModel(f,o.id),o.getFacetedRowModel=()=>o._getFacetedRowModel?o._getFacetedRowModel():f.getPreFilteredRowModel(),o._getFacetedUniqueValues=f.options.getFacetedUniqueValues&&f.options.getFacetedUniqueValues(f,o.id),o.getFacetedUniqueValues=()=>o._getFacetedUniqueValues?o._getFacetedUniqueValues():new Map,o._getFacetedMinMaxValues=f.options.getFacetedMinMaxValues&&f.options.getFacetedMinMaxValues(f,o.id),o.getFacetedMinMaxValues=()=>{if(o._getFacetedMinMaxValues)return o._getFacetedMinMaxValues()}}},gs=(o,f,e)=>{var a,p;const d=e==null||(a=e.toString())==null?void 0:a.toLowerCase();return!!(!((p=o.getValue(f))==null||(p=p.toString())==null||(p=p.toLowerCase())==null)&&p.includes(d))};gs.autoRemove=o=>ht(o);const ps=(o,f,e)=>{var a;return!!(!((a=o.getValue(f))==null||(a=a.toString())==null)&&a.includes(e))};ps.autoRemove=o=>ht(o);const ms=(o,f,e)=>{var a;return((a=o.getValue(f))==null||(a=a.toString())==null?void 0:a.toLowerCase())===(e==null?void 0:e.toLowerCase())};ms.autoRemove=o=>ht(o);const vs=(o,f,e)=>{var a;return(a=o.getValue(f))==null?void 0:a.includes(e)};vs.autoRemove=o=>ht(o);const ys=(o,f,e)=>!e.some(a=>{var p;return!((p=o.getValue(f))!=null&&p.includes(a))});ys.autoRemove=o=>ht(o)||!(o!=null&&o.length);const ws=(o,f,e)=>e.some(a=>{var p;return(p=o.getValue(f))==null?void 0:p.includes(a)});ws.autoRemove=o=>ht(o)||!(o!=null&&o.length);const bs=(o,f,e)=>o.getValue(f)===e;bs.autoRemove=o=>ht(o);const xs=(o,f,e)=>o.getValue(f)==e;xs.autoRemove=o=>ht(o);const nr=(o,f,e)=>{let[a,p]=e;const d=o.getValue(f);return d>=a&&d<=p};nr.resolveFilterValue=o=>{let[f,e]=o,a=typeof f!="number"?parseFloat(f):f,p=typeof e!="number"?parseFloat(e):e,d=f===null||Number.isNaN(a)?-1/0:a,g=e===null||Number.isNaN(p)?1/0:p;if(d>g){const m=d;d=g,g=m}return[d,g]};nr.autoRemove=o=>ht(o)||ht(o[0])&&ht(o[1]);const vt={includesString:gs,includesStringSensitive:ps,equalsString:ms,arrIncludes:vs,arrIncludesAll:ys,arrIncludesSome:ws,equals:bs,weakEquals:xs,inNumberRange:nr};function ht(o){return o==null||o===""}const Qc={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:o=>({columnFilters:[],...o}),getDefaultOptions:o=>({onColumnFiltersChange:nt("columnFilters",o),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(o,f)=>{o.getAutoFilterFn=()=>{const e=f.getCoreRowModel().flatRows[0],a=e==null?void 0:e.getValue(o.id);return typeof a=="string"?vt.includesString:typeof a=="number"?vt.inNumberRange:typeof a=="boolean"||a!==null&&typeof a=="object"?vt.equals:Array.isArray(a)?vt.arrIncludes:vt.weakEquals},o.getFilterFn=()=>{var e,a;return ei(o.columnDef.filterFn)?o.columnDef.filterFn:o.columnDef.filterFn==="auto"?o.getAutoFilterFn():(e=(a=f.options.filterFns)==null?void 0:a[o.columnDef.filterFn])!=null?e:vt[o.columnDef.filterFn]},o.getCanFilter=()=>{var e,a,p;return((e=o.columnDef.enableColumnFilter)!=null?e:!0)&&((a=f.options.enableColumnFilters)!=null?a:!0)&&((p=f.options.enableFilters)!=null?p:!0)&&!!o.accessorFn},o.getIsFiltered=()=>o.getFilterIndex()>-1,o.getFilterValue=()=>{var e;return(e=f.getState().columnFilters)==null||(e=e.find(a=>a.id===o.id))==null?void 0:e.value},o.getFilterIndex=()=>{var e,a;return(e=(a=f.getState().columnFilters)==null?void 0:a.findIndex(p=>p.id===o.id))!=null?e:-1},o.setFilterValue=e=>{f.setColumnFilters(a=>{const p=o.getFilterFn(),d=a==null?void 0:a.find(s=>s.id===o.id),g=_t(e,d?d.value:void 0);if(Ar(p,g,o)){var m;return(m=a==null?void 0:a.filter(s=>s.id!==o.id))!=null?m:[]}const c={id:o.id,value:g};if(d){var u;return(u=a==null?void 0:a.map(s=>s.id===o.id?c:s))!=null?u:[]}return a!=null&&a.length?[...a,c]:[c]})}},createRow:(o,f)=>{o.columnFilters={},o.columnFiltersMeta={}},createTable:o=>{o.setColumnFilters=f=>{const e=o.getAllLeafColumns(),a=p=>{var d;return(d=_t(f,p))==null?void 0:d.filter(g=>{const m=e.find(c=>c.id===g.id);if(m){const c=m.getFilterFn();if(Ar(c,g.value,m))return!1}return!0})};o.options.onColumnFiltersChange==null||o.options.onColumnFiltersChange(a)},o.resetColumnFilters=f=>{var e,a;o.setColumnFilters(f?[]:(e=(a=o.initialState)==null?void 0:a.columnFilters)!=null?e:[])},o.getPreFilteredRowModel=()=>o.getCoreRowModel(),o.getFilteredRowModel=()=>(!o._getFilteredRowModel&&o.options.getFilteredRowModel&&(o._getFilteredRowModel=o.options.getFilteredRowModel(o)),o.options.manualFiltering||!o._getFilteredRowModel?o.getPreFilteredRowModel():o._getFilteredRowModel())}};function Ar(o,f,e){return(o&&o.autoRemove?o.autoRemove(f,e):!1)||typeof f>"u"||typeof f=="string"&&!f}const qc=(o,f,e)=>e.reduce((a,p)=>{const d=p.getValue(o);return a+(typeof d=="number"?d:0)},0),Xc=(o,f,e)=>{let a;return e.forEach(p=>{const d=p.getValue(o);d!=null&&(a>d||a===void 0&&d>=d)&&(a=d)}),a},Zc=(o,f,e)=>{let a;return e.forEach(p=>{const d=p.getValue(o);d!=null&&(a<d||a===void 0&&d>=d)&&(a=d)}),a},Jc=(o,f,e)=>{let a,p;return e.forEach(d=>{const g=d.getValue(o);g!=null&&(a===void 0?g>=g&&(a=p=g):(a>g&&(a=g),p<g&&(p=g)))}),[a,p]},eu=(o,f)=>{let e=0,a=0;if(f.forEach(p=>{let d=p.getValue(o);d!=null&&(d=+d)>=d&&(++e,a+=d)}),e)return a/e},tu=(o,f)=>{if(!f.length)return;const e=f.map(d=>d.getValue(o));if(!zc(e))return;if(e.length===1)return e[0];const a=Math.floor(e.length/2),p=e.sort((d,g)=>d-g);return e.length%2!==0?p[a]:(p[a-1]+p[a])/2},nu=(o,f)=>Array.from(new Set(f.map(e=>e.getValue(o))).values()),iu=(o,f)=>new Set(f.map(e=>e.getValue(o))).size,ru=(o,f)=>f.length,ci={sum:qc,min:Xc,max:Zc,extent:Jc,mean:eu,median:tu,unique:nu,uniqueCount:iu,count:ru},ou={getDefaultColumnDef:()=>({aggregatedCell:o=>{var f,e;return(f=(e=o.getValue())==null||e.toString==null?void 0:e.toString())!=null?f:null},aggregationFn:"auto"}),getInitialState:o=>({grouping:[],...o}),getDefaultOptions:o=>({onGroupingChange:nt("grouping",o),groupedColumnMode:"reorder"}),createColumn:(o,f)=>{o.toggleGrouping=()=>{f.setGrouping(e=>e!=null&&e.includes(o.id)?e.filter(a=>a!==o.id):[...e??[],o.id])},o.getCanGroup=()=>{var e,a;return((e=o.columnDef.enableGrouping)!=null?e:!0)&&((a=f.options.enableGrouping)!=null?a:!0)&&(!!o.accessorFn||!!o.columnDef.getGroupingValue)},o.getIsGrouped=()=>{var e;return(e=f.getState().grouping)==null?void 0:e.includes(o.id)},o.getGroupedIndex=()=>{var e;return(e=f.getState().grouping)==null?void 0:e.indexOf(o.id)},o.getToggleGroupingHandler=()=>{const e=o.getCanGroup();return()=>{e&&o.toggleGrouping()}},o.getAutoAggregationFn=()=>{const e=f.getCoreRowModel().flatRows[0],a=e==null?void 0:e.getValue(o.id);if(typeof a=="number")return ci.sum;if(Object.prototype.toString.call(a)==="[object Date]")return ci.extent},o.getAggregationFn=()=>{var e,a;if(!o)throw new Error;return ei(o.columnDef.aggregationFn)?o.columnDef.aggregationFn:o.columnDef.aggregationFn==="auto"?o.getAutoAggregationFn():(e=(a=f.options.aggregationFns)==null?void 0:a[o.columnDef.aggregationFn])!=null?e:ci[o.columnDef.aggregationFn]}},createTable:o=>{o.setGrouping=f=>o.options.onGroupingChange==null?void 0:o.options.onGroupingChange(f),o.resetGrouping=f=>{var e,a;o.setGrouping(f?[]:(e=(a=o.initialState)==null?void 0:a.grouping)!=null?e:[])},o.getPreGroupedRowModel=()=>o.getFilteredRowModel(),o.getGroupedRowModel=()=>(!o._getGroupedRowModel&&o.options.getGroupedRowModel&&(o._getGroupedRowModel=o.options.getGroupedRowModel(o)),o.options.manualGrouping||!o._getGroupedRowModel?o.getPreGroupedRowModel():o._getGroupedRowModel())},createRow:(o,f)=>{o.getIsGrouped=()=>!!o.groupingColumnId,o.getGroupingValue=e=>{if(o._groupingValuesCache.hasOwnProperty(e))return o._groupingValuesCache[e];const a=f.getColumn(e);return a!=null&&a.columnDef.getGroupingValue?(o._groupingValuesCache[e]=a.columnDef.getGroupingValue(o.original),o._groupingValuesCache[e]):o.getValue(e)},o._groupingValuesCache={}},createCell:(o,f,e,a)=>{o.getIsGrouped=()=>f.getIsGrouped()&&f.id===e.groupingColumnId,o.getIsPlaceholder=()=>!o.getIsGrouped()&&f.getIsGrouped(),o.getIsAggregated=()=>{var p;return!o.getIsGrouped()&&!o.getIsPlaceholder()&&!!((p=e.subRows)!=null&&p.length)}}};function su(o,f,e){if(!(f!=null&&f.length)||!e)return o;const a=o.filter(d=>!f.includes(d.id));return e==="remove"?a:[...f.map(d=>o.find(g=>g.id===d)).filter(Boolean),...a]}const au={getInitialState:o=>({columnOrder:[],...o}),getDefaultOptions:o=>({onColumnOrderChange:nt("columnOrder",o)}),createColumn:(o,f)=>{o.getIndex=ge(e=>[wn(f,e)],e=>e.findIndex(a=>a.id===o.id),pe(f.options,"debugColumns")),o.getIsFirstColumn=e=>{var a;return((a=wn(f,e)[0])==null?void 0:a.id)===o.id},o.getIsLastColumn=e=>{var a;const p=wn(f,e);return((a=p[p.length-1])==null?void 0:a.id)===o.id}},createTable:o=>{o.setColumnOrder=f=>o.options.onColumnOrderChange==null?void 0:o.options.onColumnOrderChange(f),o.resetColumnOrder=f=>{var e;o.setColumnOrder(f?[]:(e=o.initialState.columnOrder)!=null?e:[])},o._getOrderColumnsFn=ge(()=>[o.getState().columnOrder,o.getState().grouping,o.options.groupedColumnMode],(f,e,a)=>p=>{let d=[];if(!(f!=null&&f.length))d=p;else{const g=[...f],m=[...p];for(;m.length&&g.length;){const c=g.shift(),u=m.findIndex(s=>s.id===c);u>-1&&d.push(m.splice(u,1)[0])}d=[...d,...m]}return su(d,e,a)},pe(o.options,"debugTable"))}},ui=()=>({left:[],right:[]}),lu={getInitialState:o=>({columnPinning:ui(),...o}),getDefaultOptions:o=>({onColumnPinningChange:nt("columnPinning",o)}),createColumn:(o,f)=>{o.pin=e=>{const a=o.getLeafColumns().map(p=>p.id).filter(Boolean);f.setColumnPinning(p=>{var d,g;if(e==="right"){var m,c;return{left:((m=p==null?void 0:p.left)!=null?m:[]).filter(i=>!(a!=null&&a.includes(i))),right:[...((c=p==null?void 0:p.right)!=null?c:[]).filter(i=>!(a!=null&&a.includes(i))),...a]}}if(e==="left"){var u,s;return{left:[...((u=p==null?void 0:p.left)!=null?u:[]).filter(i=>!(a!=null&&a.includes(i))),...a],right:((s=p==null?void 0:p.right)!=null?s:[]).filter(i=>!(a!=null&&a.includes(i)))}}return{left:((d=p==null?void 0:p.left)!=null?d:[]).filter(i=>!(a!=null&&a.includes(i))),right:((g=p==null?void 0:p.right)!=null?g:[]).filter(i=>!(a!=null&&a.includes(i)))}})},o.getCanPin=()=>o.getLeafColumns().some(a=>{var p,d,g;return((p=a.columnDef.enablePinning)!=null?p:!0)&&((d=(g=f.options.enableColumnPinning)!=null?g:f.options.enablePinning)!=null?d:!0)}),o.getIsPinned=()=>{const e=o.getLeafColumns().map(m=>m.id),{left:a,right:p}=f.getState().columnPinning,d=e.some(m=>a==null?void 0:a.includes(m)),g=e.some(m=>p==null?void 0:p.includes(m));return d?"left":g?"right":!1},o.getPinnedIndex=()=>{var e,a;const p=o.getIsPinned();return p?(e=(a=f.getState().columnPinning)==null||(a=a[p])==null?void 0:a.indexOf(o.id))!=null?e:-1:0}},createRow:(o,f)=>{o.getCenterVisibleCells=ge(()=>[o._getAllVisibleCells(),f.getState().columnPinning.left,f.getState().columnPinning.right],(e,a,p)=>{const d=[...a??[],...p??[]];return e.filter(g=>!d.includes(g.column.id))},pe(f.options,"debugRows")),o.getLeftVisibleCells=ge(()=>[o._getAllVisibleCells(),f.getState().columnPinning.left],(e,a)=>(a??[]).map(d=>e.find(g=>g.column.id===d)).filter(Boolean).map(d=>({...d,position:"left"})),pe(f.options,"debugRows")),o.getRightVisibleCells=ge(()=>[o._getAllVisibleCells(),f.getState().columnPinning.right],(e,a)=>(a??[]).map(d=>e.find(g=>g.column.id===d)).filter(Boolean).map(d=>({...d,position:"right"})),pe(f.options,"debugRows"))},createTable:o=>{o.setColumnPinning=f=>o.options.onColumnPinningChange==null?void 0:o.options.onColumnPinningChange(f),o.resetColumnPinning=f=>{var e,a;return o.setColumnPinning(f?ui():(e=(a=o.initialState)==null?void 0:a.columnPinning)!=null?e:ui())},o.getIsSomeColumnsPinned=f=>{var e;const a=o.getState().columnPinning;if(!f){var p,d;return!!((p=a.left)!=null&&p.length||(d=a.right)!=null&&d.length)}return!!((e=a[f])!=null&&e.length)},o.getLeftLeafColumns=ge(()=>[o.getAllLeafColumns(),o.getState().columnPinning.left],(f,e)=>(e??[]).map(a=>f.find(p=>p.id===a)).filter(Boolean),pe(o.options,"debugColumns")),o.getRightLeafColumns=ge(()=>[o.getAllLeafColumns(),o.getState().columnPinning.right],(f,e)=>(e??[]).map(a=>f.find(p=>p.id===a)).filter(Boolean),pe(o.options,"debugColumns")),o.getCenterLeafColumns=ge(()=>[o.getAllLeafColumns(),o.getState().columnPinning.left,o.getState().columnPinning.right],(f,e,a)=>{const p=[...e??[],...a??[]];return f.filter(d=>!p.includes(d.id))},pe(o.options,"debugColumns"))}},jn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},hi=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),cu={getDefaultColumnDef:()=>jn,getInitialState:o=>({columnSizing:{},columnSizingInfo:hi(),...o}),getDefaultOptions:o=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:nt("columnSizing",o),onColumnSizingInfoChange:nt("columnSizingInfo",o)}),createColumn:(o,f)=>{o.getSize=()=>{var e,a,p;const d=f.getState().columnSizing[o.id];return Math.min(Math.max((e=o.columnDef.minSize)!=null?e:jn.minSize,(a=d??o.columnDef.size)!=null?a:jn.size),(p=o.columnDef.maxSize)!=null?p:jn.maxSize)},o.getStart=ge(e=>[e,wn(f,e),f.getState().columnSizing],(e,a)=>a.slice(0,o.getIndex(e)).reduce((p,d)=>p+d.getSize(),0),pe(f.options,"debugColumns")),o.getAfter=ge(e=>[e,wn(f,e),f.getState().columnSizing],(e,a)=>a.slice(o.getIndex(e)+1).reduce((p,d)=>p+d.getSize(),0),pe(f.options,"debugColumns")),o.resetSize=()=>{f.setColumnSizing(e=>{let{[o.id]:a,...p}=e;return p})},o.getCanResize=()=>{var e,a;return((e=o.columnDef.enableResizing)!=null?e:!0)&&((a=f.options.enableColumnResizing)!=null?a:!0)},o.getIsResizing=()=>f.getState().columnSizingInfo.isResizingColumn===o.id},createHeader:(o,f)=>{o.getSize=()=>{let e=0;const a=p=>{if(p.subHeaders.length)p.subHeaders.forEach(a);else{var d;e+=(d=p.column.getSize())!=null?d:0}};return a(o),e},o.getStart=()=>{if(o.index>0){const e=o.headerGroup.headers[o.index-1];return e.getStart()+e.getSize()}return 0},o.getResizeHandler=e=>{const a=f.getColumn(o.column.id),p=a==null?void 0:a.getCanResize();return d=>{if(!a||!p||(d.persist==null||d.persist(),di(d)&&d.touches&&d.touches.length>1))return;const g=o.getSize(),m=o?o.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[a.id,a.getSize()]],c=di(d)?Math.round(d.touches[0].clientX):d.clientX,u={},s=(v,y)=>{typeof y=="number"&&(f.setColumnSizingInfo(C=>{var $,S;const w=f.options.columnResizeDirection==="rtl"?-1:1,T=(y-(($=C==null?void 0:C.startOffset)!=null?$:0))*w,E=Math.max(T/((S=C==null?void 0:C.startSize)!=null?S:0),-.999999);return C.columnSizingStart.forEach(_=>{let[k,D]=_;u[k]=Math.round(Math.max(D+D*E,0)*100)/100}),{...C,deltaOffset:T,deltaPercentage:E}}),(f.options.columnResizeMode==="onChange"||v==="end")&&f.setColumnSizing(C=>({...C,...u})))},i=v=>s("move",v),r=v=>{s("end",v),f.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},t=e||typeof document<"u"?document:null,n={moveHandler:v=>i(v.clientX),upHandler:v=>{t==null||t.removeEventListener("mousemove",n.moveHandler),t==null||t.removeEventListener("mouseup",n.upHandler),r(v.clientX)}},l={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),i(v.touches[0].clientX),!1),upHandler:v=>{var y;t==null||t.removeEventListener("touchmove",l.moveHandler),t==null||t.removeEventListener("touchend",l.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),r((y=v.touches[0])==null?void 0:y.clientX)}},h=uu()?{passive:!1}:!1;di(d)?(t==null||t.addEventListener("touchmove",l.moveHandler,h),t==null||t.addEventListener("touchend",l.upHandler,h)):(t==null||t.addEventListener("mousemove",n.moveHandler,h),t==null||t.addEventListener("mouseup",n.upHandler,h)),f.setColumnSizingInfo(v=>({...v,startOffset:c,startSize:g,deltaOffset:0,deltaPercentage:0,columnSizingStart:m,isResizingColumn:a.id}))}}},createTable:o=>{o.setColumnSizing=f=>o.options.onColumnSizingChange==null?void 0:o.options.onColumnSizingChange(f),o.setColumnSizingInfo=f=>o.options.onColumnSizingInfoChange==null?void 0:o.options.onColumnSizingInfoChange(f),o.resetColumnSizing=f=>{var e;o.setColumnSizing(f?{}:(e=o.initialState.columnSizing)!=null?e:{})},o.resetHeaderSizeInfo=f=>{var e;o.setColumnSizingInfo(f?hi():(e=o.initialState.columnSizingInfo)!=null?e:hi())},o.getTotalSize=()=>{var f,e;return(f=(e=o.getHeaderGroups()[0])==null?void 0:e.headers.reduce((a,p)=>a+p.getSize(),0))!=null?f:0},o.getLeftTotalSize=()=>{var f,e;return(f=(e=o.getLeftHeaderGroups()[0])==null?void 0:e.headers.reduce((a,p)=>a+p.getSize(),0))!=null?f:0},o.getCenterTotalSize=()=>{var f,e;return(f=(e=o.getCenterHeaderGroups()[0])==null?void 0:e.headers.reduce((a,p)=>a+p.getSize(),0))!=null?f:0},o.getRightTotalSize=()=>{var f,e;return(f=(e=o.getRightHeaderGroups()[0])==null?void 0:e.headers.reduce((a,p)=>a+p.getSize(),0))!=null?f:0}}};let Hn=null;function uu(){if(typeof Hn=="boolean")return Hn;let o=!1;try{const f={get passive(){return o=!0,!1}},e=()=>{};window.addEventListener("test",e,f),window.removeEventListener("test",e)}catch{o=!1}return Hn=o,Hn}function di(o){return o.type==="touchstart"}const hu={getInitialState:o=>({columnVisibility:{},...o}),getDefaultOptions:o=>({onColumnVisibilityChange:nt("columnVisibility",o)}),createColumn:(o,f)=>{o.toggleVisibility=e=>{o.getCanHide()&&f.setColumnVisibility(a=>({...a,[o.id]:e??!o.getIsVisible()}))},o.getIsVisible=()=>{var e,a;const p=o.columns;return(e=p.length?p.some(d=>d.getIsVisible()):(a=f.getState().columnVisibility)==null?void 0:a[o.id])!=null?e:!0},o.getCanHide=()=>{var e,a;return((e=o.columnDef.enableHiding)!=null?e:!0)&&((a=f.options.enableHiding)!=null?a:!0)},o.getToggleVisibilityHandler=()=>e=>{o.toggleVisibility==null||o.toggleVisibility(e.target.checked)}},createRow:(o,f)=>{o._getAllVisibleCells=ge(()=>[o.getAllCells(),f.getState().columnVisibility],e=>e.filter(a=>a.column.getIsVisible()),pe(f.options,"debugRows")),o.getVisibleCells=ge(()=>[o.getLeftVisibleCells(),o.getCenterVisibleCells(),o.getRightVisibleCells()],(e,a,p)=>[...e,...a,...p],pe(f.options,"debugRows"))},createTable:o=>{const f=(e,a)=>ge(()=>[a(),a().filter(p=>p.getIsVisible()).map(p=>p.id).join("_")],p=>p.filter(d=>d.getIsVisible==null?void 0:d.getIsVisible()),pe(o.options,"debugColumns"));o.getVisibleFlatColumns=f("getVisibleFlatColumns",()=>o.getAllFlatColumns()),o.getVisibleLeafColumns=f("getVisibleLeafColumns",()=>o.getAllLeafColumns()),o.getLeftVisibleLeafColumns=f("getLeftVisibleLeafColumns",()=>o.getLeftLeafColumns()),o.getRightVisibleLeafColumns=f("getRightVisibleLeafColumns",()=>o.getRightLeafColumns()),o.getCenterVisibleLeafColumns=f("getCenterVisibleLeafColumns",()=>o.getCenterLeafColumns()),o.setColumnVisibility=e=>o.options.onColumnVisibilityChange==null?void 0:o.options.onColumnVisibilityChange(e),o.resetColumnVisibility=e=>{var a;o.setColumnVisibility(e?{}:(a=o.initialState.columnVisibility)!=null?a:{})},o.toggleAllColumnsVisible=e=>{var a;e=(a=e)!=null?a:!o.getIsAllColumnsVisible(),o.setColumnVisibility(o.getAllLeafColumns().reduce((p,d)=>({...p,[d.id]:e||!(d.getCanHide!=null&&d.getCanHide())}),{}))},o.getIsAllColumnsVisible=()=>!o.getAllLeafColumns().some(e=>!(e.getIsVisible!=null&&e.getIsVisible())),o.getIsSomeColumnsVisible=()=>o.getAllLeafColumns().some(e=>e.getIsVisible==null?void 0:e.getIsVisible()),o.getToggleAllColumnsVisibilityHandler=()=>e=>{var a;o.toggleAllColumnsVisible((a=e.target)==null?void 0:a.checked)}}};function wn(o,f){return f?f==="center"?o.getCenterVisibleLeafColumns():f==="left"?o.getLeftVisibleLeafColumns():o.getRightVisibleLeafColumns():o.getVisibleLeafColumns()}const du={createTable:o=>{o._getGlobalFacetedRowModel=o.options.getFacetedRowModel&&o.options.getFacetedRowModel(o,"__global__"),o.getGlobalFacetedRowModel=()=>o.options.manualFiltering||!o._getGlobalFacetedRowModel?o.getPreFilteredRowModel():o._getGlobalFacetedRowModel(),o._getGlobalFacetedUniqueValues=o.options.getFacetedUniqueValues&&o.options.getFacetedUniqueValues(o,"__global__"),o.getGlobalFacetedUniqueValues=()=>o._getGlobalFacetedUniqueValues?o._getGlobalFacetedUniqueValues():new Map,o._getGlobalFacetedMinMaxValues=o.options.getFacetedMinMaxValues&&o.options.getFacetedMinMaxValues(o,"__global__"),o.getGlobalFacetedMinMaxValues=()=>{if(o._getGlobalFacetedMinMaxValues)return o._getGlobalFacetedMinMaxValues()}}},fu={getInitialState:o=>({globalFilter:void 0,...o}),getDefaultOptions:o=>({onGlobalFilterChange:nt("globalFilter",o),globalFilterFn:"auto",getColumnCanGlobalFilter:f=>{var e;const a=(e=o.getCoreRowModel().flatRows[0])==null||(e=e._getAllCellsByColumnId()[f.id])==null?void 0:e.getValue();return typeof a=="string"||typeof a=="number"}}),createColumn:(o,f)=>{o.getCanGlobalFilter=()=>{var e,a,p,d;return((e=o.columnDef.enableGlobalFilter)!=null?e:!0)&&((a=f.options.enableGlobalFilter)!=null?a:!0)&&((p=f.options.enableFilters)!=null?p:!0)&&((d=f.options.getColumnCanGlobalFilter==null?void 0:f.options.getColumnCanGlobalFilter(o))!=null?d:!0)&&!!o.accessorFn}},createTable:o=>{o.getGlobalAutoFilterFn=()=>vt.includesString,o.getGlobalFilterFn=()=>{var f,e;const{globalFilterFn:a}=o.options;return ei(a)?a:a==="auto"?o.getGlobalAutoFilterFn():(f=(e=o.options.filterFns)==null?void 0:e[a])!=null?f:vt[a]},o.setGlobalFilter=f=>{o.options.onGlobalFilterChange==null||o.options.onGlobalFilterChange(f)},o.resetGlobalFilter=f=>{o.setGlobalFilter(f?void 0:o.initialState.globalFilter)}}},gu={getInitialState:o=>({expanded:{},...o}),getDefaultOptions:o=>({onExpandedChange:nt("expanded",o),paginateExpandedRows:!0}),createTable:o=>{let f=!1,e=!1;o._autoResetExpanded=()=>{var a,p;if(!f){o._queue(()=>{f=!0});return}if((a=(p=o.options.autoResetAll)!=null?p:o.options.autoResetExpanded)!=null?a:!o.options.manualExpanding){if(e)return;e=!0,o._queue(()=>{o.resetExpanded(),e=!1})}},o.setExpanded=a=>o.options.onExpandedChange==null?void 0:o.options.onExpandedChange(a),o.toggleAllRowsExpanded=a=>{a??!o.getIsAllRowsExpanded()?o.setExpanded(!0):o.setExpanded({})},o.resetExpanded=a=>{var p,d;o.setExpanded(a?{}:(p=(d=o.initialState)==null?void 0:d.expanded)!=null?p:{})},o.getCanSomeRowsExpand=()=>o.getPrePaginationRowModel().flatRows.some(a=>a.getCanExpand()),o.getToggleAllRowsExpandedHandler=()=>a=>{a.persist==null||a.persist(),o.toggleAllRowsExpanded()},o.getIsSomeRowsExpanded=()=>{const a=o.getState().expanded;return a===!0||Object.values(a).some(Boolean)},o.getIsAllRowsExpanded=()=>{const a=o.getState().expanded;return typeof a=="boolean"?a===!0:!(!Object.keys(a).length||o.getRowModel().flatRows.some(p=>!p.getIsExpanded()))},o.getExpandedDepth=()=>{let a=0;return(o.getState().expanded===!0?Object.keys(o.getRowModel().rowsById):Object.keys(o.getState().expanded)).forEach(d=>{const g=d.split(".");a=Math.max(a,g.length)}),a},o.getPreExpandedRowModel=()=>o.getSortedRowModel(),o.getExpandedRowModel=()=>(!o._getExpandedRowModel&&o.options.getExpandedRowModel&&(o._getExpandedRowModel=o.options.getExpandedRowModel(o)),o.options.manualExpanding||!o._getExpandedRowModel?o.getPreExpandedRowModel():o._getExpandedRowModel())},createRow:(o,f)=>{o.toggleExpanded=e=>{f.setExpanded(a=>{var p;const d=a===!0?!0:!!(a!=null&&a[o.id]);let g={};if(a===!0?Object.keys(f.getRowModel().rowsById).forEach(m=>{g[m]=!0}):g=a,e=(p=e)!=null?p:!d,!d&&e)return{...g,[o.id]:!0};if(d&&!e){const{[o.id]:m,...c}=g;return c}return a})},o.getIsExpanded=()=>{var e;const a=f.getState().expanded;return!!((e=f.options.getIsRowExpanded==null?void 0:f.options.getIsRowExpanded(o))!=null?e:a===!0||a!=null&&a[o.id])},o.getCanExpand=()=>{var e,a,p;return(e=f.options.getRowCanExpand==null?void 0:f.options.getRowCanExpand(o))!=null?e:((a=f.options.enableExpanding)!=null?a:!0)&&!!((p=o.subRows)!=null&&p.length)},o.getIsAllParentsExpanded=()=>{let e=!0,a=o;for(;e&&a.parentId;)a=f.getRow(a.parentId,!0),e=a.getIsExpanded();return e},o.getToggleExpandedHandler=()=>{const e=o.getCanExpand();return()=>{e&&o.toggleExpanded()}}}},Pi=0,Fi=10,fi=()=>({pageIndex:Pi,pageSize:Fi}),pu={getInitialState:o=>({...o,pagination:{...fi(),...o==null?void 0:o.pagination}}),getDefaultOptions:o=>({onPaginationChange:nt("pagination",o)}),createTable:o=>{let f=!1,e=!1;o._autoResetPageIndex=()=>{var a,p;if(!f){o._queue(()=>{f=!0});return}if((a=(p=o.options.autoResetAll)!=null?p:o.options.autoResetPageIndex)!=null?a:!o.options.manualPagination){if(e)return;e=!0,o._queue(()=>{o.resetPageIndex(),e=!1})}},o.setPagination=a=>{const p=d=>_t(a,d);return o.options.onPaginationChange==null?void 0:o.options.onPaginationChange(p)},o.resetPagination=a=>{var p;o.setPagination(a?fi():(p=o.initialState.pagination)!=null?p:fi())},o.setPageIndex=a=>{o.setPagination(p=>{let d=_t(a,p.pageIndex);const g=typeof o.options.pageCount>"u"||o.options.pageCount===-1?Number.MAX_SAFE_INTEGER:o.options.pageCount-1;return d=Math.max(0,Math.min(d,g)),{...p,pageIndex:d}})},o.resetPageIndex=a=>{var p,d;o.setPageIndex(a?Pi:(p=(d=o.initialState)==null||(d=d.pagination)==null?void 0:d.pageIndex)!=null?p:Pi)},o.resetPageSize=a=>{var p,d;o.setPageSize(a?Fi:(p=(d=o.initialState)==null||(d=d.pagination)==null?void 0:d.pageSize)!=null?p:Fi)},o.setPageSize=a=>{o.setPagination(p=>{const d=Math.max(1,_t(a,p.pageSize)),g=p.pageSize*p.pageIndex,m=Math.floor(g/d);return{...p,pageIndex:m,pageSize:d}})},o.setPageCount=a=>o.setPagination(p=>{var d;let g=_t(a,(d=o.options.pageCount)!=null?d:-1);return typeof g=="number"&&(g=Math.max(-1,g)),{...p,pageCount:g}}),o.getPageOptions=ge(()=>[o.getPageCount()],a=>{let p=[];return a&&a>0&&(p=[...new Array(a)].fill(null).map((d,g)=>g)),p},pe(o.options,"debugTable")),o.getCanPreviousPage=()=>o.getState().pagination.pageIndex>0,o.getCanNextPage=()=>{const{pageIndex:a}=o.getState().pagination,p=o.getPageCount();return p===-1?!0:p===0?!1:a<p-1},o.previousPage=()=>o.setPageIndex(a=>a-1),o.nextPage=()=>o.setPageIndex(a=>a+1),o.firstPage=()=>o.setPageIndex(0),o.lastPage=()=>o.setPageIndex(o.getPageCount()-1),o.getPrePaginationRowModel=()=>o.getExpandedRowModel(),o.getPaginationRowModel=()=>(!o._getPaginationRowModel&&o.options.getPaginationRowModel&&(o._getPaginationRowModel=o.options.getPaginationRowModel(o)),o.options.manualPagination||!o._getPaginationRowModel?o.getPrePaginationRowModel():o._getPaginationRowModel()),o.getPageCount=()=>{var a;return(a=o.options.pageCount)!=null?a:Math.ceil(o.getRowCount()/o.getState().pagination.pageSize)},o.getRowCount=()=>{var a;return(a=o.options.rowCount)!=null?a:o.getPrePaginationRowModel().rows.length}}},gi=()=>({top:[],bottom:[]}),mu={getInitialState:o=>({rowPinning:gi(),...o}),getDefaultOptions:o=>({onRowPinningChange:nt("rowPinning",o)}),createRow:(o,f)=>{o.pin=(e,a,p)=>{const d=a?o.getLeafRows().map(c=>{let{id:u}=c;return u}):[],g=p?o.getParentRows().map(c=>{let{id:u}=c;return u}):[],m=new Set([...g,o.id,...d]);f.setRowPinning(c=>{var u,s;if(e==="bottom"){var i,r;return{top:((i=c==null?void 0:c.top)!=null?i:[]).filter(l=>!(m!=null&&m.has(l))),bottom:[...((r=c==null?void 0:c.bottom)!=null?r:[]).filter(l=>!(m!=null&&m.has(l))),...Array.from(m)]}}if(e==="top"){var t,n;return{top:[...((t=c==null?void 0:c.top)!=null?t:[]).filter(l=>!(m!=null&&m.has(l))),...Array.from(m)],bottom:((n=c==null?void 0:c.bottom)!=null?n:[]).filter(l=>!(m!=null&&m.has(l)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(l=>!(m!=null&&m.has(l))),bottom:((s=c==null?void 0:c.bottom)!=null?s:[]).filter(l=>!(m!=null&&m.has(l)))}})},o.getCanPin=()=>{var e;const{enableRowPinning:a,enablePinning:p}=f.options;return typeof a=="function"?a(o):(e=a??p)!=null?e:!0},o.getIsPinned=()=>{const e=[o.id],{top:a,bottom:p}=f.getState().rowPinning,d=e.some(m=>a==null?void 0:a.includes(m)),g=e.some(m=>p==null?void 0:p.includes(m));return d?"top":g?"bottom":!1},o.getPinnedIndex=()=>{var e,a;const p=o.getIsPinned();if(!p)return-1;const d=(e=p==="top"?f.getTopRows():f.getBottomRows())==null?void 0:e.map(g=>{let{id:m}=g;return m});return(a=d==null?void 0:d.indexOf(o.id))!=null?a:-1}},createTable:o=>{o.setRowPinning=f=>o.options.onRowPinningChange==null?void 0:o.options.onRowPinningChange(f),o.resetRowPinning=f=>{var e,a;return o.setRowPinning(f?gi():(e=(a=o.initialState)==null?void 0:a.rowPinning)!=null?e:gi())},o.getIsSomeRowsPinned=f=>{var e;const a=o.getState().rowPinning;if(!f){var p,d;return!!((p=a.top)!=null&&p.length||(d=a.bottom)!=null&&d.length)}return!!((e=a[f])!=null&&e.length)},o._getPinnedRows=(f,e,a)=>{var p;return((p=o.options.keepPinnedRows)==null||p?(e??[]).map(g=>{const m=o.getRow(g,!0);return m.getIsAllParentsExpanded()?m:null}):(e??[]).map(g=>f.find(m=>m.id===g))).filter(Boolean).map(g=>({...g,position:a}))},o.getTopRows=ge(()=>[o.getRowModel().rows,o.getState().rowPinning.top],(f,e)=>o._getPinnedRows(f,e,"top"),pe(o.options,"debugRows")),o.getBottomRows=ge(()=>[o.getRowModel().rows,o.getState().rowPinning.bottom],(f,e)=>o._getPinnedRows(f,e,"bottom"),pe(o.options,"debugRows")),o.getCenterRows=ge(()=>[o.getRowModel().rows,o.getState().rowPinning.top,o.getState().rowPinning.bottom],(f,e,a)=>{const p=new Set([...e??[],...a??[]]);return f.filter(d=>!p.has(d.id))},pe(o.options,"debugRows"))}},vu={getInitialState:o=>({rowSelection:{},...o}),getDefaultOptions:o=>({onRowSelectionChange:nt("rowSelection",o),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:o=>{o.setRowSelection=f=>o.options.onRowSelectionChange==null?void 0:o.options.onRowSelectionChange(f),o.resetRowSelection=f=>{var e;return o.setRowSelection(f?{}:(e=o.initialState.rowSelection)!=null?e:{})},o.toggleAllRowsSelected=f=>{o.setRowSelection(e=>{f=typeof f<"u"?f:!o.getIsAllRowsSelected();const a={...e},p=o.getPreGroupedRowModel().flatRows;return f?p.forEach(d=>{d.getCanSelect()&&(a[d.id]=!0)}):p.forEach(d=>{delete a[d.id]}),a})},o.toggleAllPageRowsSelected=f=>o.setRowSelection(e=>{const a=typeof f<"u"?f:!o.getIsAllPageRowsSelected(),p={...e};return o.getRowModel().rows.forEach(d=>{ji(p,d.id,a,!0,o)}),p}),o.getPreSelectedRowModel=()=>o.getCoreRowModel(),o.getSelectedRowModel=ge(()=>[o.getState().rowSelection,o.getCoreRowModel()],(f,e)=>Object.keys(f).length?pi(o,e):{rows:[],flatRows:[],rowsById:{}},pe(o.options,"debugTable")),o.getFilteredSelectedRowModel=ge(()=>[o.getState().rowSelection,o.getFilteredRowModel()],(f,e)=>Object.keys(f).length?pi(o,e):{rows:[],flatRows:[],rowsById:{}},pe(o.options,"debugTable")),o.getGroupedSelectedRowModel=ge(()=>[o.getState().rowSelection,o.getSortedRowModel()],(f,e)=>Object.keys(f).length?pi(o,e):{rows:[],flatRows:[],rowsById:{}},pe(o.options,"debugTable")),o.getIsAllRowsSelected=()=>{const f=o.getFilteredRowModel().flatRows,{rowSelection:e}=o.getState();let a=!!(f.length&&Object.keys(e).length);return a&&f.some(p=>p.getCanSelect()&&!e[p.id])&&(a=!1),a},o.getIsAllPageRowsSelected=()=>{const f=o.getPaginationRowModel().flatRows.filter(p=>p.getCanSelect()),{rowSelection:e}=o.getState();let a=!!f.length;return a&&f.some(p=>!e[p.id])&&(a=!1),a},o.getIsSomeRowsSelected=()=>{var f;const e=Object.keys((f=o.getState().rowSelection)!=null?f:{}).length;return e>0&&e<o.getFilteredRowModel().flatRows.length},o.getIsSomePageRowsSelected=()=>{const f=o.getPaginationRowModel().flatRows;return o.getIsAllPageRowsSelected()?!1:f.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},o.getToggleAllRowsSelectedHandler=()=>f=>{o.toggleAllRowsSelected(f.target.checked)},o.getToggleAllPageRowsSelectedHandler=()=>f=>{o.toggleAllPageRowsSelected(f.target.checked)}},createRow:(o,f)=>{o.toggleSelected=(e,a)=>{const p=o.getIsSelected();f.setRowSelection(d=>{var g;if(e=typeof e<"u"?e:!p,o.getCanSelect()&&p===e)return d;const m={...d};return ji(m,o.id,e,(g=a==null?void 0:a.selectChildren)!=null?g:!0,f),m})},o.getIsSelected=()=>{const{rowSelection:e}=f.getState();return ir(o,e)},o.getIsSomeSelected=()=>{const{rowSelection:e}=f.getState();return Hi(o,e)==="some"},o.getIsAllSubRowsSelected=()=>{const{rowSelection:e}=f.getState();return Hi(o,e)==="all"},o.getCanSelect=()=>{var e;return typeof f.options.enableRowSelection=="function"?f.options.enableRowSelection(o):(e=f.options.enableRowSelection)!=null?e:!0},o.getCanSelectSubRows=()=>{var e;return typeof f.options.enableSubRowSelection=="function"?f.options.enableSubRowSelection(o):(e=f.options.enableSubRowSelection)!=null?e:!0},o.getCanMultiSelect=()=>{var e;return typeof f.options.enableMultiRowSelection=="function"?f.options.enableMultiRowSelection(o):(e=f.options.enableMultiRowSelection)!=null?e:!0},o.getToggleSelectedHandler=()=>{const e=o.getCanSelect();return a=>{var p;e&&o.toggleSelected((p=a.target)==null?void 0:p.checked)}}}},ji=(o,f,e,a,p)=>{var d;const g=p.getRow(f,!0);e?(g.getCanMultiSelect()||Object.keys(o).forEach(m=>delete o[m]),g.getCanSelect()&&(o[f]=!0)):delete o[f],a&&(d=g.subRows)!=null&&d.length&&g.getCanSelectSubRows()&&g.subRows.forEach(m=>ji(o,m.id,e,a,p))};function pi(o,f){const e=o.getState().rowSelection,a=[],p={},d=function(g,m){return g.map(c=>{var u;const s=ir(c,e);if(s&&(a.push(c),p[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:d(c.subRows)}),s)return c}).filter(Boolean)};return{rows:d(f.rows),flatRows:a,rowsById:p}}function ir(o,f){var e;return(e=f[o.id])!=null?e:!1}function Hi(o,f,e){var a;if(!((a=o.subRows)!=null&&a.length))return!1;let p=!0,d=!1;return o.subRows.forEach(g=>{if(!(d&&!p)&&(g.getCanSelect()&&(ir(g,f)?d=!0:p=!1),g.subRows&&g.subRows.length)){const m=Hi(g,f);m==="all"?d=!0:(m==="some"&&(d=!0),p=!1)}}),p?"all":d?"some":!1}const Wi=/([0-9]+)/gm,yu=(o,f,e)=>Ss(kt(o.getValue(e)).toLowerCase(),kt(f.getValue(e)).toLowerCase()),wu=(o,f,e)=>Ss(kt(o.getValue(e)),kt(f.getValue(e))),bu=(o,f,e)=>rr(kt(o.getValue(e)).toLowerCase(),kt(f.getValue(e)).toLowerCase()),xu=(o,f,e)=>rr(kt(o.getValue(e)),kt(f.getValue(e))),Su=(o,f,e)=>{const a=o.getValue(e),p=f.getValue(e);return a>p?1:a<p?-1:0},Cu=(o,f,e)=>rr(o.getValue(e),f.getValue(e));function rr(o,f){return o===f?0:o>f?1:-1}function kt(o){return typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?"":String(o):typeof o=="string"?o:""}function Ss(o,f){const e=o.split(Wi).filter(Boolean),a=f.split(Wi).filter(Boolean);for(;e.length&&a.length;){const p=e.shift(),d=a.shift(),g=parseInt(p,10),m=parseInt(d,10),c=[g,m].sort();if(isNaN(c[0])){if(p>d)return 1;if(d>p)return-1;continue}if(isNaN(c[1]))return isNaN(g)?-1:1;if(g>m)return 1;if(m>g)return-1}return e.length-a.length}const fn={alphanumeric:yu,alphanumericCaseSensitive:wu,text:bu,textCaseSensitive:xu,datetime:Su,basic:Cu},$u={getInitialState:o=>({sorting:[],...o}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:o=>({onSortingChange:nt("sorting",o),isMultiSortEvent:f=>f.shiftKey}),createColumn:(o,f)=>{o.getAutoSortingFn=()=>{const e=f.getFilteredRowModel().flatRows.slice(10);let a=!1;for(const p of e){const d=p==null?void 0:p.getValue(o.id);if(Object.prototype.toString.call(d)==="[object Date]")return fn.datetime;if(typeof d=="string"&&(a=!0,d.split(Wi).length>1))return fn.alphanumeric}return a?fn.text:fn.basic},o.getAutoSortDir=()=>{const e=f.getFilteredRowModel().flatRows[0];return typeof(e==null?void 0:e.getValue(o.id))=="string"?"asc":"desc"},o.getSortingFn=()=>{var e,a;if(!o)throw new Error;return ei(o.columnDef.sortingFn)?o.columnDef.sortingFn:o.columnDef.sortingFn==="auto"?o.getAutoSortingFn():(e=(a=f.options.sortingFns)==null?void 0:a[o.columnDef.sortingFn])!=null?e:fn[o.columnDef.sortingFn]},o.toggleSorting=(e,a)=>{const p=o.getNextSortingOrder(),d=typeof e<"u"&&e!==null;f.setSorting(g=>{const m=g==null?void 0:g.find(t=>t.id===o.id),c=g==null?void 0:g.findIndex(t=>t.id===o.id);let u=[],s,i=d?e:p==="desc";if(g!=null&&g.length&&o.getCanMultiSort()&&a?m?s="toggle":s="add":g!=null&&g.length&&c!==g.length-1?s="replace":m?s="toggle":s="replace",s==="toggle"&&(d||p||(s="remove")),s==="add"){var r;u=[...g,{id:o.id,desc:i}],u.splice(0,u.length-((r=f.options.maxMultiSortColCount)!=null?r:Number.MAX_SAFE_INTEGER))}else s==="toggle"?u=g.map(t=>t.id===o.id?{...t,desc:i}:t):s==="remove"?u=g.filter(t=>t.id!==o.id):u=[{id:o.id,desc:i}];return u})},o.getFirstSortDir=()=>{var e,a;return((e=(a=o.columnDef.sortDescFirst)!=null?a:f.options.sortDescFirst)!=null?e:o.getAutoSortDir()==="desc")?"desc":"asc"},o.getNextSortingOrder=e=>{var a,p;const d=o.getFirstSortDir(),g=o.getIsSorted();return g?g!==d&&((a=f.options.enableSortingRemoval)==null||a)&&(!(e&&(p=f.options.enableMultiRemove)!=null)||p)?!1:g==="desc"?"asc":"desc":d},o.getCanSort=()=>{var e,a;return((e=o.columnDef.enableSorting)!=null?e:!0)&&((a=f.options.enableSorting)!=null?a:!0)&&!!o.accessorFn},o.getCanMultiSort=()=>{var e,a;return(e=(a=o.columnDef.enableMultiSort)!=null?a:f.options.enableMultiSort)!=null?e:!!o.accessorFn},o.getIsSorted=()=>{var e;const a=(e=f.getState().sorting)==null?void 0:e.find(p=>p.id===o.id);return a?a.desc?"desc":"asc":!1},o.getSortIndex=()=>{var e,a;return(e=(a=f.getState().sorting)==null?void 0:a.findIndex(p=>p.id===o.id))!=null?e:-1},o.clearSorting=()=>{f.setSorting(e=>e!=null&&e.length?e.filter(a=>a.id!==o.id):[])},o.getToggleSortingHandler=()=>{const e=o.getCanSort();return a=>{e&&(a.persist==null||a.persist(),o.toggleSorting==null||o.toggleSorting(void 0,o.getCanMultiSort()?f.options.isMultiSortEvent==null?void 0:f.options.isMultiSortEvent(a):!1))}}},createTable:o=>{o.setSorting=f=>o.options.onSortingChange==null?void 0:o.options.onSortingChange(f),o.resetSorting=f=>{var e,a;o.setSorting(f?[]:(e=(a=o.initialState)==null?void 0:a.sorting)!=null?e:[])},o.getPreSortedRowModel=()=>o.getGroupedRowModel(),o.getSortedRowModel=()=>(!o._getSortedRowModel&&o.options.getSortedRowModel&&(o._getSortedRowModel=o.options.getSortedRowModel(o)),o.options.manualSorting||!o._getSortedRowModel?o.getPreSortedRowModel():o._getSortedRowModel())}},Mu=[Uc,hu,au,lu,Kc,Qc,du,fu,$u,ou,gu,pu,mu,vu,cu];function _u(o){var f,e;const a=[...Mu,...(f=o._features)!=null?f:[]];let p={_features:a};const d=p._features.reduce((r,t)=>Object.assign(r,t.getDefaultOptions==null?void 0:t.getDefaultOptions(p)),{}),g=r=>p.options.mergeOptions?p.options.mergeOptions(d,r):{...d,...r};let c={...{},...(e=o.initialState)!=null?e:{}};p._features.forEach(r=>{var t;c=(t=r.getInitialState==null?void 0:r.getInitialState(c))!=null?t:c});const u=[];let s=!1;const i={_features:a,options:{...d,...o},initialState:c,_queue:r=>{u.push(r),s||(s=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();s=!1}).catch(t=>setTimeout(()=>{throw t})))},reset:()=>{p.setState(p.initialState)},setOptions:r=>{const t=_t(r,p.options);p.options=g(t)},getState:()=>p.options.state,setState:r=>{p.options.onStateChange==null||p.options.onStateChange(r)},_getRowId:(r,t,n)=>{var l;return(l=p.options.getRowId==null?void 0:p.options.getRowId(r,t,n))!=null?l:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(p._getCoreRowModel||(p._getCoreRowModel=p.options.getCoreRowModel(p)),p._getCoreRowModel()),getRowModel:()=>p.getPaginationRowModel(),getRow:(r,t)=>{let n=(t?p.getPrePaginationRowModel():p.getRowModel()).rowsById[r];if(!n&&(n=p.getCoreRowModel().rowsById[r],!n))throw new Error;return n},_getDefaultColumnDef:ge(()=>[p.options.defaultColumn],r=>{var t;return r=(t=r)!=null?t:{},{header:n=>{const l=n.header.column.columnDef;return l.accessorKey?l.accessorKey:l.accessorFn?l.id:null},cell:n=>{var l,h;return(l=(h=n.renderValue())==null||h.toString==null?void 0:h.toString())!=null?l:null},...p._features.reduce((n,l)=>Object.assign(n,l.getDefaultColumnDef==null?void 0:l.getDefaultColumnDef()),{}),...r}},pe(o,"debugColumns")),_getColumnDefs:()=>p.options.columns,getAllColumns:ge(()=>[p._getColumnDefs()],r=>{const t=function(n,l,h){return h===void 0&&(h=0),n.map(v=>{const y=Gc(p,v,h,l),C=v;return y.columns=C.columns?t(C.columns,y,h+1):[],y})};return t(r)},pe(o,"debugColumns")),getAllFlatColumns:ge(()=>[p.getAllColumns()],r=>r.flatMap(t=>t.getFlatColumns()),pe(o,"debugColumns")),_getAllFlatColumnsById:ge(()=>[p.getAllFlatColumns()],r=>r.reduce((t,n)=>(t[n.id]=n,t),{}),pe(o,"debugColumns")),getAllLeafColumns:ge(()=>[p.getAllColumns(),p._getOrderColumnsFn()],(r,t)=>{let n=r.flatMap(l=>l.getLeafColumns());return t(n)},pe(o,"debugColumns")),getColumn:r=>p._getAllFlatColumnsById()[r]};Object.assign(p,i);for(let r=0;r<p._features.length;r++){const t=p._features[r];t==null||t.createTable==null||t.createTable(p)}return p}function Au(){return o=>ge(()=>[o.options.data],f=>{const e={rows:[],flatRows:[],rowsById:{}},a=function(p,d,g){d===void 0&&(d=0);const m=[];for(let u=0;u<p.length;u++){const s=Yc(o,o._getRowId(p[u],u,g),p[u],u,d,void 0,g==null?void 0:g.id);if(e.flatRows.push(s),e.rowsById[s.id]=s,m.push(s),o.options.getSubRows){var c;s.originalSubRows=o.options.getSubRows(p[u],u),(c=s.originalSubRows)!=null&&c.length&&(s.subRows=a(s.originalSubRows,d+1,s))}}return m};return e.rows=a(f),e},pe(o.options,"debugTable","getRowModel",()=>o._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function xg(o,f){return o?ku(o)?U.createElement(o,f):o:null}function ku(o){return Ru(o)||typeof o=="function"||Eu(o)}function Ru(o){return typeof o=="function"&&(()=>{const f=Object.getPrototypeOf(o);return f.prototype&&f.prototype.isReactComponent})()}function Eu(o){return typeof o=="object"&&typeof o.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(o.$$typeof.description)}function Tu(o){const f={state:{},onStateChange:()=>{},renderFallbackValue:null,...o},[e]=U.useState(()=>({current:_u(f)})),[a,p]=U.useState(()=>e.current.initialState);return e.current.setOptions(d=>({...d,...o,state:{...a,...o.state},onStateChange:g=>{p(g),o.onStateChange==null||o.onStateChange(g)}})),e.current}var Wn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var Lu=Wn.exports,kr;function Iu(){return kr||(kr=1,function(o,f){((e,a)=>{o.exports=a()})(Lu,function e(){var a=typeof self<"u"?self:typeof window<"u"?window:a!==void 0?a:{},p,d=!a.document&&!!a.postMessage,g=a.IS_PAPA_WORKER||!1,m={},c=0,u={};function s(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var k=S(_);k.chunkSize=parseInt(k.chunkSize),_.step||_.chunk||(k.chunkSize=null),this._handle=new l(k),(this._handle.streamer=this)._config=k}).call(this,E),this.parseChunk=function(_,k){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let R=this._config.newline;R||(A=this._config.quoteChar||'"',R=this._handle.guessLineEndings(_,A)),_=[..._.split(R).slice(D)].join(R)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(_))!==void 0&&(_=A),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+_,A=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=A.meta.cursor,D=(this._finished||(this._partialLine=D.substring(_-this._baseIndex),this._baseIndex=_),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),g)a.postMessage({results:A,workerId:u.WORKER_ID,finished:D});else if(T(this._config.chunk)&&!k){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!D||!T(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(_){T(this._config.error)?this._config.error(_):g&&this._config.error&&a.postMessage({workerId:u.WORKER_ID,error:_,finished:!1})}}function i(E){var _;(E=E||{}).chunkSize||(E.chunkSize=u.RemoteChunkSize),s.call(this,E),this._nextChunk=d?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),d||(_.onload=w(this._chunkLoaded,this),_.onerror=w(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!d),this._config.downloadRequestHeaders){var k,D=this._config.downloadRequestHeaders;for(k in D)_.setRequestHeader(k,D[k])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+A));try{_.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}d&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(k){k=_.statusText||k,this._sendError(new Error(k))}}function r(E){(E=E||{}).chunkSize||(E.chunkSize=u.LocalChunkSize),s.call(this,E);var _,k,D=typeof FileReader<"u";this.stream=function(A){this._input=A,k=A.slice||A.webkitSlice||A.mozSlice,D?((_=new FileReader).onload=w(this._chunkLoaded,this),_.onerror=w(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),A=k.call(A,this._start,R)),_.readAsText(A,this._config.encoding));D||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(_.error)}}function t(E){var _;s.call(this,E=E||{}),this.stream=function(k){return _=k,this._nextChunk()},this._nextChunk=function(){var k,D;if(!this._finished)return k=this._config.chunkSize,_=k?(D=_.substring(0,k),_.substring(k)):(D=_,""),this._finished=!_,this.parseChunk(D)}}function n(E){s.call(this,E=E||{});var _=[],k=!0,D=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):k=!0},this._streamData=w(function(A){try{_.push(typeof A=="string"?A:A.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(R){this._streamError(R)}},this),this._streamError=w(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=w(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function l(E){var _,k,D,A,R=Math.pow(2,53),b=-R,x=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,O=0,N=0,F=!1,j=!1,W=[],P={data:[],errors:[],meta:{}};function z(Y){return E.skipEmptyLines==="greedy"?Y.join("").trim()==="":Y.length===1&&Y[0].length===0}function H(){if(P&&D&&(V("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),D=!1),E.skipEmptyLines&&(P.data=P.data.filter(function(J){return!z(J)})),G()){let J=function(ne,ce){T(E.transformHeader)&&(ne=E.transformHeader(ne,ce)),W.push(ne)};if(P)if(Array.isArray(P.data[0])){for(var Y=0;G()&&Y<P.data.length;Y++)P.data[Y].forEach(J);P.data.splice(0,1)}else P.data.forEach(J)}function K(J,ne){for(var ce=E.header?{}:[],se=0;se<J.length;se++){var le=se,ue=J[se],ue=((ke,de)=>($e=>(E.dynamicTypingFunction&&E.dynamicTyping[$e]===void 0&&(E.dynamicTyping[$e]=E.dynamicTypingFunction($e)),(E.dynamicTyping[$e]||E.dynamicTyping)===!0))(ke)?de==="true"||de==="TRUE"||de!=="false"&&de!=="FALSE"&&(($e=>{if(x.test($e)&&($e=parseFloat($e),b<$e&&$e<R))return 1})(de)?parseFloat(de):M.test(de)?new Date(de):de===""?null:de):de)(le=E.header?se>=W.length?"__parsed_extra":W[se]:le,ue=E.transform?E.transform(ue,le):ue);le==="__parsed_extra"?(ce[le]=ce[le]||[],ce[le].push(ue)):ce[le]=ue}return E.header&&(se>W.length?V("FieldMismatch","TooManyFields","Too many fields: expected "+W.length+" fields but parsed "+se,N+ne):se<W.length&&V("FieldMismatch","TooFewFields","Too few fields: expected "+W.length+" fields but parsed "+se,N+ne)),ce}var q;P&&(E.header||E.dynamicTyping||E.transform)&&(q=1,!P.data.length||Array.isArray(P.data[0])?(P.data=P.data.map(K),q=P.data.length):P.data=K(P.data,0),E.header&&P.meta&&(P.meta.fields=W),N+=q)}function G(){return E.header&&W.length===0}function V(Y,K,q,J){Y={type:Y,code:K,message:q},J!==void 0&&(Y.row=J),P.errors.push(Y)}T(E.step)&&(A=E.step,E.step=function(Y){P=Y,G()?H():(H(),P.data.length!==0&&(O+=Y.data.length,E.preview&&O>E.preview?k.abort():(P.data=P.data[0],A(P,L))))}),this.parse=function(Y,K,q){var J=E.quoteChar||'"',J=(E.newline||(E.newline=this.guessLineEndings(Y,J)),D=!1,E.delimiter?T(E.delimiter)&&(E.delimiter=E.delimiter(Y),P.meta.delimiter=E.delimiter):((J=((ne,ce,se,le,ue)=>{var ke,de,$e,Ke;ue=ue||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var rt=0;rt<ue.length;rt++){for(var Ve,Je=ue[rt],Ne=0,Qe=0,Z=0,ie=($e=void 0,new v({comments:le,delimiter:Je,newline:ce,preview:10}).parse(ne)),oe=0;oe<ie.data.length;oe++)se&&z(ie.data[oe])?Z++:(Ve=ie.data[oe].length,Qe+=Ve,$e===void 0?$e=Ve:0<Ve&&(Ne+=Math.abs(Ve-$e),$e=Ve));0<ie.data.length&&(Qe/=ie.data.length-Z),(de===void 0||Ne<=de)&&(Ke===void 0||Ke<Qe)&&1.99<Qe&&(de=Ne,ke=Je,Ke=Qe)}return{successful:!!(E.delimiter=ke),bestDelimiter:ke}})(Y,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=J.bestDelimiter:(D=!0,E.delimiter=u.DefaultDelimiter),P.meta.delimiter=E.delimiter),S(E));return E.preview&&E.header&&J.preview++,_=Y,k=new v(J),P=k.parse(_,K,q),H(),F?{meta:{paused:!0}}:P||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,k.abort(),_=T(E.chunk)?"":_.substring(k.getCharIndex())},this.resume=function(){L.streamer._halted?(F=!1,L.streamer.parseChunk(_,!0)):setTimeout(L.resume,3)},this.aborted=function(){return j},this.abort=function(){j=!0,k.abort(),P.meta.aborted=!0,T(E.complete)&&E.complete(P),_=""},this.guessLineEndings=function(ne,J){ne=ne.substring(0,1048576);var J=new RegExp(h(J)+"([^]*?)"+h(J),"gm"),q=(ne=ne.replace(J,"")).split("\r"),J=ne.split(`
`),ne=1<J.length&&J[0].length<q[0].length;if(q.length===1||ne)return`
`;for(var ce=0,se=0;se<q.length;se++)q[se][0]===`
`&&ce++;return ce>=q.length/2?`\r
`:"\r"}}function h(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(E){var _=(E=E||{}).delimiter,k=E.newline,D=E.comments,A=E.step,R=E.preview,b=E.fastMode,x=null,M=!1,L=E.quoteChar==null?'"':E.quoteChar,O=L;if(E.escapeChar!==void 0&&(O=E.escapeChar),(typeof _!="string"||-1<u.BAD_DELIMITERS.indexOf(_))&&(_=","),D===_)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<u.BAD_DELIMITERS.indexOf(D))&&(D=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var N=0,F=!1;this.parse=function(j,W,P){if(typeof j!="string")throw new Error("Input must be a string");var z=j.length,H=_.length,G=k.length,V=D.length,Y=T(A),K=[],q=[],J=[],ne=N=0;if(!j)return Ne();if(b||b!==!1&&j.indexOf(L)===-1){for(var ce=j.split(k),se=0;se<ce.length;se++){if(J=ce[se],N+=J.length,se!==ce.length-1)N+=k.length;else if(P)return Ne();if(!D||J.substring(0,V)!==D){if(Y){if(K=[],Ke(J.split(_)),Qe(),F)return Ne()}else Ke(J.split(_));if(R&&R<=se)return K=K.slice(0,R),Ne(!0)}}return Ne()}for(var le=j.indexOf(_,N),ue=j.indexOf(k,N),ke=new RegExp(h(O)+h(L),"g"),de=j.indexOf(L,N);;)if(j[N]===L)for(de=N,N++;;){if((de=j.indexOf(L,de+1))===-1)return P||q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:N}),Ve();if(de===z-1)return Ve(j.substring(N,de).replace(ke,L));if(L===O&&j[de+1]===O)de++;else if(L===O||de===0||j[de-1]!==O){le!==-1&&le<de+1&&(le=j.indexOf(_,de+1));var $e=rt((ue=ue!==-1&&ue<de+1?j.indexOf(k,de+1):ue)===-1?le:Math.min(le,ue));if(j.substr(de+1+$e,H)===_){J.push(j.substring(N,de).replace(ke,L)),j[N=de+1+$e+H]!==L&&(de=j.indexOf(L,N)),le=j.indexOf(_,N),ue=j.indexOf(k,N);break}if($e=rt(ue),j.substring(de+1+$e,de+1+$e+G)===k){if(J.push(j.substring(N,de).replace(ke,L)),Je(de+1+$e+G),le=j.indexOf(_,N),de=j.indexOf(L,N),Y&&(Qe(),F))return Ne();if(R&&K.length>=R)return Ne(!0);break}q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:N}),de++}}else if(D&&J.length===0&&j.substring(N,N+V)===D){if(ue===-1)return Ne();N=ue+G,ue=j.indexOf(k,N),le=j.indexOf(_,N)}else if(le!==-1&&(le<ue||ue===-1))J.push(j.substring(N,le)),N=le+H,le=j.indexOf(_,N);else{if(ue===-1)break;if(J.push(j.substring(N,ue)),Je(ue+G),Y&&(Qe(),F))return Ne();if(R&&K.length>=R)return Ne(!0)}return Ve();function Ke(Z){K.push(Z),ne=N}function rt(Z){var ie=0;return ie=Z!==-1&&(Z=j.substring(de+1,Z))&&Z.trim()===""?Z.length:ie}function Ve(Z){return P||(Z===void 0&&(Z=j.substring(N)),J.push(Z),N=z,Ke(J),Y&&Qe()),Ne()}function Je(Z){N=Z,Ke(J),J=[],ue=j.indexOf(k,N)}function Ne(Z){if(E.header&&!W&&K.length&&!M){var ie=K[0],oe={},me=new Set(ie);let ye=!1;for(let Ce=0;Ce<ie.length;Ce++){let xe=ie[Ce];if(oe[xe=T(E.transformHeader)?E.transformHeader(xe,Ce):xe]){let Me,Ae=oe[xe];for(;Me=xe+"_"+Ae,Ae++,me.has(Me););me.add(Me),ie[Ce]=Me,oe[xe]++,ye=!0,(x=x===null?{}:x)[Me]=xe}else oe[xe]=1,ie[Ce]=xe;me.add(xe)}ye&&console.warn("Duplicate headers found and renamed."),M=!0}return{data:K,errors:q,meta:{delimiter:_,linebreak:k,aborted:F,truncated:!!Z,cursor:ne+(W||0),renamedHeaders:x}}}function Qe(){A(Ne()),K=[],q=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return N}}function y(E){var _=E.data,k=m[_.workerId],D=!1;if(_.error)k.userError(_.error,_.file);else if(_.results&&_.results.data){var A={abort:function(){D=!0,C(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:$,resume:$};if(T(k.userStep)){for(var R=0;R<_.results.data.length&&(k.userStep({data:_.results.data[R],errors:_.results.errors,meta:_.results.meta},A),!D);R++);delete _.results}else T(k.userChunk)&&(k.userChunk(_.results,A,_.file),delete _.results)}_.finished&&!D&&C(_.workerId,_.results)}function C(E,_){var k=m[E];T(k.userComplete)&&k.userComplete(_),k.terminate(),delete m[E]}function $(){throw new Error("Not implemented.")}function S(E){if(typeof E!="object"||E===null)return E;var _,k=Array.isArray(E)?[]:{};for(_ in E)k[_]=S(E[_]);return k}function w(E,_){return function(){E.apply(_,arguments)}}function T(E){return typeof E=="function"}return u.parse=function(E,_){var k=(_=_||{}).dynamicTyping||!1;if(T(k)&&(_.dynamicTypingFunction=k,k={}),_.dynamicTyping=k,_.transform=!!T(_.transform)&&_.transform,!_.worker||!u.WORKERS_SUPPORTED)return k=null,u.NODE_STREAM_INPUT,typeof E=="string"?(E=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(E),k=new(_.download?i:t)(_)):E.readable===!0&&T(E.read)&&T(E.on)?k=new n(_):(a.File&&E instanceof File||E instanceof Object)&&(k=new r(_)),k.stream(E);(k=(()=>{var D;return!!u.WORKERS_SUPPORTED&&(D=(()=>{var A=a.URL||a.webkitURL||null,R=e.toString();return u.BLOB_URL||(u.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),(D=new a.Worker(D)).onmessage=y,D.id=c++,m[D.id]=D)})()).userStep=_.step,k.userChunk=_.chunk,k.userComplete=_.complete,k.userError=_.error,_.step=T(_.step),_.chunk=T(_.chunk),_.complete=T(_.complete),_.error=T(_.error),delete _.worker,k.postMessage({input:E,config:_,workerId:k.id})},u.unparse=function(E,_){var k=!1,D=!0,A=",",R=`\r
`,b='"',x=b+b,M=!1,L=null,O=!1,N=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||u.BAD_DELIMITERS.filter(function(W){return _.delimiter.indexOf(W)!==-1}).length||(A=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(k=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(M=_.skipEmptyLines),typeof _.newline=="string"&&(R=_.newline),typeof _.quoteChar=="string"&&(b=_.quoteChar),typeof _.header=="boolean"&&(D=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");L=_.columns}_.escapeChar!==void 0&&(x=_.escapeChar+b),_.escapeFormulae instanceof RegExp?O=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(O=/^[=+\-@\t\r].*$/)}})(),new RegExp(h(b),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return F(null,E,M);if(typeof E[0]=="object")return F(L||Object.keys(E[0]),E,M)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||L),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),F(E.fields||[],E.data||[],M);throw new Error("Unable to serialize unrecognized input");function F(W,P,z){var H="",G=(typeof W=="string"&&(W=JSON.parse(W)),typeof P=="string"&&(P=JSON.parse(P)),Array.isArray(W)&&0<W.length),V=!Array.isArray(P[0]);if(G&&D){for(var Y=0;Y<W.length;Y++)0<Y&&(H+=A),H+=j(W[Y],Y);0<P.length&&(H+=R)}for(var K=0;K<P.length;K++){var q=(G?W:P[K]).length,J=!1,ne=G?Object.keys(P[K]).length===0:P[K].length===0;if(z&&!G&&(J=z==="greedy"?P[K].join("").trim()==="":P[K].length===1&&P[K][0].length===0),z==="greedy"&&G){for(var ce=[],se=0;se<q;se++){var le=V?W[se]:se;ce.push(P[K][le])}J=ce.join("").trim()===""}if(!J){for(var ue=0;ue<q;ue++){0<ue&&!ne&&(H+=A);var ke=G&&V?W[ue]:ue;H+=j(P[K][ke],ue)}K<P.length-1&&(!z||0<q&&!ne)&&(H+=R)}}return H}function j(W,P){var z,H;return W==null?"":W.constructor===Date?JSON.stringify(W).slice(1,25):(H=!1,O&&typeof W=="string"&&O.test(W)&&(W="'"+W,H=!0),z=W.toString().replace(N,x),(H=H||k===!0||typeof k=="function"&&k(W,P)||Array.isArray(k)&&k[P]||((G,V)=>{for(var Y=0;Y<V.length;Y++)if(-1<G.indexOf(V[Y]))return!0;return!1})(z,u.BAD_DELIMITERS)||-1<z.indexOf(A)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?b+z+b:z)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!d&&!!a.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=v,u.ParserHandle=l,u.NetworkStreamer=i,u.FileStreamer=r,u.StringStreamer=t,u.ReadableStreamStreamer=n,a.jQuery&&((p=a.jQuery).fn.parse=function(E){var _=E.config||{},k=[];return this.each(function(R){if(!(p(this).prop("tagName").toUpperCase()==="INPUT"&&p(this).attr("type").toLowerCase()==="file"&&a.FileReader)||!this.files||this.files.length===0)return!0;for(var b=0;b<this.files.length;b++)k.push({file:this.files[b],inputElem:this,instanceConfig:p.extend({},_)})}),D(),this;function D(){if(k.length===0)T(E.complete)&&E.complete();else{var R,b,x,M,L=k[0];if(T(E.before)){var O=E.before(L.file,L.inputElem);if(typeof O=="object"){if(O.action==="abort")return R="AbortError",b=L.file,x=L.inputElem,M=O.reason,void(T(E.error)&&E.error({name:R},b,x,M));if(O.action==="skip")return void A();typeof O.config=="object"&&(L.instanceConfig=p.extend(L.instanceConfig,O.config))}else if(O==="skip")return void A()}var N=L.instanceConfig.complete;L.instanceConfig.complete=function(F){T(N)&&N(F,L.file,L.inputElem),A()},u.parse(L.file,L.instanceConfig)}}function A(){k.splice(0,1),D()}}),g&&(a.onmessage=function(E){E=E.data,u.WORKER_ID===void 0&&E&&(u.WORKER_ID=E.workerId),typeof E.input=="string"?a.postMessage({workerId:u.WORKER_ID,results:u.parse(E.input,E.config),finished:!0}):(a.File&&E.input instanceof File||E.input instanceof Object)&&(E=u.parse(E.input,E.config))&&a.postMessage({workerId:u.WORKER_ID,results:E,finished:!0})}),(i.prototype=Object.create(s.prototype)).constructor=i,(r.prototype=Object.create(s.prototype)).constructor=r,(t.prototype=Object.create(t.prototype)).constructor=t,(n.prototype=Object.create(s.prototype)).constructor=n,u})}(Wn)),Wn.exports}var Du=Iu();const zi=ro(Du),Ou=rl.memo(({csvData:o})=>{const f=U.useMemo(()=>zi.parse(o,{header:!0}).data.slice(0,5),[o]),e=U.useMemo(()=>f.length===0?[]:Object.keys(f[0]).map(p=>({id:p,header:p,accessorKey:p})),[f]),a=Tu({data:f,columns:e,getCoreRowModel:Au()});return I.jsx("div",{className:"max-w-full relative",children:I.jsx("div",{className:"overflow-x-auto overflow-y-auto max-w-full",style:{maxHeight:"400px"},children:I.jsxs("table",{className:"border-collapse",style:{tableLayout:"auto",minWidth:"100%"},children:[I.jsx("thead",{className:"sticky top-0 bg-white",children:a.getHeaderGroups().map(p=>I.jsx("tr",{children:p.headers.map(d=>I.jsx("th",{className:"border border-black p-2 text-left whitespace-nowrap",style:{minWidth:"120px"},children:String(d.column.columnDef.header)},d.id))},p.id))}),I.jsx("tbody",{children:a.getRowModel().rows.map(p=>I.jsx("tr",{children:p.getVisibleCells().map(d=>I.jsx("td",{className:"border border-black p-2 whitespace-nowrap",style:{minWidth:"120px"},children:String(d.getValue()??"")},d.id))},p.id))})]})})})});var St={},Ct={},mi={exports:{}},Rr;function Bn(){return Rr||(Rr=1,function(o,f){(function(){var e="ace",a=function(){return this}();!a&&typeof window<"u"&&(a=window);var p=function(s,i,r){if(typeof s!="string"){p.original?p.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=i),p.modules[s]||(p.payloads[s]=r,p.modules[s]=null)};p.modules={},p.payloads={};var d=function(s,i,r){if(typeof i=="string"){var t=c(s,i);if(t!=null)return r&&r(),t}else if(Object.prototype.toString.call(i)==="[object Array]"){for(var n=[],l=0,h=i.length;l<h;++l){var v=c(s,i[l]);if(v==null&&g.original)return;n.push(v)}return r&&r.apply(null,n)||!0}},g=function(s,i){var r=d("",s,i);return r==null&&g.original?g.original.apply(this,arguments):r},m=function(s,i){if(i.indexOf("!")!==-1){var r=i.split("!");return m(s,r[0])+"!"+m(s,r[1])}if(i.charAt(0)=="."){var t=s.split("/").slice(0,-1).join("/");for(i=t+"/"+i;i.indexOf(".")!==-1&&n!=i;){var n=i;i=i.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return i},c=function(s,i){i=m(s,i);var r=p.modules[i];if(!r){if(r=p.payloads[i],typeof r=="function"){var t={},n={id:i,uri:"",exports:t,packaged:!0},l=function(v,y){return d(i,v,y)},h=r(l,t,n);t=h||n.exports,p.modules[i]=t,delete p.payloads[i]}r=p.modules[i]=t||r}return r};function u(s){var i=a;a[s]||(a[s]={}),i=a[s],(!i.define||!i.define.packaged)&&(p.original=i.define,i.define=p,i.define.packaged=!0),(!i.require||!i.require.packaged)&&(g.original=i.require,i.require=g,i.require.packaged=!0)}u(e)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(e,a,p){function d(g,m,c){Object.defineProperty(g,m,{value:c,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||d(String.prototype,"startsWith",function(g,m){return m=m||0,this.lastIndexOf(g,m)===m}),String.prototype.endsWith||d(String.prototype,"endsWith",function(g,m){var c=this;(m===void 0||m>c.length)&&(m=c.length),m-=g.length;var u=c.indexOf(g,m);return u!==-1&&u===m}),String.prototype.repeat||d(String.prototype,"repeat",function(g){for(var m="",c=this;g>0;)g&1&&(m+=c),(g>>=1)&&(c+=c);return m}),String.prototype.includes||d(String.prototype,"includes",function(g,m){return this.indexOf(g,m)!=-1}),Object.assign||(Object.assign=function(g){if(g==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(g),c=1;c<arguments.length;c++){var u=arguments[c];u!=null&&Object.keys(u).forEach(function(s){m[s]=u[s]})}return m}),Object.values||(Object.values=function(g){return Object.keys(g).map(function(m){return g[m]})}),Array.prototype.find||d(Array.prototype,"find",function(g){for(var m=this.length,c=arguments[1],u=0;u<m;u++){var s=this[u];if(g.call(c,s,u,this))return s}}),Array.prototype.findIndex||d(Array.prototype,"findIndex",function(g){for(var m=this.length,c=arguments[1],u=0;u<m;u++){var s=this[u];if(g.call(c,s,u,this))return u}}),Array.prototype.includes||d(Array.prototype,"includes",function(g,m){return this.indexOf(g,m)!=-1}),Array.prototype.fill||d(Array.prototype,"fill",function(g){for(var m=this,c=m.length>>>0,u=arguments[1],s=u>>0,i=s<0?Math.max(c+s,0):Math.min(s,c),r=arguments[2],t=r===void 0?c:r>>0,n=t<0?Math.max(c+t,0):Math.min(t,c);i<n;)m[i]=g,i++;return m}),Array.of||d(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(e,a,p){e("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(e,a,p){a.deepCopy=function d(g){if(typeof g!="object"||!g)return g;var m;if(Array.isArray(g)){m=[];for(var c=0;c<g.length;c++)m[c]=d(g[c]);return m}if(Object.prototype.toString.call(g)!=="[object Object]")return g;m={};for(var c in g)m[c]=d(g[c]);return m}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(e,a,p){a.last=function(m){return m[m.length-1]},a.stringReverse=function(m){return m.split("").reverse().join("")},a.stringRepeat=function(m,c){for(var u="";c>0;)c&1&&(u+=m),(c>>=1)&&(m+=m);return u};var d=/^\s\s*/,g=/\s\s*$/;a.stringTrimLeft=function(m){return m.replace(d,"")},a.stringTrimRight=function(m){return m.replace(g,"")},a.copyObject=function(m){var c={};for(var u in m)c[u]=m[u];return c},a.copyArray=function(m){for(var c=[],u=0,s=m.length;u<s;u++)m[u]&&typeof m[u]=="object"?c[u]=this.copyObject(m[u]):c[u]=m[u];return c},a.deepCopy=e("./deep_copy").deepCopy,a.arrayToMap=function(m){for(var c={},u=0;u<m.length;u++)c[m[u]]=1;return c},a.createMap=function(m){var c=Object.create(null);for(var u in m)c[u]=m[u];return c},a.arrayRemove=function(m,c){for(var u=0;u<=m.length;u++)c===m[u]&&m.splice(u,1)},a.escapeRegExp=function(m){return m.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},a.escapeHTML=function(m){return(""+m).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},a.getMatchOffsets=function(m,c){var u=[];return m.replace(c,function(s){u.push({offset:arguments[arguments.length-2],length:s.length})}),u},a.deferredCall=function(m){var c=null,u=function(){c=null,m()},s=function(i){return s.cancel(),c=setTimeout(u,i||0),s};return s.schedule=s,s.call=function(){return this.cancel(),m(),s},s.cancel=function(){return clearTimeout(c),c=null,s},s.isPending=function(){return c},s},a.delayedCall=function(m,c){var u=null,s=function(){u=null,m()},i=function(r){u==null&&(u=setTimeout(s,r||c))};return i.delay=function(r){u&&clearTimeout(u),u=setTimeout(s,r||c)},i.schedule=i,i.call=function(){this.cancel(),m()},i.cancel=function(){u&&clearTimeout(u),u=null},i.isPending=function(){return u},i},a.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},a.skipEmptyMatch=function(m,c,u){return u&&m.codePointAt(c)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,a,p){a.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},a.getOS=function(){return a.isMac?a.OS.MAC:a.isLinux?a.OS.LINUX:a.OS.WINDOWS};var d=typeof navigator=="object"?navigator:{},g=(/mac|win|linux/i.exec(d.platform)||["other"])[0].toLowerCase(),m=d.userAgent||"",c=d.appName||"";a.isWin=g=="win",a.isMac=g=="mac",a.isLinux=g=="linux",a.isIE=c=="Microsoft Internet Explorer"||c.indexOf("MSAppHost")>=0?parseFloat((m.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((m.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),a.isOldIE=a.isIE&&a.isIE<9,a.isGecko=a.isMozilla=m.match(/ Gecko\/\d+/),a.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",a.isWebKit=parseFloat(m.split("WebKit/")[1])||void 0,a.isChrome=parseFloat(m.split(" Chrome/")[1])||void 0,a.isSafari=parseFloat(m.split(" Safari/")[1])&&!a.isChrome||void 0,a.isEdge=parseFloat(m.split(" Edge/")[1])||void 0,a.isAIR=m.indexOf("AdobeAIR")>=0,a.isAndroid=m.indexOf("Android")>=0,a.isChromeOS=m.indexOf(" CrOS ")>=0,a.isIOS=/iPad|iPhone|iPod/.test(m)&&!window.MSStream,a.isIOS&&(a.isMac=!0),a.isMobile=a.isIOS||a.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,a,p){var d=e("./useragent"),g="http://www.w3.org/1999/xhtml";a.buildDom=function r(t,n,l){if(typeof t=="string"&&t){var h=document.createTextNode(t);return n&&n.appendChild(h),h}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if(typeof t[0]!="string"||!t[0]){for(var v=[],y=0;y<t.length;y++){var C=r(t[y],n,l);C&&v.push(C)}return v}var $=document.createElement(t[0]),S=t[1],w=1;S&&typeof S=="object"&&!Array.isArray(S)&&(w=2);for(var y=w;y<t.length;y++)r(t[y],$,l);return w==2&&Object.keys(S).forEach(function(T){var E=S[T];T==="class"?$.className=Array.isArray(E)?E.join(" "):E:typeof E=="function"||T=="value"||T[0]=="$"?$[T]=E:T==="ref"?l&&(l[E]=$):T==="style"?typeof E=="string"&&($.style.cssText=E):E!=null&&$.setAttribute(T,E)}),n&&n.appendChild($),$},a.getDocumentHead=function(r){return r||(r=document),r.head||r.getElementsByTagName("head")[0]||r.documentElement},a.createElement=function(r,t){return document.createElementNS?document.createElementNS(t||g,r):document.createElement(r)},a.removeChildren=function(r){r.innerHTML=""},a.createTextNode=function(r,t){var n=t?t.ownerDocument:document;return n.createTextNode(r)},a.createFragment=function(r){var t=r?r.ownerDocument:document;return t.createDocumentFragment()},a.hasCssClass=function(r,t){var n=(r.className+"").split(/\s+/g);return n.indexOf(t)!==-1},a.addCssClass=function(r,t){a.hasCssClass(r,t)||(r.className+=" "+t)},a.removeCssClass=function(r,t){for(var n=r.className.split(/\s+/g);;){var l=n.indexOf(t);if(l==-1)break;n.splice(l,1)}r.className=n.join(" ")},a.toggleCssClass=function(r,t){for(var n=r.className.split(/\s+/g),l=!0;;){var h=n.indexOf(t);if(h==-1)break;l=!1,n.splice(h,1)}return l&&n.push(t),r.className=n.join(" "),l},a.setCssClass=function(r,t,n){n?a.addCssClass(r,t):a.removeCssClass(r,t)},a.hasCssString=function(r,t){var n=0,l;if(t=t||document,l=t.querySelectorAll("style")){for(;n<l.length;)if(l[n++].id===r)return!0}},a.removeElementById=function(r,t){t=t||document,t.getElementById(r)&&t.getElementById(r).remove()};var m,c=[];a.useStrictCSP=function(r){m=r,r==!1?u():c||(c=[])};function u(){var r=c;c=null,r&&r.forEach(function(t){s(t[0],t[1])})}function s(r,t,n){if(!(typeof document>"u")){if(c){if(n)u();else if(n===!1)return c.push([r,t])}if(!m){var l=n;!n||!n.getRootNode?l=document:(l=n.getRootNode(),(!l||l==n)&&(l=document));var h=l.ownerDocument||l;if(t&&a.hasCssString(t,l))return null;t&&(r+=`
/*# sourceURL=ace/css/`+t+" */");var v=a.createElement("style");v.appendChild(h.createTextNode(r)),t&&(v.id=t),l==h&&(l=a.getDocumentHead(h)),l.insertBefore(v,l.firstChild)}}}if(a.importCssString=s,a.importCssStylsheet=function(r,t){a.buildDom(["link",{rel:"stylesheet",href:r}],a.getDocumentHead(t))},a.scrollbarWidth=function(r){var t=a.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var n=a.createElement("ace_outer"),l=n.style;l.position="absolute",l.left="-10000px",l.overflow="hidden",l.width="200px",l.minWidth="0px",l.height="150px",l.display="block",n.appendChild(t);var h=r&&r.documentElement||document&&document.documentElement;if(!h)return 0;h.appendChild(n);var v=t.offsetWidth;l.overflow="scroll";var y=t.offsetWidth;return v===y&&(y=n.clientWidth),h.removeChild(n),v-y},a.computedStyle=function(r,t){return window.getComputedStyle(r,"")||{}},a.setStyle=function(r,t,n){r[t]!==n&&(r[t]=n)},a.HAS_CSS_ANIMATION=!1,a.HAS_CSS_TRANSFORMS=!1,a.HI_DPI=d.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,d.isChromeOS&&(a.HI_DPI=!1),typeof document<"u"){var i=document.createElement("div");a.HI_DPI&&i.style.transform!==void 0&&(a.HAS_CSS_TRANSFORMS=!0),!d.isEdge&&typeof i.style.animationName<"u"&&(a.HAS_CSS_ANIMATION=!0),i=null}a.HAS_CSS_TRANSFORMS?a.translate=function(r,t,n){r.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:a.translate=function(r,t,n){r.style.top=Math.round(n)+"px",r.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,a,p){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var d=e("./dom");a.get=function(g,m){var c=new XMLHttpRequest;c.open("GET",g,!0),c.onreadystatechange=function(){c.readyState===4&&m(c.responseText)},c.send(null)},a.loadScript=function(g,m){var c=d.getDocumentHead(),u=document.createElement("script");u.src=g,c.appendChild(u),u.onload=u.onreadystatechange=function(s,i){(i||!u.readyState||u.readyState=="loaded"||u.readyState=="complete")&&(u=u.onload=u.onreadystatechange=null,i||m())}},a.qualifyURL=function(g){var m=document.createElement("a");return m.href=g,m.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,a,p){a.inherits=function(d,g){d.super_=g,d.prototype=Object.create(g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})},a.mixin=function(d,g){for(var m in g)d[m]=g[m];return d},a.implement=function(d,g){a.mixin(d,g)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,a,p){var d={},g=function(){this.propagationStopped=!0},m=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(c,u){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var s=this._eventRegistry[c]||[],i=this._defaultHandlers[c];if(!(!s.length&&!i)){(typeof u!="object"||!u)&&(u={}),u.type||(u.type=c),u.stopPropagation||(u.stopPropagation=g),u.preventDefault||(u.preventDefault=m),s=s.slice();for(var r=0;r<s.length&&(s[r](u,this),!u.propagationStopped);r++);if(i&&!u.defaultPrevented)return i(u,this)}},d._signal=function(c,u){var s=(this._eventRegistry||{})[c];if(s){s=s.slice();for(var i=0;i<s.length;i++)s[i](u,this)}},d.once=function(c,u){var s=this;if(this.on(c,function i(){s.off(c,i),u.apply(null,arguments)}),!u)return new Promise(function(i){u=i})},d.setDefaultHandler=function(c,u){var s=this._defaultHandlers;if(s||(s=this._defaultHandlers={_disabled_:{}}),s[c]){var i=s[c],r=s._disabled_[c];r||(s._disabled_[c]=r=[]),r.push(i);var t=r.indexOf(u);t!=-1&&r.splice(t,1)}s[c]=u},d.removeDefaultHandler=function(c,u){var s=this._defaultHandlers;if(s){var i=s._disabled_[c];if(s[c]==u)i&&this.setDefaultHandler(c,i.pop());else if(i){var r=i.indexOf(u);r!=-1&&i.splice(r,1)}}},d.on=d.addEventListener=function(c,u,s){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[c];return i||(i=this._eventRegistry[c]=[]),i.indexOf(u)==-1&&i[s?"unshift":"push"](u),u},d.off=d.removeListener=d.removeEventListener=function(c,u){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[c];if(s){var i=s.indexOf(u);i!==-1&&s.splice(i,1)}},d.removeAllListeners=function(c){c||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[c]=void 0),this._defaultHandlers&&(this._defaultHandlers[c]=void 0)},a.EventEmitter=d}),ace.define("ace/lib/report_error",["require","exports","module"],function(e,a,p){a.reportError=function(g,m){var c=new Error(g);c.data=m,typeof console=="object"&&console.error&&console.error(c),setTimeout(function(){throw c})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(e,a,p){var d={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};a.defaultEnglishMessages=d}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(e,a,p){"no use strict";var d=e("./oop"),g=e("./event_emitter").EventEmitter,m=e("./report_error").reportError,c=e("./default_english_messages").defaultEnglishMessages,u={setOptions:function(n){Object.keys(n).forEach(function(l){this.setOption(l,n[l])},this)},getOptions:function(n){var l={};if(n)Array.isArray(n)||(l=n,n=Object.keys(l));else{var h=this.$options;n=Object.keys(h).filter(function(v){return!h[v].hidden})}return n.forEach(function(v){l[v]=this.getOption(v)},this),l},setOption:function(n,l){if(this["$"+n]!==l){var h=this.$options[n];if(!h)return s('misspelled option "'+n+'"');if(h.forwardTo)return this[h.forwardTo]&&this[h.forwardTo].setOption(n,l);h.handlesSet||(this["$"+n]=l),h&&h.set&&h.set.call(this,l)}},getOption:function(n){var l=this.$options[n];return l?l.forwardTo?this[l.forwardTo]&&this[l.forwardTo].getOption(n):l&&l.get?l.get.call(this):this["$"+n]:s('misspelled option "'+n+'"')}};function s(n){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var i,r,t=function(){function n(){this.$defaultOptions={},i=c,r="dollarSigns"}return n.prototype.defineOptions=function(l,h,v){return l.$options||(this.$defaultOptions[h]=l.$options={}),Object.keys(v).forEach(function(y){var C=v[y];typeof C=="string"&&(C={forwardTo:C}),C.name||(C.name=y),l.$options[C.name]=C,"initialValue"in C&&(l["$"+C.name]=C.initialValue)}),d.implement(l,u),this},n.prototype.resetOptions=function(l){Object.keys(l.$options).forEach(function(h){var v=l.$options[h];"value"in v&&l.setOption(h,v.value)})},n.prototype.setDefaultValue=function(l,h,v){if(!l){for(l in this.$defaultOptions)if(this.$defaultOptions[l][h])break;if(!this.$defaultOptions[l][h])return!1}var y=this.$defaultOptions[l]||(this.$defaultOptions[l]={});y[h]&&(y.forwardTo?this.setDefaultValue(y.forwardTo,h,v):y[h].value=v)},n.prototype.setDefaultValues=function(l,h){Object.keys(h).forEach(function(v){this.setDefaultValue(l,v,h[v])},this)},n.prototype.setMessages=function(l,h){i=l,h&&h.placeholders&&(r=h.placeholders)},n.prototype.nls=function(l,h,v){i[l]||(s("No message found for the key '"+l+"' in messages with id "+i.$id+", trying to find a translation for the default string '"+h+"'."),i[h]||s("No message found for the default string '"+h+"' in the provided messages. Falling back to the default English message."));var y=i[l]||i[h]||h;return v&&(r==="dollarSigns"&&(y=y.replace(/\$(\$|[\d]+)/g,function(C,$){return $=="$"?"$":v[$]})),r==="curlyBrackets"&&(y=y.replace(/\{([^\}]+)\}/g,function(C,$){return v[$]}))),y},n}();t.prototype.warn=s,t.prototype.reportError=m,d.implement(t.prototype,g),a.AppConfig=t}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(e,a,p){p.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(e,a,p){a.isDark=!1,a.cssClass="ace-tm",a.cssText=e("./textmate-css"),a.$id="ace/theme/textmate";var d=e("../lib/dom");d.importCssString(a.cssText,a.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(e,a,p){"no use strict";var d=e("./lib/lang"),g=e("./lib/net"),m=e("./lib/dom"),c=e("./lib/app_config").AppConfig;p.exports=a=new c;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};a.get=function(t){if(!u.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return u[t]},a.set=function(t,n){if(u.hasOwnProperty(t))u[t]=n;else if(this.setDefaultValue("",t,n)==!1)throw new Error("Unknown config key: "+t);t=="useStrictCSP"&&m.useStrictCSP(n)},a.all=function(){return d.copyObject(u)},a.$modes={},a.moduleUrl=function(t,n){if(u.$moduleUrls[t])return u.$moduleUrls[t];var l=t.split("/");n=n||l[l.length-2]||"";var h=n=="snippets"?"/":"-",v=l[l.length-1];if(n=="worker"&&h=="-"){var y=new RegExp("^"+n+"[\\-_]|[\\-_]"+n+"$","g");v=v.replace(y,"")}(!v||v==n)&&l.length>1&&(v=l[l.length-2]);var C=u[n+"Path"];return C==null?C=u.basePath:h=="/"&&(n=h=""),C&&C.slice(-1)!="/"&&(C+="/"),C+n+h+v+this.get("suffix")},a.setModuleUrl=function(t,n){return u.$moduleUrls[t]=n};var s=function(t,n){if(t==="ace/theme/textmate"||t==="./theme/textmate")return n(null,e("./theme/textmate"));if(i)return i(t,n);console.error("loader is not configured")},i;a.setLoader=function(t){i=t},a.dynamicModules=Object.create(null),a.$loading={},a.$loaded={},a.loadModule=function(t,n){var l;if(Array.isArray(t))var h=t[0],v=t[1];else if(typeof t=="string")var v=t;var y=function(C){if(C&&!a.$loading[v])return n&&n(C);if(a.$loading[v]||(a.$loading[v]=[]),a.$loading[v].push(n),!(a.$loading[v].length>1)){var $=function(){s(v,function(S,w){w&&(a.$loaded[v]=w),a._emit("load.module",{name:v,module:w});var T=a.$loading[v];a.$loading[v]=null,T.forEach(function(E){E&&E(w)})})};if(!a.get("packaged"))return $();g.loadScript(a.moduleUrl(v,h),$),r()}};if(a.dynamicModules[v])a.dynamicModules[v]().then(function(C){C.default?y(C.default):y(C)});else{try{l=this.$require(v)}catch{}y(l||a.$loaded[v])}},a.$require=function(t){if(typeof p.require=="function"){var n="require";return p[n](t)}},a.setModuleLoader=function(t,n){a.dynamicModules[t]=n};var r=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),r=function(){})};a.version="1.39.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(e,a,p){e("./lib/fixoldbrowsers");var d=e("./config");d.setLoader(function(u,s){e([u],function(i){s(null,i)})});var g=function(){return this||typeof window<"u"&&window}();p.exports=function(u){d.init=m,d.$require=e,u.require=e},m(!0);function m(u){if(!(!g||!g.document)){d.set("packaged",u||e.packaged||p.packaged||g.define&&(void 0).packaged);var s={},i="",r=document.currentScript||document._currentScript,t=r&&r.ownerDocument||document;r&&r.src&&(i=r.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var n=t.getElementsByTagName("script"),l=0;l<n.length;l++){var h=n[l],v=h.src||h.getAttribute("src");if(v){for(var y=h.attributes,C=0,$=y.length;C<$;C++){var S=y[C];S.name.indexOf("data-ace-")===0&&(s[c(S.name.replace(/^data-ace-/,""))]=S.value)}var w=v.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);w&&(i=w[1])}}i&&(s.base=s.base||i,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var T in s)typeof s[T]<"u"&&d.set(T,s[T])}}function c(u){return u.replace(/-(.)/g,function(s,i){return i.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(e,a,p){var d=function(){function g(m,c,u,s){this.start={row:m,column:c},this.end={row:u,column:s}}return g.prototype.isEqual=function(m){return this.start.row===m.start.row&&this.end.row===m.end.row&&this.start.column===m.start.column&&this.end.column===m.end.column},g.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},g.prototype.contains=function(m,c){return this.compare(m,c)==0},g.prototype.compareRange=function(m){var c,u=m.end,s=m.start;return c=this.compare(u.row,u.column),c==1?(c=this.compare(s.row,s.column),c==1?2:c==0?1:0):c==-1?-2:(c=this.compare(s.row,s.column),c==-1?-1:c==1?42:0)},g.prototype.comparePoint=function(m){return this.compare(m.row,m.column)},g.prototype.containsRange=function(m){return this.comparePoint(m.start)==0&&this.comparePoint(m.end)==0},g.prototype.intersects=function(m){var c=this.compareRange(m);return c==-1||c==0||c==1},g.prototype.isEnd=function(m,c){return this.end.row==m&&this.end.column==c},g.prototype.isStart=function(m,c){return this.start.row==m&&this.start.column==c},g.prototype.setStart=function(m,c){typeof m=="object"?(this.start.column=m.column,this.start.row=m.row):(this.start.row=m,this.start.column=c)},g.prototype.setEnd=function(m,c){typeof m=="object"?(this.end.column=m.column,this.end.row=m.row):(this.end.row=m,this.end.column=c)},g.prototype.inside=function(m,c){return this.compare(m,c)==0?!(this.isEnd(m,c)||this.isStart(m,c)):!1},g.prototype.insideStart=function(m,c){return this.compare(m,c)==0?!this.isEnd(m,c):!1},g.prototype.insideEnd=function(m,c){return this.compare(m,c)==0?!this.isStart(m,c):!1},g.prototype.compare=function(m,c){return!this.isMultiLine()&&m===this.start.row?c<this.start.column?-1:c>this.end.column?1:0:m<this.start.row?-1:m>this.end.row?1:this.start.row===m?c>=this.start.column?0:-1:this.end.row===m?c<=this.end.column?0:1:0},g.prototype.compareStart=function(m,c){return this.start.row==m&&this.start.column==c?-1:this.compare(m,c)},g.prototype.compareEnd=function(m,c){return this.end.row==m&&this.end.column==c?1:this.compare(m,c)},g.prototype.compareInside=function(m,c){return this.end.row==m&&this.end.column==c?1:this.start.row==m&&this.start.column==c?-1:this.compare(m,c)},g.prototype.clipRows=function(m,c){if(this.end.row>c)var u={row:c+1,column:0};else if(this.end.row<m)var u={row:m,column:0};if(this.start.row>c)var s={row:c+1,column:0};else if(this.start.row<m)var s={row:m,column:0};return g.fromPoints(s||this.start,u||this.end)},g.prototype.extend=function(m,c){var u=this.compare(m,c);if(u==0)return this;if(u==-1)var s={row:m,column:c};else var i={row:m,column:c};return g.fromPoints(s||this.start,i||this.end)},g.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},g.prototype.isMultiLine=function(){return this.start.row!==this.end.row},g.prototype.clone=function(){return g.fromPoints(this.start,this.end)},g.prototype.collapseRows=function(){return this.end.column==0?new g(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new g(this.start.row,0,this.end.row,0)},g.prototype.toScreenRange=function(m){var c=m.documentToScreenPosition(this.start),u=m.documentToScreenPosition(this.end);return new g(c.row,c.column,u.row,u.column)},g.prototype.moveBy=function(m,c){this.start.row+=m,this.start.column+=c,this.end.row+=m,this.end.column+=c},g}();d.fromPoints=function(g,m){return new d(g.row,g.column,m.row,m.column)},d.comparePoints=function(g,m){return g.row-m.row||g.column-m.column},a.Range=d}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,a,p){for(var d=e("./oop"),g={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},m={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},c=0;c<10;c++)m["Digit"+c]=48+c,m["Numpad"+c]=96+c,g.PRINTABLE_KEYS[48+c]=""+c,g.FUNCTION_KEYS[96+c]="Numpad"+c;for(var c=65;c<91;c++){var u=String.fromCharCode(c+32);m["Key"+u.toUpperCase()]=c,g.PRINTABLE_KEYS[c]=u}for(var c=1;c<13;c++)m["F"+c]=111+c,g.FUNCTION_KEYS[111+c]="F"+c;var s={Shift:16,Control:17,Alt:18,Meta:224};for(var i in s)m[i]=m[i+"Left"]=m[i+"Right"]=s[i];a.$codeToKeyCode=m,g.PRINTABLE_KEYS[173]="-";for(var r in g.FUNCTION_KEYS){var t=g.FUNCTION_KEYS[r].toLowerCase();g[t]=parseInt(r,10)}for(var r in g.PRINTABLE_KEYS){var t=g.PRINTABLE_KEYS[r].toLowerCase();g[t]=parseInt(r,10)}d.mixin(g,g.MODIFIER_KEYS),d.mixin(g,g.PRINTABLE_KEYS),d.mixin(g,g.FUNCTION_KEYS),g.enter=g.return,g.escape=g.esc,g.del=g.delete,function(){for(var n=["cmd","ctrl","alt","shift"],l=Math.pow(2,n.length);l--;)g.KEY_MODS[l]=n.filter(function(h){return l&g.KEY_MODS[h]}).join("-")+"-"}(),g.KEY_MODS[0]="",g.KEY_MODS[-1]="input-",d.mixin(a,g),a.default=a,a.keyCodeToString=function(n){var l=g[n];return typeof l!="string"&&(l=String.fromCharCode(n)),l.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,a,p){var d=e("./keys"),g=e("./useragent"),m=null,c=0,u;function s(){u=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return u={passive:!1},!0}})}catch{}}function i(){return u==null&&s(),u}function r(C,$,S){this.elem=C,this.type=$,this.callback=S}r.prototype.destroy=function(){n(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var t=a.addListener=function(C,$,S,w){C.addEventListener($,S,i()),w&&w.$toDestroy.push(new r(C,$,S))},n=a.removeListener=function(C,$,S){C.removeEventListener($,S,i())};a.stopEvent=function(C){return a.stopPropagation(C),a.preventDefault(C),!1},a.stopPropagation=function(C){C.stopPropagation&&C.stopPropagation()},a.preventDefault=function(C){C.preventDefault&&C.preventDefault()},a.getButton=function(C){return C.type=="dblclick"?0:C.type=="contextmenu"||g.isMac&&C.ctrlKey&&!C.altKey&&!C.shiftKey?2:C.button},a.capture=function(C,$,S){var w=C&&C.ownerDocument||document;function T(E){$&&$(E),S&&S(E),n(w,"mousemove",$),n(w,"mouseup",T),n(w,"dragstart",T)}return t(w,"mousemove",$),t(w,"mouseup",T),t(w,"dragstart",T),T},a.addMouseWheelListener=function(C,$,S){t(C,"wheel",function(w){var T=.15,E=w.deltaX||0,_=w.deltaY||0;switch(w.deltaMode){case w.DOM_DELTA_PIXEL:w.wheelX=E*T,w.wheelY=_*T;break;case w.DOM_DELTA_LINE:var k=15;w.wheelX=E*k,w.wheelY=_*k;break;case w.DOM_DELTA_PAGE:var D=150;w.wheelX=E*D,w.wheelY=_*D;break}$(w)},S)},a.addMultiMouseDownListener=function(C,$,S,w,T){var E=0,_,k,D,A={2:"dblclick",3:"tripleclick",4:"quadclick"};function R(b){if(a.getButton(b)!==0?E=0:b.detail>1?(E++,E>4&&(E=1)):E=1,g.isIE){var x=Math.abs(b.clientX-_)>5||Math.abs(b.clientY-k)>5;(!D||x)&&(E=1),D&&clearTimeout(D),D=setTimeout(function(){D=null},$[E-1]||600),E==1&&(_=b.clientX,k=b.clientY)}if(b._clicks=E,S[w]("mousedown",b),E>4)E=0;else if(E>1)return S[w](A[E],b)}Array.isArray(C)||(C=[C]),C.forEach(function(b){t(b,"mousedown",R,T)})};function l(C){return 0|(C.ctrlKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.metaKey?8:0)}a.getModifierString=function(C){return d.KEY_MODS[l(C)]};function h(C,$,S){var w=l($);if(!S&&$.code&&(S=d.$codeToKeyCode[$.code]||S),!g.isMac&&m){if($.getModifierState&&($.getModifierState("OS")||$.getModifierState("Win"))&&(w|=8),m.altGr)if((3&w)!=3)m.altGr=0;else return;if(S===18||S===17){var T=$.location;if(S===17&&T===1)m[S]==1&&(c=$.timeStamp);else if(S===18&&w===3&&T===2){var E=$.timeStamp-c;E<50&&(m.altGr=!0)}}}if(S in d.MODIFIER_KEYS&&(S=-1),!(!w&&S===13&&$.location===3&&(C($,w,-S),$.defaultPrevented))){if(g.isChromeOS&&w&8){if(C($,w,S),$.defaultPrevented)return;w&=-9}return!w&&!(S in d.FUNCTION_KEYS)&&!(S in d.PRINTABLE_KEYS)?!1:C($,w,S)}}a.addCommandKeyListener=function(C,$,S){var w=null;t(C,"keydown",function(T){m[T.keyCode]=(m[T.keyCode]||0)+1;var E=h($,T,T.keyCode);return w=T.defaultPrevented,E},S),t(C,"keypress",function(T){w&&(T.ctrlKey||T.altKey||T.shiftKey||T.metaKey)&&(a.stopEvent(T),w=null)},S),t(C,"keyup",function(T){m[T.keyCode]=null},S),m||(v(),t(window,"focus",v))};function v(){m=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!g.isOldIE){var y=1;a.nextTick=function(C,$){$=$||window;var S="zero-timeout-message-"+y++,w=function(T){T.data==S&&(a.stopPropagation(T),n($,"message",w),C())};t($,"message",w),$.postMessage(S,"*")}}a.$idleBlocked=!1,a.onIdle=function(C,$){return setTimeout(function S(){a.$idleBlocked?setTimeout(S,100):C()},$)},a.$idleBlockId=null,a.blockIdle=function(C){a.$idleBlockId&&clearTimeout(a.$idleBlockId),a.$idleBlocked=!0,a.$idleBlockId=setTimeout(function(){a.$idleBlocked=!1},C||100)},a.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),a.nextFrame?a.nextFrame=a.nextFrame.bind(window):a.nextFrame=function(C){setTimeout(C,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(e,a,p){var d;p.exports={lineMode:!1,pasteCancelled:function(){return d&&d>Date.now()-50?!0:d=!1},cancel:function(){d=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(e,a,p){var d=e("../lib/event"),g=e("../config").nls,m=e("../lib/useragent"),c=e("../lib/dom"),u=e("../lib/lang"),s=e("../clipboard"),i=m.isChrome<18,r=m.isIE,t=m.isChrome>63,n=400,l=e("../lib/keys"),h=l.KEY_MODS,v=m.isIOS,y=v?/\s/:/\n/,C=m.isMobile,$;$=function(S,w){var T=c.createElement("textarea");T.className="ace_text-input",T.setAttribute("wrap","off"),T.setAttribute("autocorrect","off"),T.setAttribute("autocapitalize","off"),T.setAttribute("spellcheck","false"),T.style.opacity="0",S.insertBefore(T,S.firstChild);var E=!1,_=!1,k=!1,D=!1,A="";C||(T.style.fontSize="1px");var R=!1,b=!1,x="",M=0,L=0,O=0,N=Number.MAX_SAFE_INTEGER,F=Number.MIN_SAFE_INTEGER,j=0;try{var W=document.activeElement===T}catch{}this.setNumberOfExtraLines=function(Z){if(N=Number.MAX_SAFE_INTEGER,F=Number.MIN_SAFE_INTEGER,Z<0){j=0;return}j=Z},this.setAriaLabel=function(){var Z="";if(w.$textInputAriaLabel&&(Z+="".concat(w.$textInputAriaLabel,", ")),w.session){var ie=w.session.selection.cursor.row;Z+=g("text-input.aria-label","Cursor at row $0",[ie+1])}T.setAttribute("aria-label",Z)},this.setAriaOptions=function(Z){Z.activeDescendant?(T.setAttribute("aria-haspopup","true"),T.setAttribute("aria-autocomplete",Z.inline?"both":"list"),T.setAttribute("aria-activedescendant",Z.activeDescendant)):(T.setAttribute("aria-haspopup","false"),T.setAttribute("aria-autocomplete","both"),T.removeAttribute("aria-activedescendant")),Z.role&&T.setAttribute("role",Z.role),Z.setLabel&&(T.setAttribute("aria-roledescription",g("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),d.addListener(T,"blur",function(Z){b||(w.onBlur(Z),W=!1)},w),d.addListener(T,"focus",function(Z){if(!b){if(W=!0,m.isEdge)try{if(!document.hasFocus())return}catch{}w.onFocus(Z),m.isEdge?setTimeout(z):z()}},w),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:w.renderer.enableKeyboardAccessibility}),A||t||this.$focusScroll=="browser")return T.focus({preventScroll:!0});var Z=T.style.top;T.style.position="fixed",T.style.top="0px";try{var ie=T.getBoundingClientRect().top!=0}catch{return}var oe=[];if(ie)for(var me=T.parentElement;me&&me.nodeType==1;)oe.push(me),me.setAttribute("ace_nocontext","true"),!me.parentElement&&me.getRootNode?me=me.getRootNode().host:me=me.parentElement;T.focus({preventScroll:!0}),ie&&oe.forEach(function(ye){ye.removeAttribute("ace_nocontext")}),setTimeout(function(){T.style.position="",T.style.top=="0px"&&(T.style.top=Z)},0)},this.blur=function(){T.blur()},this.isFocused=function(){return W},w.on("beforeEndOperation",function(){var Z=w.curOp,ie=Z&&Z.command&&Z.command.name;if(ie!="insertstring"){var oe=ie&&(Z.docChanged||Z.selectionChanged);k&&oe&&(x=T.value="",de()),z()}}),w.on("changeSelection",this.setAriaLabel);var P=function(Z,ie){for(var oe=ie,me=1;me<=Z-N&&me<2*j+1;me++)oe+=w.session.getLine(Z-me).length+1;return oe},z=v?function(Z){if(!(!W||E&&!Z||D)){Z||(Z="");var ie=`
 ab`+Z+`cde fg
`;ie!=T.value&&(T.value=x=ie);var oe=4,me=4+(Z.length||(w.selection.isEmpty()?0:1));(M!=oe||L!=me)&&T.setSelectionRange(oe,me),M=oe,L=me}}:function(){if(!(k||D)&&!(!W&&!Y)){k=!0;var Z=0,ie=0,oe="";if(w.session){var me=w.selection,ye=me.getRange(),Ce=me.cursor.row;Ce===F+1?(N=F+1,F=N+2*j):Ce===N-1?(F=N-1,N=F-2*j):(Ce<N-1||Ce>F+1)&&(N=Ce>j?Ce-j:0,F=Ce>j?Ce+j:2*j);for(var xe=[],Me=N;Me<=F;Me++)xe.push(w.session.getLine(Me));if(oe=xe.join(`
`),Z=P(ye.start.row,ye.start.column),ie=P(ye.end.row,ye.end.column),ye.start.row<N){var Ae=w.session.getLine(N-1);Z=ye.start.row<N-1?0:Z,ie+=Ae.length+1,oe=Ae+`
`+oe}else if(ye.end.row>F){var Se=w.session.getLine(F+1);ie=ye.end.row>F+1?Se.length:ye.end.column,ie+=oe.length+1,oe=oe+`
`+Se}else C&&Ce>0&&(oe=`
`+oe,ie+=1,Z+=1);oe.length>n&&(Z<n&&ie<n?oe=oe.slice(0,n):(oe=`
`,Z==ie?Z=ie=0:(Z=0,ie=1)));var X=oe+`

`;X!=x&&(T.value=x=X,M=L=X.length)}if(Y&&(M=T.selectionStart,L=T.selectionEnd),L!=ie||M!=Z||T.selectionEnd!=L)try{T.setSelectionRange(Z,ie),M=Z,L=ie}catch{}k=!1}};this.resetSelection=z,W&&w.onFocus();var H=function(Z){return Z.selectionStart===0&&Z.selectionEnd>=x.length&&Z.value===x&&x&&Z.selectionEnd!==L},G=function(Z){k||(E?E=!1:H(T)?(w.selectAll(),z()):C&&T.selectionStart!=M&&z())},V=null;this.setInputHandler=function(Z){V=Z},this.getInputHandler=function(){return V};var Y=!1,K=function(Z,ie){if(Y&&(Y=!1),_)return z(),Z&&w.onPaste(Z),_=!1,"";for(var oe=T.selectionStart,me=T.selectionEnd,ye=M,Ce=x.length-L,xe=Z,Me=Z.length-oe,Ae=Z.length-me,Se=0;ye>0&&x[Se]==Z[Se];)Se++,ye--;for(xe=xe.slice(Se),Se=1;Ce>0&&x.length-Se>M-1&&x[x.length-Se]==Z[Z.length-Se];)Se++,Ce--;Me-=Se-1,Ae-=Se-1;var X=xe.length-Se+1;if(X<0&&(ye=-X,X=0),xe=xe.slice(0,X),!ie&&!xe&&!Me&&!ye&&!Ce&&!Ae)return"";D=!0;var te=!1;return m.isAndroid&&xe==". "&&(xe="  ",te=!0),xe&&!ye&&!Ce&&!Me&&!Ae||R?w.onTextInput(xe):w.onTextInput(xe,{extendLeft:ye,extendRight:Ce,restoreStart:Me,restoreEnd:Ae}),D=!1,x=Z,M=oe,L=me,O=Ae,te?`
`:xe},q=function(Z){if(k)return ke();if(Z&&Z.inputType){if(Z.inputType=="historyUndo")return w.execCommand("undo");if(Z.inputType=="historyRedo")return w.execCommand("redo")}var ie=T.value,oe=K(ie,!0);(ie.length>n+100||y.test(oe)||C&&M<1&&M==L)&&z()},J=function(Z,ie,oe){var me=Z.clipboardData||window.clipboardData;if(!(!me||i)){var ye=r||oe?"Text":"text/plain";try{return ie?me.setData(ye,ie)!==!1:me.getData(ye)}catch(Ce){if(!oe)return J(Ce,ie,!0)}}},ne=function(Z,ie){var oe=w.getCopyText();if(!oe)return d.preventDefault(Z);J(Z,oe)?(v&&(z(oe),E=oe,setTimeout(function(){E=!1},10)),ie?w.onCut():w.onCopy(),d.preventDefault(Z)):(E=!0,T.value=oe,T.select(),setTimeout(function(){E=!1,z(),ie?w.onCut():w.onCopy()}))},ce=function(Z){ne(Z,!0)},se=function(Z){ne(Z,!1)},le=function(Z){var ie=J(Z);s.pasteCancelled()||(typeof ie=="string"?(ie&&w.onPaste(ie,Z),m.isIE&&setTimeout(z),d.preventDefault(Z)):(T.value="",_=!0))};d.addCommandKeyListener(T,function(Z,ie,oe){if(!k)return w.onCommandKey(Z,ie,oe)},w),d.addListener(T,"select",G,w),d.addListener(T,"input",q,w),d.addListener(T,"cut",ce,w),d.addListener(T,"copy",se,w),d.addListener(T,"paste",le,w),(!("oncut"in T)||!("oncopy"in T)||!("onpaste"in T))&&d.addListener(S,"keydown",function(Z){if(!(m.isMac&&!Z.metaKey||!Z.ctrlKey))switch(Z.keyCode){case 67:se(Z);break;case 86:le(Z);break;case 88:ce(Z);break}},w);var ue=function(Z){if(!(k||!w.onCompositionStart||w.$readOnly)&&(k={},!R)){Z.data&&(k.useTextareaForIME=!1),setTimeout(ke,0),w._signal("compositionStart"),w.on("mousedown",$e);var ie=w.getSelectionRange();ie.end.row=ie.start.row,ie.end.column=ie.start.column,k.markerRange=ie,k.selectionStart=M,w.onCompositionStart(k),k.useTextareaForIME?(x=T.value="",M=0,L=0):(T.msGetInputContext&&(k.context=T.msGetInputContext()),T.getInputContext&&(k.context=T.getInputContext()))}},ke=function(){if(!(!k||!w.onCompositionUpdate||w.$readOnly)){if(R)return $e();if(k.useTextareaForIME)w.onCompositionUpdate(T.value);else{var Z=T.value;K(Z),k.markerRange&&(k.context&&(k.markerRange.start.column=k.selectionStart=k.context.compositionStartOffset),k.markerRange.end.column=k.markerRange.start.column+L-k.selectionStart+O)}}},de=function(Z){!w.onCompositionEnd||w.$readOnly||(k=!1,w.onCompositionEnd(),w.off("mousedown",$e),Z&&q())};function $e(){b=!0,T.blur(),T.focus(),b=!1}var Ke=u.delayedCall(ke,50).schedule.bind(null,null);function rt(Z){Z.keyCode==27&&T.value.length<T.selectionStart&&(k||(x=T.value),M=L=-1,z()),Ke()}d.addListener(T,"compositionstart",ue,w),d.addListener(T,"compositionupdate",ke,w),d.addListener(T,"keyup",rt,w),d.addListener(T,"keydown",Ke,w),d.addListener(T,"compositionend",de,w),this.getElement=function(){return T},this.setCommandMode=function(Z){R=Z,T.readOnly=!1},this.setReadOnly=function(Z){R||(T.readOnly=Z)},this.setCopyWithEmptySelection=function(Z){},this.onContextMenu=function(Z){Y=!0,z(),w._emit("nativecontextmenu",{target:w,domEvent:Z}),this.moveToMouse(Z,!0)},this.moveToMouse=function(Z,ie){A||(A=T.style.cssText),T.style.cssText=(ie?"z-index:100000;":"")+(m.isIE?"opacity:0.1;":"")+"text-indent: -"+(M+L)*w.renderer.characterWidth*.5+"px;";var oe=w.container.getBoundingClientRect(),me=c.computedStyle(w.container),ye=oe.top+(parseInt(me.borderTopWidth)||0),Ce=oe.left+(parseInt(me.borderLeftWidth)||0),xe=oe.bottom-ye-T.clientHeight-2,Me=function(Ae){c.translate(T,Ae.clientX-Ce-2,Math.min(Ae.clientY-ye-2,xe))};Me(Z),Z.type=="mousedown"&&(w.renderer.$isMousePressed=!0,clearTimeout(Ve),m.isWin&&d.capture(w.container,Me,Je))},this.onContextMenuClose=Je;var Ve;function Je(){clearTimeout(Ve),Ve=setTimeout(function(){A&&(T.style.cssText=A,A=""),w.renderer.$isMousePressed=!1,w.renderer.$keepTextAreaAtCursor&&w.renderer.$moveTextAreaToCursor()},0)}var Ne=function(Z){w.textInput.onContextMenu(Z),Je()};d.addListener(T,"mouseup",Ne,w),d.addListener(T,"mousedown",function(Z){Z.preventDefault(),Je()},w),d.addListener(w.renderer.scroller,"contextmenu",Ne,w),d.addListener(T,"contextmenu",Ne,w),v&&Qe(S,w,T);function Qe(Z,ie,oe){var me=null,ye=!1;oe.addEventListener("keydown",function(xe){me&&clearTimeout(me),ye=!0},!0),oe.addEventListener("keyup",function(xe){me=setTimeout(function(){ye=!1},100)},!0);var Ce=function(xe){if(document.activeElement===oe&&!(ye||k||ie.$mouseHandler.isMousePressed)&&!E){var Me=oe.selectionStart,Ae=oe.selectionEnd,Se=null,X=0;if(Me==0?Se=l.up:Me==1?Se=l.home:Ae>L&&x[Ae]==`
`?Se=l.end:Me<M&&x[Me-1]==" "?(Se=l.left,X=h.option):Me<M||Me==M&&L!=M&&Me==Ae?Se=l.left:Ae>L&&x.slice(0,Ae).split(`
`).length>2?Se=l.down:Ae>L&&x[Ae-1]==" "?(Se=l.right,X=h.option):(Ae>L||Ae==L&&L!=M&&Me==Ae)&&(Se=l.right),Me!==Ae&&(X|=h.shift),Se){var te=ie.onCommandKey({},X,Se);if(!te&&ie.commands){Se=l.keyCodeToString(Se);var he=ie.commands.findKeyCommand(X,Se);he&&ie.execCommand(he)}M=Me,L=Ae,z("")}}};document.addEventListener("selectionchange",Ce),ie.on("destroy",function(){document.removeEventListener("selectionchange",Ce)})}this.destroy=function(){T.parentElement&&T.parentElement.removeChild(T)}},a.TextInput=$,a.$setUserAgentForTests=function(S,w){C=S,v=w}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,a,p){var d=e("../lib/useragent"),g=0,m=550,c=function(){function i(r){r.$clickSelection=null;var t=r.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(r)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(r)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(r)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(r)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(r));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(l){r[l]=this[l]},this),r.selectByLines=this.extendSelectionBy.bind(r,"getLineRange"),r.selectByWords=this.extendSelectionBy.bind(r,"getWordRange")}return i.prototype.onMouseDown=function(r){var t=r.inSelection(),n=r.getDocumentPosition();this.mousedownEvent=r;var l=this.editor,h=r.getButton();if(h!==0){var v=l.getSelectionRange(),y=v.isEmpty();(y||h==1)&&l.selection.moveToPosition(n),h==2&&(l.textInput.onContextMenu(r.domEvent),d.isMozilla||r.preventDefault());return}if(this.mousedownEvent.time=Date.now(),t&&!l.isFocused()&&(l.focus(),this.$focusTimeout&&!this.$clickSelection&&!l.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(r);return}return this.captureMouse(r),this.startSelect(n,r.domEvent._clicks>1),r.preventDefault()},i.prototype.startSelect=function(r,t){r=r||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(r):t||n.selection.moveToPosition(r),t||this.select(),n.setStyle("ace_selecting"),this.setState("select"))},i.prototype.select=function(){var r,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var l=this.$clickSelection.comparePoint(n);if(l==-1)r=this.$clickSelection.end;else if(l==1)r=this.$clickSelection.start;else{var h=s(this.$clickSelection,n);n=h.cursor,r=h.anchor}t.selection.setSelectionAnchor(r.row,r.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},i.prototype.extendSelectionBy=function(r){var t,n=this.editor,l=n.renderer.screenToTextCoordinates(this.x,this.y),h=n.selection[r](l.row,l.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(h.start),y=this.$clickSelection.comparePoint(h.end);if(v==-1&&y<=0)t=this.$clickSelection.end,(h.end.row!=l.row||h.end.column!=l.column)&&(l=h.start);else if(y==1&&v>=0)t=this.$clickSelection.start,(h.start.row!=l.row||h.start.column!=l.column)&&(l=h.end);else if(v==-1&&y==1)l=h.end,t=h.start;else{var C=s(this.$clickSelection,l);l=C.cursor,t=C.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(l),n.renderer.scrollCursorIntoView()},i.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},i.prototype.focusWait=function(){var r=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(r>g||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},i.prototype.onDoubleClick=function(r){var t=r.getDocumentPosition(),n=this.editor,l=n.session,h=l.getBracketRange(t);h?(h.isEmpty()&&(h.start.column--,h.end.column++),this.setState("select")):(h=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=h,this.select()},i.prototype.onTripleClick=function(r){var t=r.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var l=n.getSelectionRange();l.isMultiLine()&&l.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(l.start.row),this.$clickSelection.end=n.selection.getLineRange(l.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},i.prototype.onQuadClick=function(r){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},i.prototype.onMouseWheel=function(r){if(!r.getAccelKey()){r.getShiftKey()&&r.wheelY&&!r.wheelX&&(r.wheelX=r.wheelY,r.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,l=r.domEvent.timeStamp,h=l-n.t,v=h?r.wheelX/h:n.vx,y=h?r.wheelY/h:n.vy;h<m&&(v=(v+n.vx)/2,y=(y+n.vy)/2);var C=Math.abs(v/y),$=!1;if(C>=1&&t.renderer.isScrollableBy(r.wheelX*r.speed,0)&&($=!0),C<=1&&t.renderer.isScrollableBy(0,r.wheelY*r.speed)&&($=!0),$)n.allowed=l;else if(l-n.allowed<m){var S=Math.abs(v)<=1.5*Math.abs(n.vx)&&Math.abs(y)<=1.5*Math.abs(n.vy);S?($=!0,n.allowed=l):n.allowed=0}if(n.t=l,n.vx=v,n.vy=y,$)return t.renderer.scrollBy(r.wheelX*r.speed,r.wheelY*r.speed),r.stop()}},i}();c.prototype.selectEnd=c.prototype.selectByLinesEnd,c.prototype.selectAllEnd=c.prototype.selectByLinesEnd,c.prototype.selectByWordsEnd=c.prototype.selectByLinesEnd,a.DefaultHandlers=c;function u(i,r,t,n){return Math.sqrt(Math.pow(t-i,2)+Math.pow(n-r,2))}function s(i,r){if(i.start.row==i.end.row)var t=2*r.column-i.start.column-i.end.column;else if(i.start.row==i.end.row-1&&!i.start.column&&!i.end.column)var t=r.column-4;else var t=2*r.row-i.start.row-i.end.row;return t<0?{cursor:i.start,anchor:i.end}:{cursor:i.end,anchor:i.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(e,a,p){a.preventParentScroll=function(g){g.stopPropagation();var m=g.currentTarget,c=m.scrollHeight>m.clientHeight;c||g.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(e,a,p){var d=this&&this.__extends||function(){var l=function(h,v){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var $ in C)Object.prototype.hasOwnProperty.call(C,$)&&(y[$]=C[$])},l(h,v)};return function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");l(h,v);function y(){this.constructor=h}h.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),g=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,v=h&&l[h],y=0;if(v)return v.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&y>=l.length&&(l=void 0),{value:l&&l[y++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},m=e("./lib/dom");e("./lib/event");var c=e("./range").Range,u=e("./lib/scroll").preventParentScroll,s="ace_tooltip",i=function(){function l(h){this.isOpen=!1,this.$element=null,this.$parentNode=h}return l.prototype.$init=function(){return this.$element=m.createElement("div"),this.$element.className=s,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},l.prototype.getElement=function(){return this.$element||this.$init()},l.prototype.setText=function(h){this.getElement().textContent=h},l.prototype.setHtml=function(h){this.getElement().innerHTML=h},l.prototype.setPosition=function(h,v){this.getElement().style.left=h+"px",this.getElement().style.top=v+"px"},l.prototype.setClassName=function(h){m.addCssClass(this.getElement(),h)},l.prototype.setTheme=function(h){this.$element.className=s+" "+(h.isDark?"ace_dark ":"")+(h.cssClass||"")},l.prototype.show=function(h,v,y){h!=null&&this.setText(h),v!=null&&y!=null&&this.setPosition(v,y),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},l.prototype.hide=function(h){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=s,this.isOpen=!1)},l.prototype.getHeight=function(){return this.getElement().offsetHeight},l.prototype.getWidth=function(){return this.getElement().offsetWidth},l.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},l}(),r=function(){function l(){this.popups=[]}return l.prototype.addPopup=function(h){this.popups.push(h),this.updatePopups()},l.prototype.removePopup=function(h){var v=this.popups.indexOf(h);v!==-1&&(this.popups.splice(v,1),this.updatePopups())},l.prototype.updatePopups=function(){var h,v,y,C;this.popups.sort(function(A,R){return R.priority-A.priority});var $=[];try{for(var S=g(this.popups),w=S.next();!w.done;w=S.next()){var T=w.value,E=!0;try{for(var _=(y=void 0,g($)),k=_.next();!k.done;k=_.next()){var D=k.value;if(this.doPopupsOverlap(D,T)){E=!1;break}}}catch(A){y={error:A}}finally{try{k&&!k.done&&(C=_.return)&&C.call(_)}finally{if(y)throw y.error}}E?$.push(T):T.hide()}}catch(A){h={error:A}}finally{try{w&&!w.done&&(v=S.return)&&v.call(S)}finally{if(h)throw h.error}}},l.prototype.doPopupsOverlap=function(h,v){var y=h.getElement().getBoundingClientRect(),C=v.getElement().getBoundingClientRect();return y.left<C.right&&y.right>C.left&&y.top<C.bottom&&y.bottom>C.top},l}(),t=new r;a.popupManager=t,a.Tooltip=i;var n=function(l){d(h,l);function h(v){v===void 0&&(v=document.body);var y=l.call(this,v)||this;y.timeout=void 0,y.lastT=0,y.idleTime=350,y.lastEvent=void 0,y.onMouseOut=y.onMouseOut.bind(y),y.onMouseMove=y.onMouseMove.bind(y),y.waitForHover=y.waitForHover.bind(y),y.hide=y.hide.bind(y);var C=y.getElement();return C.style.whiteSpace="pre-wrap",C.style.pointerEvents="auto",C.addEventListener("mouseout",y.onMouseOut),C.tabIndex=-1,C.addEventListener("blur",(function(){C.contains(document.activeElement)||this.hide()}).bind(y)),C.addEventListener("wheel",u),y}return h.prototype.addToEditor=function(v){v.on("mousemove",this.onMouseMove),v.on("mousedown",this.hide),v.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},h.prototype.removeFromEditor=function(v){v.off("mousemove",this.onMouseMove),v.off("mousedown",this.hide),v.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},h.prototype.onMouseMove=function(v,y){this.lastEvent=v,this.lastT=Date.now();var C=y.$mouseHandler.isMousePressed;if(this.isOpen){var $=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains($.row,$.column)||C||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||C||(this.lastEvent=v,this.timeout=setTimeout(this.waitForHover,this.idleTime))},h.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var v=Date.now()-this.lastT;if(this.idleTime-v>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-v);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},h.prototype.isOutsideOfText=function(v){var y=v.editor,C=v.getDocumentPosition(),$=y.session.getLine(C.row);if(C.column==$.length){var S=y.renderer.pixelToScreenCoordinates(v.clientX,v.clientY),w=y.session.documentToScreenPosition(C.row,C.column);if(w.column!=S.column||w.row!=S.row)return!0}return!1},h.prototype.setDataProvider=function(v){this.$gatherData=v},h.prototype.showForRange=function(v,y,C,$){var S=10;if(!($&&$!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var w=v.renderer;this.isOpen||(t.addPopup(this),this.$registerCloseEvents(),this.setTheme(w.theme)),this.isOpen=!0,this.addMarker(y,v.session),this.range=c.fromPoints(y.start,y.end);var T=w.textToScreenCoordinates(y.start.row,y.start.column),E=w.scroller.getBoundingClientRect();T.pageX<E.left&&(T.pageX=E.left);var _=this.getElement();_.innerHTML="",_.appendChild(C),_.style.maxHeight="",_.style.display="block";var k=_.clientHeight,D=_.clientWidth,A=window.innerHeight-T.pageY-w.lineHeight,R=!0;T.pageY-k<0&&T.pageY<A&&(R=!1),_.style.maxHeight=(R?T.pageY:A)-S+"px",_.style.top=R?"":T.pageY+w.lineHeight+"px",_.style.bottom=R?window.innerHeight-T.pageY+"px":"",_.style.left=Math.min(T.pageX,window.innerWidth-D-S)+"px"}},h.prototype.addMarker=function(v,y){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=y,this.marker=y&&y.addMarker(v,"ace_highlight-marker","text")},h.prototype.hide=function(v){!v&&document.activeElement==this.getElement()||v&&v.target&&(v.type!="keydown"||v.ctrlKey||v.metaKey)&&this.$element.contains(v.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,t.removePopup(this)))},h.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},h.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},h.prototype.onMouseOut=function(v){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!v.relatedTarget||this.getElement().contains(v.relatedTarget)||v&&v.currentTarget.contains(v.relatedTarget)||v.relatedTarget.classList.contains("ace_content")||this.hide())},h}(i);a.HoverTooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(e,a,p){var d=this&&this.__extends||function(){var l=function(h,v){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var $ in C)Object.prototype.hasOwnProperty.call(C,$)&&(y[$]=C[$])},l(h,v)};return function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");l(h,v);function y(){this.constructor=h}h.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),g=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,v=h&&l[h],y=0;if(v)return v.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&y>=l.length&&(l=void 0),{value:l&&l[y++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},m=e("../lib/dom"),c=e("../lib/event"),u=e("../tooltip").Tooltip,s=e("../config").nls,i=5,r=3;a.GUTTER_TOOLTIP_LEFT_OFFSET=i,a.GUTTER_TOOLTIP_TOP_OFFSET=r;function t(l){var h=l.editor,v=h.renderer.$gutterLayer,y=new n(h,!0);l.editor.setDefaultHandler("guttermousedown",function(E){if(!(!h.isFocused()||E.getButton()!=0)){var _=v.getRegion(E);if(_!="foldWidgets"){var k=E.getDocumentPosition().row,D=h.session.selection;if(E.getShiftKey())D.selectTo(k,0);else{if(E.domEvent.detail==2)return h.selectAll(),E.preventDefault();l.$clickSelection=h.selection.getLineRange(k)}return l.setState("selectByLines"),l.captureMouse(E),E.preventDefault()}}});var C,$;function S(){var E=$.getDocumentPosition().row,_=h.session.getLength();if(E==_){var k=h.renderer.pixelToScreenCoordinates(0,$.y).row,D=$.$pos;if(k>h.session.documentToScreenRow(D.row,D.column))return w()}if(y.showTooltip(E),!!y.isOpen)if(h.on("mousewheel",w),h.on("changeSession",w),window.addEventListener("keydown",w,!0),l.$tooltipFollowsMouse)T($);else{var A=$.getGutterRow(),R=v.$lines.get(A);if(R){var b=R.element.querySelector(".ace_gutter_annotation"),x=b.getBoundingClientRect(),M=y.getElement().style;M.left=x.right-i+"px",M.top=x.bottom-r+"px"}else T($)}}function w(E){E&&E.type==="keydown"&&(E.ctrlKey||E.metaKey)||E&&E.type==="mouseout"&&(!E.relatedTarget||y.getElement().contains(E.relatedTarget))||(C&&(C=clearTimeout(C)),y.isOpen&&(y.hideTooltip(),h.off("mousewheel",w),h.off("changeSession",w),window.removeEventListener("keydown",w,!0)))}function T(E){y.setPosition(E.x,E.y)}l.editor.setDefaultHandler("guttermousemove",function(E){var _=E.domEvent.target||E.domEvent.srcElement;if(m.hasCssClass(_,"ace_fold-widget"))return w();y.isOpen&&l.$tooltipFollowsMouse&&T(E),$=E,!C&&(C=setTimeout(function(){C=null,$&&!l.isMousePressed&&S()},50))}),c.addListener(h.renderer.$gutter,"mouseout",function(E){$=null,y.isOpen&&(C=setTimeout(function(){C=null,w(E)},50))},h)}a.GutterHandler=t;var n=function(l){d(h,l);function h(v,y){y===void 0&&(y=!1);var C=l.call(this,v.container)||this;C.editor=v,C.visibleTooltipRow;var $=C.getElement();return $.setAttribute("role","tooltip"),$.style.pointerEvents="auto",y&&(C.onMouseOut=C.onMouseOut.bind(C),$.addEventListener("mouseout",C.onMouseOut)),C}return h.prototype.onMouseOut=function(v){this.isOpen&&(!v.relatedTarget||this.getElement().contains(v.relatedTarget)||v&&v.currentTarget.contains(v.relatedTarget)||this.hideTooltip())},h.prototype.setPosition=function(v,y){var C=window.innerWidth||document.documentElement.clientWidth,$=window.innerHeight||document.documentElement.clientHeight,S=this.getWidth(),w=this.getHeight();v+=15,y+=15,v+S>C&&(v-=v+S-C),y+w>$&&(y-=20+w),u.prototype.setPosition.call(this,v,y)},Object.defineProperty(h,"annotationLabels",{get:function(){return{error:{singular:s("gutter-tooltip.aria-label.error.singular","error"),plural:s("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:s("gutter-tooltip.aria-label.security.singular","security finding"),plural:s("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:s("gutter-tooltip.aria-label.warning.singular","warning"),plural:s("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:s("gutter-tooltip.aria-label.info.singular","information message"),plural:s("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:s("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:s("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),h.prototype.showTooltip=function(v){var y,C=this.editor.renderer.$gutterLayer,$=C.$annotations[v],S;$?S={displayText:Array.from($.displayText),type:Array.from($.type)}:S={displayText:[],type:[]};var w=C.session.getFoldLine(v);if(w&&C.$showFoldedAnnotations){for(var T={error:[],security:[],warning:[],info:[],hint:[]},E={error:1,security:2,warning:3,info:4,hint:5},_,k=v+1;k<=w.end.row;k++)if(C.$annotations[k])for(var D=0;D<C.$annotations[k].text.length;D++){var A=C.$annotations[k].type[D];T[A].push(C.$annotations[k].text[D]),(!_||E[A]<E[_])&&(_=A)}if(["error","security","warning"].includes(_)){var R="".concat(h.annotationsToSummaryString(T)," in folded code.");S.displayText.push(R),S.type.push(_+"_fold")}}if(S.displayText.length===0)return this.hideTooltip();for(var b={error:[],security:[],warning:[],info:[],hint:[]},x=C.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",k=0;k<S.displayText.length;k++){var M=m.createElement("span"),L=m.createElement("span");(y=L.classList).add.apply(y,["ace_".concat(S.type[k]),x]),L.setAttribute("aria-label","".concat(h.annotationLabels[S.type[k].replace("_fold","")].singular)),L.setAttribute("role","img"),L.appendChild(m.createTextNode(" ")),M.appendChild(L),M.appendChild(m.createTextNode(S.displayText[k])),M.appendChild(m.createElement("br")),b[S.type[k].replace("_fold","")].push(M)}var O=this.getElement();m.removeChildren(O),b.error.forEach(function(N){return O.appendChild(N)}),b.security.forEach(function(N){return O.appendChild(N)}),b.warning.forEach(function(N){return O.appendChild(N)}),b.info.forEach(function(N){return O.appendChild(N)}),b.hint.forEach(function(N){return O.appendChild(N)}),O.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=v,this.editor._signal("showGutterTooltip",this)},h.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},h.annotationsToSummaryString=function(v){var y,C,$=[],S=["error","security","warning","info","hint"];try{for(var w=g(S),T=w.next();!T.done;T=w.next()){var E=T.value;if(v[E].length){var _=v[E].length===1?h.annotationLabels[E].singular:h.annotationLabels[E].plural;$.push("".concat(v[E].length," ").concat(_))}}}catch(k){y={error:k}}finally{try{T&&!T.done&&(C=w.return)&&C.call(w)}finally{if(y)throw y.error}}return $.join(", ")},h}(u);a.GutterTooltip=n}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,a,p){var d=e("../lib/event"),g=e("../lib/useragent"),m=function(){function c(u,s){this.speed,this.wheelX,this.wheelY,this.domEvent=u,this.editor=s,this.x=this.clientX=u.clientX,this.y=this.clientY=u.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return c.prototype.stopPropagation=function(){d.stopPropagation(this.domEvent),this.propagationStopped=!0},c.prototype.preventDefault=function(){d.preventDefault(this.domEvent),this.defaultPrevented=!0},c.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},c.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},c.prototype.getGutterRow=function(){var u=this.getDocumentPosition().row,s=this.editor.session.documentToScreenRow(u,0),i=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return s-i},c.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var u=this.editor,s=u.getSelectionRange();if(s.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=s.contains(i.row,i.column)}return this.$inSelection},c.prototype.getButton=function(){return d.getButton(this.domEvent)},c.prototype.getShiftKey=function(){return this.domEvent.shiftKey},c.prototype.getAccelKey=function(){return g.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},c}();a.MouseEvent=m}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,a,p){var d=e("../lib/dom"),g=e("../lib/event"),m=e("../lib/useragent"),c=200,u=200,s=5;function i(t){var n=t.editor,l=d.createElement("div");l.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",l.textContent=" ";var h=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];h.forEach(function(P){t[P]=this[P]},this),n.on("mousedown",this.onMouseDown.bind(t));var v=n.container,y,C,$,S,w,T,E=0,_,k,D,A,R;this.onDragStart=function(P){if(this.cancelDrag||!v.draggable){var z=this;return setTimeout(function(){z.startSelect(),z.captureMouse(P)},0),P.preventDefault()}w=n.getSelectionRange();var H=P.dataTransfer;H.effectAllowed=n.getReadOnly()?"copy":"copyMove",n.container.appendChild(l),H.setDragImage&&H.setDragImage(l,0,0),setTimeout(function(){n.container.removeChild(l)}),H.clearData(),H.setData("Text",n.session.getTextRange()),k=!0,this.setState("drag")},this.onDragEnd=function(P){if(v.draggable=!1,k=!1,this.setState(null),!n.getReadOnly()){var z=P.dataTransfer.dropEffect;!_&&z=="move"&&n.session.remove(n.getSelectionRange()),n.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(P){if(!(n.getReadOnly()||!j(P.dataTransfer)))return C=P.clientX,$=P.clientY,y||L(),E++,P.dataTransfer.dropEffect=_=W(P),g.preventDefault(P)},this.onDragOver=function(P){if(!(n.getReadOnly()||!j(P.dataTransfer)))return C=P.clientX,$=P.clientY,y||(L(),E++),N!==null&&(N=null),P.dataTransfer.dropEffect=_=W(P),g.preventDefault(P)},this.onDragLeave=function(P){if(E--,E<=0&&y)return O(),_=null,g.preventDefault(P)},this.onDrop=function(P){if(T){var z=P.dataTransfer;if(k)switch(_){case"move":w.contains(T.row,T.column)?w={start:T,end:T}:w=n.moveText(w,T);break;case"copy":w=n.moveText(w,T,!0);break}else{var H=z.getData("Text");w={start:T,end:n.session.insert(T,H)},n.focus(),_=null}return O(),g.preventDefault(P)}},g.addListener(v,"dragstart",this.onDragStart.bind(t),n),g.addListener(v,"dragend",this.onDragEnd.bind(t),n),g.addListener(v,"dragenter",this.onDragEnter.bind(t),n),g.addListener(v,"dragover",this.onDragOver.bind(t),n),g.addListener(v,"dragleave",this.onDragLeave.bind(t),n),g.addListener(v,"drop",this.onDrop.bind(t),n);function b(P,z){var H=Date.now(),G=!z||P.row!=z.row,V=!z||P.column!=z.column;if(!A||G||V)n.moveCursorToPosition(P),A=H,R={x:C,y:$};else{var Y=r(R.x,R.y,C,$);Y>s?A=null:H-A>=u&&(n.renderer.scrollCursorIntoView(),A=null)}}function x(P,z){var H=Date.now(),G=n.renderer.layerConfig.lineHeight,V=n.renderer.layerConfig.characterWidth,Y=n.renderer.scroller.getBoundingClientRect(),K={x:{left:C-Y.left,right:Y.right-C},y:{top:$-Y.top,bottom:Y.bottom-$}},q=Math.min(K.x.left,K.x.right),J=Math.min(K.y.top,K.y.bottom),ne={row:P.row,column:P.column};q/V<=2&&(ne.column+=K.x.left<K.x.right?-3:2),J/G<=1&&(ne.row+=K.y.top<K.y.bottom?-1:1);var ce=P.row!=ne.row,se=P.column!=ne.column,le=!z||P.row!=z.row;ce||se&&!le?D?H-D>=c&&n.renderer.scrollCursorIntoView(ne):D=H:D=null}function M(){var P=T;T=n.renderer.screenToTextCoordinates(C,$),b(T,P),x(T,P)}function L(){w=n.selection.toOrientedRange(),y=n.session.addMarker(w,"ace_selection",n.getSelectionStyle()),n.clearSelection(),n.isFocused()&&n.renderer.$cursorLayer.setBlinking(!1),clearInterval(S),M(),S=setInterval(M,20),E=0,g.addListener(document,"mousemove",F)}function O(){clearInterval(S),n.session.removeMarker(y),y=null,n.selection.fromOrientedRange(w),n.isFocused()&&!k&&n.$resetCursorStyle(),w=null,T=null,E=0,D=null,A=null,g.removeListener(document,"mousemove",F)}var N=null;function F(){N==null&&(N=setTimeout(function(){N!=null&&y&&O()},20))}function j(P){var z=P.types;return!z||Array.prototype.some.call(z,function(H){return H=="text/plain"||H=="Text"})}function W(P){var z=["copy","copymove","all","uninitialized"],H=["move","copymove","linkmove","all","uninitialized"],G=m.isMac?P.altKey:P.ctrlKey,V="uninitialized";try{V=P.dataTransfer.effectAllowed.toLowerCase()}catch{}var Y="none";return G&&z.indexOf(V)>=0?Y="copy":H.indexOf(V)>=0?Y="move":z.indexOf(V)>=0&&(Y="copy"),Y}}(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor,n=t.container;n.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var l=m.isWin?"default":"move";t.renderer.setCursorStyle(l),this.setState("dragReady")},this.onMouseDrag=function(t){var n=this.editor.container;if(m.isIE&&this.state=="dragReady"){var l=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);l>3&&n.dragDrop()}if(this.state==="dragWait"){var l=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);l>0&&(n.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var n=this.editor,l=t.inSelection(),h=t.getButton(),v=t.domEvent.detail||1;if(v===1&&h===0&&l){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var y=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in y&&(y.unselectable="on"),n.getDragDelay()){if(m.isWebKit){this.cancelDrag=!0;var C=n.container;C.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(i.prototype);function r(t,n,l,h){return Math.sqrt(Math.pow(l-t,2)+Math.pow(h-n,2))}a.DragdropHandler=i}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(e,a,p){var d=e("./mouse_event").MouseEvent,g=e("../lib/event"),m=e("../lib/dom");a.addTouchListeners=function(c,u){var s="scroll",i,r,t,n,l,h,v=0,y,C=0,$=0,S=0,w,T;function E(){var b=window.navigator&&window.navigator.clipboard,x=!1,M=function(){var N=u.getCopyText(),F=u.session.getUndoManager().hasUndo();T.replaceChild(m.buildDom(x?["span",!N&&L("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],N&&L("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],N&&L("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],b&&L("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],F&&L("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],L("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],L("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),T.firstChild)},L=function(N){return u.commands.canExecute(N,u)},O=function(N){var F=N.target.getAttribute("action");if(F=="more"||!x)return x=!x,M();F=="paste"?b.readText().then(function(j){u.execCommand(F,j)}):F&&((F=="cut"||F=="copy")&&(b?b.writeText(u.getCopyText()):document.execCommand("copy")),u.execCommand(F)),T.firstChild.style.display="none",x=!1,F!="openCommandPalette"&&u.focus()};T=m.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(N){s="menu",N.stopPropagation(),N.preventDefault(),u.textInput.focus()},ontouchend:function(N){N.stopPropagation(),N.preventDefault(),O(N)},onclick:O},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],u.container)}function _(){if(!u.getOption("enableMobileMenu")){T&&k();return}T||E();var b=u.selection.cursor,x=u.renderer.textToScreenCoordinates(b.row,b.column),M=u.renderer.textToScreenCoordinates(0,0).pageX,L=u.renderer.scrollLeft,O=u.container.getBoundingClientRect();T.style.top=x.pageY-O.top-3+"px",x.pageX-O.left<O.width-70?(T.style.left="",T.style.right="10px"):(T.style.right="",T.style.left=M+L-O.left+"px"),T.style.display="",T.firstChild.style.display="none",u.on("input",k)}function k(b){T&&(T.style.display="none"),u.off("input",k)}function D(){l=null,clearTimeout(l);var b=u.selection.getRange(),x=b.contains(y.row,y.column);(b.isEmpty()||!x)&&(u.selection.moveToPosition(y),u.selection.selectWord()),s="wait",_()}function A(){l=null,clearTimeout(l),u.selection.moveToPosition(y);var b=C>=2?u.selection.getLineRange(y.row):u.session.getBracketRange(y);b&&!b.isEmpty()?u.selection.setRange(b):u.selection.selectWord(),s="wait"}g.addListener(c,"contextmenu",function(b){if(w){var x=u.textInput.getElement();x.focus()}},u),g.addListener(c,"touchstart",function(b){var x=b.touches;if(l||x.length>1){clearTimeout(l),l=null,t=-1,s="zoom";return}w=u.$mouseHandler.isMousePressed=!0;var M=u.renderer.layerConfig.lineHeight,L=u.renderer.layerConfig.lineHeight,O=b.timeStamp;n=O;var N=x[0],F=N.clientX,j=N.clientY;Math.abs(i-F)+Math.abs(r-j)>M&&(t=-1),i=b.clientX=F,r=b.clientY=j,$=S=0;var W=new d(b,u);if(y=W.getDocumentPosition(),O-t<500&&x.length==1&&!v)C++,b.preventDefault(),b.button=0,A();else{C=0;var P=u.selection.cursor,z=u.selection.isEmpty()?P:u.selection.anchor,H=u.renderer.$cursorLayer.getPixelPosition(P,!0),G=u.renderer.$cursorLayer.getPixelPosition(z,!0),V=u.renderer.scroller.getBoundingClientRect(),Y=u.renderer.layerConfig.offset,K=u.renderer.scrollLeft,q=function(ce,se){return ce=ce/L,se=se/M-.75,ce*ce+se*se};if(b.clientX<V.left){s="zoom";return}var J=q(b.clientX-V.left-H.left+K,b.clientY-V.top-H.top+Y),ne=q(b.clientX-V.left-G.left+K,b.clientY-V.top-G.top+Y);J<3.5&&ne<3.5&&(s=J>ne?"cursor":"anchor"),ne<3.5?s="anchor":J<3.5?s="cursor":s="scroll",l=setTimeout(D,450)}t=O},u),g.addListener(c,"touchend",function(b){w=u.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),s=="zoom"?(s="",v=0):l?(u.selection.moveToPosition(y),v=0,_()):s=="scroll"?(R(),k()):_(),clearTimeout(l),l=null},u),g.addListener(c,"touchmove",function(b){l&&(clearTimeout(l),l=null);var x=b.touches;if(!(x.length>1||s=="zoom")){var M=x[0],L=i-M.clientX,O=r-M.clientY;if(s=="wait")if(L*L+O*O>4)s="cursor";else return b.preventDefault();i=M.clientX,r=M.clientY,b.clientX=M.clientX,b.clientY=M.clientY;var N=b.timeStamp,F=N-n;if(n=N,s=="scroll"){var j=new d(b,u);j.speed=1,j.wheelX=L,j.wheelY=O,10*Math.abs(L)<Math.abs(O)&&(L=0),10*Math.abs(O)<Math.abs(L)&&(O=0),F!=0&&($=L/F,S=O/F),u._emit("mousewheel",j),j.propagationStopped||($=S=0)}else{var W=new d(b,u),P=W.getDocumentPosition();s=="cursor"?u.selection.moveCursorToPosition(P):s=="anchor"&&u.selection.setSelectionAnchor(P.row,P.column),u.renderer.scrollCursorIntoView(P),b.preventDefault()}}},u);function R(){v+=60,h=setInterval(function(){v--<=0&&(clearInterval(h),h=null),Math.abs($)<.01&&($=0),Math.abs(S)<.01&&(S=0),v<20&&($=.9*$),v<20&&(S=.9*S);var b=u.session.getScrollTop();u.renderer.scrollBy(10*$,10*S),b==u.session.getScrollTop()&&(v=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(e,a,p){var d=e("../lib/event"),g=e("../lib/useragent"),m=e("./default_handlers").DefaultHandlers,c=e("./default_gutter_handler").GutterHandler,u=e("./mouse_event").MouseEvent,s=e("./dragdrop_handler").DragdropHandler,i=e("./touch_handler").addTouchListeners,r=e("../config"),t=function(){function n(l){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var h=this;this.editor=l,new m(this),new c(this),new s(this);var v=function($){var S=!document.hasFocus||!document.hasFocus()||!l.isFocused()&&document.activeElement==(l.textInput&&l.textInput.getElement());S&&window.focus(),l.focus(),setTimeout(function(){l.isFocused()||l.focus()})},y=l.renderer.getMouseEventTarget();d.addListener(y,"click",this.onMouseEvent.bind(this,"click"),l),d.addListener(y,"mousemove",this.onMouseMove.bind(this,"mousemove"),l),d.addMultiMouseDownListener([y,l.renderer.scrollBarV&&l.renderer.scrollBarV.inner,l.renderer.scrollBarH&&l.renderer.scrollBarH.inner,l.textInput&&l.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",l),d.addMouseWheelListener(l.container,this.onMouseWheel.bind(this,"mousewheel"),l),i(l.container,l);var C=l.renderer.$gutter;d.addListener(C,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),l),d.addListener(C,"click",this.onMouseEvent.bind(this,"gutterclick"),l),d.addListener(C,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),l),d.addListener(C,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),l),d.addListener(y,"mousedown",v,l),d.addListener(C,"mousedown",v,l),g.isIE&&l.renderer.scrollBarV&&(d.addListener(l.renderer.scrollBarV.element,"mousedown",v,l),d.addListener(l.renderer.scrollBarH.element,"mousedown",v,l)),l.on("mousemove",function($){if(!(h.state||h.$dragDelay||!h.$dragEnabled)){var S=l.renderer.screenToTextCoordinates($.x,$.y),w=l.session.selection.getRange(),T=l.renderer;!w.isEmpty()&&w.insideStart(S.row,S.column)?T.setCursorStyle("default"):T.setCursorStyle("")}},l)}return n.prototype.onMouseEvent=function(l,h){this.editor.session&&this.editor._emit(l,new u(h,this.editor))},n.prototype.onMouseMove=function(l,h){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(l,new u(h,this.editor))},n.prototype.onMouseWheel=function(l,h){var v=new u(h,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=h.wheelX,v.wheelY=h.wheelY,this.editor._emit(l,v)},n.prototype.setState=function(l){this.state=l},n.prototype.captureMouse=function(l,h){this.x=l.x,this.y=l.y,this.isMousePressed=!0;var v=this.editor,y=this.editor.renderer;y.$isMousePressed=!0;var C=this,$=function(_){if(_){if(g.isWebKit&&!_.which&&C.releaseMouse)return C.releaseMouse();C.x=_.clientX,C.y=_.clientY,h&&h(_),C.mouseEvent=new u(_,C.editor),C.$mouseMoved=!0}},S=function(_){v.off("beforeEndOperation",T),clearInterval(E),v.session&&w(),C[C.state+"End"]&&C[C.state+"End"](_),C.state="",C.isMousePressed=y.$isMousePressed=!1,y.$keepTextAreaAtCursor&&y.$moveTextAreaToCursor(),C.$onCaptureMouseMove=C.releaseMouse=null,_&&C.onMouseEvent("mouseup",_),v.endOperation()},w=function(){C[C.state]&&C[C.state](),C.$mouseMoved=!1};if(g.isOldIE&&l.domEvent.type=="dblclick")return setTimeout(function(){S(l)});var T=function(_){C.releaseMouse&&v.curOp.command.name&&v.curOp.selectionChanged&&(C[C.state+"End"]&&C[C.state+"End"](),C.state="",C.releaseMouse())};v.on("beforeEndOperation",T),v.startOperation({command:{name:"mouse"}}),C.$onCaptureMouseMove=$,C.releaseMouse=d.capture(this.editor.container,$,S);var E=setInterval(w,20)},n.prototype.cancelContextMenu=function(){var l=(function(h){h&&h.domEvent&&h.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",l),h&&h.domEvent&&d.stopEvent(h.domEvent))}).bind(this);setTimeout(l,10),this.editor.on("nativecontextmenu",l)},n.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},n}();t.prototype.releaseMouse=null,r.defineOptions(t.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:g.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),a.MouseHandler=t}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,a,p){var d=e("../lib/dom"),g=function(){function m(c){c.on("click",function(u){var s=u.getDocumentPosition(),i=c.session,r=i.getFoldAt(s.row,s.column,1);r&&(u.getAccelKey()?i.removeFold(r):i.expandFold(r),u.stop());var t=u.domEvent&&u.domEvent.target;t&&d.hasCssClass(t,"ace_inline_button")&&d.hasCssClass(t,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),c.renderer.scrollCursorIntoView())}),c.on("gutterclick",function(u){var s=c.renderer.$gutterLayer.getRegion(u);if(s=="foldWidgets"){var i=u.getDocumentPosition().row,r=c.session;r.foldWidgets&&r.foldWidgets[i]&&c.session.onFoldWidgetClick(i,u),c.isFocused()||c.focus(),u.stop()}}),c.on("gutterdblclick",function(u){var s=c.renderer.$gutterLayer.getRegion(u);if(s=="foldWidgets"){var i=u.getDocumentPosition().row,r=c.session,t=r.getParentFoldRangeData(i,!0),n=t.range||t.firstRange;if(n){i=n.start.row;var l=r.getFoldAt(i,r.getLine(i).length,1);l?r.removeFold(l):(r.addFold("...",n),c.renderer.scrollCursorIntoView({row:n.start.row,column:0}))}u.stop()}})}return m}();a.FoldHandler=g}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,a,p){var d=e("../lib/keys"),g=e("../lib/event"),m=function(){function c(u){this.$editor=u,this.$data={editor:u},this.$handlers=[],this.setDefaultHandler(u.commands)}return c.prototype.setDefaultHandler=function(u){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=u,this.addKeyboardHandler(u,0)},c.prototype.setKeyboardHandler=function(u){var s=this.$handlers;if(s[s.length-1]!=u){for(;s[s.length-1]&&s[s.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(s[s.length-1]);this.addKeyboardHandler(u,1)}},c.prototype.addKeyboardHandler=function(u,s){if(u){typeof u=="function"&&!u.handleKeyboard&&(u.handleKeyboard=u);var i=this.$handlers.indexOf(u);i!=-1&&this.$handlers.splice(i,1),s==null?this.$handlers.push(u):this.$handlers.splice(s,0,u),i==-1&&u.attach&&u.attach(this.$editor)}},c.prototype.removeKeyboardHandler=function(u){var s=this.$handlers.indexOf(u);return s==-1?!1:(this.$handlers.splice(s,1),u.detach&&u.detach(this.$editor),!0)},c.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},c.prototype.getStatusText=function(){var u=this.$data,s=u.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(s,u)||""}).filter(Boolean).join(" ")},c.prototype.$callKeyboardHandlers=function(u,s,i,r){for(var t,n=!1,l=this.$editor.commands,h=this.$handlers.length;h--&&(t=this.$handlers[h].handleKeyboard(this.$data,u,s,i,r),!(!(!t||!t.command)&&(t.command=="null"?n=!0:n=l.exec(t.command,this.$editor,t.args,r),n&&r&&u!=-1&&t.passEvent!=!0&&t.command.passEvent!=!0&&g.stopEvent(r),n))););return!n&&u==-1&&(t={command:"insertstring"},n=l.exec("insertstring",this.$editor,s)),n&&this.$editor._signal&&this.$editor._signal("keyboardActivity",t),n},c.prototype.onCommandKey=function(u,s,i){var r=d.keyCodeToString(i);return this.$callKeyboardHandlers(s,r,i,u)},c.prototype.onTextInput=function(u){return this.$callKeyboardHandlers(-1,u)},c}();a.KeyBinding=m}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,a,p){var d=0,g=0,m=!1,c=!1,u=!1,s=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],i=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],r=0,t=1,n=0,l=1,h=2,v=3,y=4,C=5,$=6,S=7,w=8,T=9,E=10,_=11,k=12,D=13,A=14,R=15,b=16,x=17,M=18,L=[M,M,M,M,M,M,M,M,M,$,C,$,w,C,M,M,M,M,M,M,M,M,M,M,M,M,M,M,C,C,C,$,w,y,y,_,_,_,y,y,y,y,y,E,T,E,T,T,h,h,h,h,h,h,h,h,h,h,T,y,y,y,y,y,y,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,y,y,y,y,y,y,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,y,y,y,y,M,M,M,M,M,M,C,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,T,y,_,_,_,_,y,y,y,y,n,y,y,M,y,y,_,_,h,h,y,n,y,y,y,h,n,y,y,y,y,y],O=[w,w,w,w,w,w,w,w,w,w,w,M,M,M,n,l,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,w,C,D,A,R,b,x,T,_,_,_,_,_,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,T,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,w];function N(P,z,H,G){var V=d?i:s,Y=null,K=null,q=null,J=0,ne=null,ce=null,se=-1,le=null,ue=null,ke=[];if(!G)for(le=0,G=[];le<H;le++)G[le]=W(P[le]);for(g=d,m=!1,c=!1,u=!1,ue=0;ue<H;ue++){if(Y=J,ke[ue]=K=j(P,G,ke,ue),J=V[Y][K],ne=J&240,J&=15,z[ue]=q=V[J][5],ne>0)if(ne==16){for(le=se;le<ue;le++)z[le]=1;se=-1}else se=-1;if(ce=V[J][6],ce)se==-1&&(se=ue);else if(se>-1){for(le=se;le<ue;le++)z[le]=q;se=-1}G[ue]==C&&(z[ue]=0),g|=q}if(u){for(le=0;le<H;le++)if(G[le]==$){z[le]=d;for(var de=le-1;de>=0&&G[de]==w;de--)z[de]=d}}}function F(P,z,H){if(!(g<P)){if(P==1&&d==t&&!c){H.reverse();return}for(var G=H.length,V=0,Y,K,q,J;V<G;){if(z[V]>=P){for(Y=V+1;Y<G&&z[Y]>=P;)Y++;for(K=V,q=Y-1;K<q;K++,q--)J=H[K],H[K]=H[q],H[q]=J;V=Y}V++}}}function j(P,z,H,G){var V=z[G],Y,K,q,J;switch(V){case n:case l:m=!1;case y:case v:return V;case h:return m?v:h;case S:return m=!0,l;case w:return y;case T:return G<1||G+1>=z.length||(Y=H[G-1])!=h&&Y!=v||(K=z[G+1])!=h&&K!=v?y:(m&&(K=v),K==Y?K:y);case E:return Y=G>0?H[G-1]:C,Y==h&&G+1<z.length&&z[G+1]==h?h:y;case _:if(G>0&&H[G-1]==h)return h;if(m)return y;for(J=G+1,q=z.length;J<q&&z[J]==_;)J++;return J<q&&z[J]==h?h:y;case k:for(q=z.length,J=G+1;J<q&&z[J]==k;)J++;if(J<q){var ne=P[G],ce=ne>=1425&&ne<=2303||ne==64286;if(Y=z[J],ce&&(Y==l||Y==S))return l}return G<1||(Y=z[G-1])==C?y:H[G-1];case C:return m=!1,c=!0,d;case $:return u=!0,y;case D:case A:case b:case x:case R:m=!1;case M:return y}}function W(P){var z=P.charCodeAt(0),H=z>>8;return H==0?z>191?n:L[z]:H==5?/[\u0591-\u05f4]/.test(P)?l:n:H==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(P)?k:/[\u0660-\u0669\u066b-\u066c]/.test(P)?v:z==1642?_:/[\u06f0-\u06f9]/.test(P)?h:S:H==32&&z<=8287?O[z&255]:H==254&&z>=65136?S:y}a.L=n,a.R=l,a.EN=h,a.ON_R=3,a.AN=4,a.R_H=5,a.B=6,a.RLE=7,a.DOT="·",a.doBidiReorder=function(P,z,H){if(P.length<2)return{};var G=P.split(""),V=new Array(G.length),Y=new Array(G.length),K=[];d=H?t:r,N(G,K,G.length,z);for(var q=0;q<V.length;V[q]=q,q++);F(2,K,V),F(1,K,V);for(var q=0;q<V.length-1;q++)z[q]===v?K[q]=a.AN:K[q]===l&&(z[q]>S&&z[q]<D||z[q]===y||z[q]===M)?K[q]=a.ON_R:q>0&&G[q-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(G[q])&&(K[q-1]=K[q]=a.R_H,q++);G[G.length-1]===a.DOT&&(K[G.length-1]=a.B),G[0]==="‫"&&(K[0]=a.RLE);for(var q=0;q<V.length;q++)Y[q]=K[V[q]];return{logicalFromVisual:V,bidiLevels:Y}},a.hasBidiCharacters=function(P,z){for(var H=!1,G=0;G<P.length;G++)z[G]=W(P.charAt(G)),!H&&(z[G]==l||z[G]==S||z[G]==v)&&(H=!0);return H},a.getVisualFromLogicalIdx=function(P,z){for(var H=0;H<z.logicalFromVisual.length;H++)if(z.logicalFromVisual[H]==P)return H;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,a,p){var d=e("./lib/bidiutil"),g=e("./lib/lang"),m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,c=function(){function u(s){this.session=s,this.bidiMap={},this.currentRow=null,this.bidiUtil=d,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=m.test(s.getValue())}return u.prototype.isBidiRow=function(s,i,r){return this.seenBidi?(s!==this.currentRow&&(this.currentRow=s,this.updateRowLine(i,r),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},u.prototype.onChange=function(s){this.seenBidi?this.currentRow=null:s.action=="insert"&&m.test(s.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},u.prototype.getDocumentRow=function(){var s=0,i=this.session.$screenRowCache;if(i.length){var r=this.session.$getRowCacheIndex(i,this.currentRow);r>=0&&(s=this.session.$docRowCache[r])}return s},u.prototype.getSplitIndex=function(){var s=0,i=this.session.$screenRowCache;if(i.length)for(var r,t=this.session.$getRowCacheIndex(i,this.currentRow);this.currentRow-s>0&&(r=this.session.$getRowCacheIndex(i,this.currentRow-s-1),r===t);)t=r,s++;else s=this.currentRow;return s},u.prototype.updateRowLine=function(s,i){s===void 0&&(s=this.getDocumentRow());var r=s===this.session.getLength()-1,t=r?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(s),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var n=this.session.$wrapData[s];n&&(i===void 0&&(i=this.getSplitIndex()),i>0&&n.length?(this.wrapIndent=n.indent,this.wrapOffset=this.wrapIndent*this.charWidths[d.L],this.line=i<n.length?this.line.substring(n[i-1],n[i]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[i]),i==n.length&&(this.line+=this.showInvisibles?t:d.DOT))}else this.line+=this.showInvisibles?t:d.DOT;var l=this.session,h=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(y,C){return y==="	"||l.isFullWidth(y.charCodeAt(0))?(v=y==="	"?l.getScreenTabSize(C+h):2,h+=v-1,g.stringRepeat(d.DOT,v)):y}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==d.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},u.prototype.updateBidiMap=function(){var s=[];d.hasBidiCharacters(this.line,s)||this.isRtlDir?this.bidiMap=d.doBidiReorder(this.line,s,this.isRtlDir):this.bidiMap={}},u.prototype.markAsDirty=function(){this.currentRow=null},u.prototype.updateCharacterWidths=function(s){if(this.characterWidth!==s.$characterSize.width){this.fontMetrics=s;var i=this.characterWidth=s.$characterSize.width,r=s.$measureCharWidth("ה");this.charWidths[d.L]=this.charWidths[d.EN]=this.charWidths[d.ON_R]=i,this.charWidths[d.R]=this.charWidths[d.AN]=r,this.charWidths[d.R_H]=r*.45,this.charWidths[d.B]=this.charWidths[d.RLE]=0,this.currentRow=null}},u.prototype.setShowInvisibles=function(s){this.showInvisibles=s,this.currentRow=null},u.prototype.setEolChar=function(s){this.EOL=s},u.prototype.setContentWidth=function(s){this.contentWidth=s},u.prototype.isRtlLine=function(s){return this.$isRtl?!0:s!=null?this.session.getLine(s).charAt(0)==this.RLE:this.isRtlDir},u.prototype.setRtlDirection=function(s,i){for(var r=s.getCursorPosition(),t=s.selection.getSelectionAnchor().row;t<=r.row;t++)!i&&s.session.getLine(t).charAt(0)===s.session.$bidiHandler.RLE?s.session.doc.removeInLine(t,0,1):i&&s.session.getLine(t).charAt(0)!==s.session.$bidiHandler.RLE&&s.session.doc.insert({column:0,row:t},s.session.$bidiHandler.RLE)},u.prototype.getPosLeft=function(s){s-=this.wrapIndent;var i=this.line.charAt(0)===this.RLE?1:0,r=s>i?this.session.getOverwrite()?s:s-1:i,t=d.getVisualFromLogicalIdx(r,this.bidiMap),n=this.bidiMap.bidiLevels,l=0;!this.session.getOverwrite()&&s<=i&&n[t]%2!==0&&t++;for(var h=0;h<t;h++)l+=this.charWidths[n[h]];return!this.session.getOverwrite()&&s>i&&n[t]%2===0&&(l+=this.charWidths[n[t]]),this.wrapIndent&&(l+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(l+=this.rtlLineOffset),l},u.prototype.getSelections=function(s,i){var r=this.bidiMap,t=r.bidiLevels,n,l=[],h=0,v=Math.min(s,i)-this.wrapIndent,y=Math.max(s,i)-this.wrapIndent,C=!1,$=!1,S=0;this.wrapIndent&&(h+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var w,T=0;T<t.length;T++)w=r.logicalFromVisual[T],n=t[T],C=w>=v&&w<y,C&&!$?S=h:!C&&$&&l.push({left:S,width:h-S}),h+=this.charWidths[n],$=C;if(C&&T===t.length&&l.push({left:S,width:h-S}),this.isRtlDir)for(var E=0;E<l.length;E++)l[E].left+=this.rtlLineOffset;return l},u.prototype.offsetToCol=function(r){this.isRtlDir&&(r-=this.rtlLineOffset);var i=0,r=Math.max(r,0),t=0,n=0,l=this.bidiMap.bidiLevels,h=this.charWidths[l[n]];for(this.wrapIndent&&(r-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);r>t+h/2;){if(t+=h,n===l.length-1){h=0;break}h=this.charWidths[l[++n]]}return n>0&&l[n-1]%2!==0&&l[n]%2===0?(r<t&&n--,i=this.bidiMap.logicalFromVisual[n]):n>0&&l[n-1]%2===0&&l[n]%2!==0?i=1+(r>t?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===l.length-1&&h===0&&l[n-1]%2===0||!this.isRtlDir&&n===0&&l[n]%2!==0?i=1+this.bidiMap.logicalFromVisual[n]:(n>0&&l[n-1]%2!==0&&h!==0&&n--,i=this.bidiMap.logicalFromVisual[n]),i===0&&this.isRtlDir&&i++,i+this.wrapIndent},u}();a.BidiHandler=c}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,a,p){var d=e("./lib/oop"),g=e("./lib/lang"),m=e("./lib/event_emitter").EventEmitter,c=e("./range").Range,u=function(){function s(i){this.session=i,this.doc=i.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var r=this;this.cursor.on("change",function(t){r.$cursorChanged=!0,r.$silent||r._emit("changeCursor"),!r.$isEmpty&&!r.$silent&&r._emit("changeSelection"),!r.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(r.$desiredColumn=null)}),this.anchor.on("change",function(){r.$anchorChanged=!0,!r.$isEmpty&&!r.$silent&&r._emit("changeSelection")})}return s.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},s.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},s.prototype.getCursor=function(){return this.lead.getPosition()},s.prototype.setAnchor=function(i,r){this.$isEmpty=!1,this.anchor.setPosition(i,r)},s.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},s.prototype.getSelectionLead=function(){return this.lead.getPosition()},s.prototype.isBackwards=function(){var i=this.anchor,r=this.lead;return i.row>r.row||i.row==r.row&&i.column>r.column},s.prototype.getRange=function(){var i=this.anchor,r=this.lead;return this.$isEmpty?c.fromPoints(r,r):this.isBackwards()?c.fromPoints(r,i):c.fromPoints(i,r)},s.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},s.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},s.prototype.setRange=function(i,r){var t=r?i.end:i.start,n=r?i.start:i.end;this.$setSelection(t.row,t.column,n.row,n.column)},s.prototype.$setSelection=function(i,r,t,n){if(!this.$silent){var l=this.$isEmpty,h=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(i,r),this.cursor.setPosition(t,n),this.$isEmpty=!c.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||l!=this.$isEmpty||h)&&this._emit("changeSelection")}},s.prototype.$moveSelection=function(i){var r=this.lead;this.$isEmpty&&this.setSelectionAnchor(r.row,r.column),i.call(this)},s.prototype.selectTo=function(i,r){this.$moveSelection(function(){this.moveCursorTo(i,r)})},s.prototype.selectToPosition=function(i){this.$moveSelection(function(){this.moveCursorToPosition(i)})},s.prototype.moveTo=function(i,r){this.clearSelection(),this.moveCursorTo(i,r)},s.prototype.moveToPosition=function(i){this.clearSelection(),this.moveCursorToPosition(i)},s.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},s.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},s.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},s.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},s.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},s.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},s.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},s.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},s.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},s.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},s.prototype.getWordRange=function(i,r){if(typeof r>"u"){var t=i||this.lead;i=t.row,r=t.column}return this.session.getWordRange(i,r)},s.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},s.prototype.selectAWord=function(){var i=this.getCursor(),r=this.session.getAWordRange(i.row,i.column);this.setSelectionRange(r)},s.prototype.getLineRange=function(i,r){var t=typeof i=="number"?i:this.lead.row,n,l=this.session.getFoldLine(t);return l?(t=l.start.row,n=l.end.row):n=t,r===!0?new c(t,0,n,this.session.getLine(n).length):new c(t,0,n+1,0)},s.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},s.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},s.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},s.prototype.wouldMoveIntoSoftTab=function(i,r,t){var n=i.column,l=i.column+r;return t<0&&(n=i.column-r,l=i.column),this.session.isTabStop(i)&&this.doc.getLine(i.row).slice(n,l).split(" ").length-1==r},s.prototype.moveCursorLeft=function(){var i=this.lead.getPosition(),r;if(r=this.session.getFoldAt(i.row,i.column,-1))this.moveCursorTo(r.start.row,r.start.column);else if(i.column===0)i.row>0&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length);else{var t=this.session.getTabSize();this.wouldMoveIntoSoftTab(i,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1)}},s.prototype.moveCursorRight=function(){var i=this.lead.getPosition(),r;if(r=this.session.getFoldAt(i.row,i.column,1))this.moveCursorTo(r.end.row,r.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var t=this.session.getTabSize(),i=this.lead;this.wouldMoveIntoSoftTab(i,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1)}},s.prototype.moveCursorLineStart=function(){var i=this.lead.row,r=this.lead.column,t=this.session.documentToScreenRow(i,r),n=this.session.screenToDocumentPosition(t,0),l=this.session.getDisplayLine(i,null,n.row,n.column),h=l.match(/^\s*/);h[0].length!=r&&!this.session.$useEmacsStyleLineStart&&(n.column+=h[0].length),this.moveCursorToPosition(n)},s.prototype.moveCursorLineEnd=function(){var i=this.lead,r=this.session.getDocumentLastRowColumnPosition(i.row,i.column);if(this.lead.column==r.column){var t=this.session.getLine(r.row);if(r.column==t.length){var n=t.search(/\s+$/);n>0&&(r.column=n)}}this.moveCursorTo(r.row,r.column)},s.prototype.moveCursorFileEnd=function(){var i=this.doc.getLength()-1,r=this.doc.getLine(i).length;this.moveCursorTo(i,r)},s.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},s.prototype.moveCursorLongWordRight=function(){var i=this.lead.row,r=this.lead.column,t=this.doc.getLine(i),n=t.substring(r);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var l=this.session.getFoldAt(i,r,1);if(l){this.moveCursorTo(l.end.row,l.end.column);return}if(this.session.nonTokenRe.exec(n)&&(r+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=t.substring(r)),r>=t.length){this.moveCursorTo(i,t.length),this.moveCursorRight(),i<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(n)&&(r+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,r)},s.prototype.moveCursorLongWordLeft=function(){var i=this.lead.row,r=this.lead.column,t;if(t=this.session.getFoldAt(i,r,-1)){this.moveCursorTo(t.start.row,t.start.column);return}var n=this.session.getFoldStringAt(i,r,-1);n==null&&(n=this.doc.getLine(i).substring(0,r));var l=g.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(l)&&(r-=this.session.nonTokenRe.lastIndex,l=l.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),r<=0){this.moveCursorTo(i,0),this.moveCursorLeft(),i>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(l)&&(r-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,r)},s.prototype.$shortWordEndIndex=function(i){var r=0,t,n=/\s/,l=this.session.tokenRe;if(l.lastIndex=0,this.session.tokenRe.exec(i))r=this.session.tokenRe.lastIndex;else{for(;(t=i[r])&&n.test(t);)r++;if(r<1){for(l.lastIndex=0;(t=i[r])&&!l.test(t);)if(l.lastIndex=0,r++,n.test(t))if(r>2){r--;break}else{for(;(t=i[r])&&n.test(t);)r++;if(r>2)break}}}return l.lastIndex=0,r},s.prototype.moveCursorShortWordRight=function(){var i=this.lead.row,r=this.lead.column,t=this.doc.getLine(i),n=t.substring(r),l=this.session.getFoldAt(i,r,1);if(l)return this.moveCursorTo(l.end.row,l.end.column);if(r==t.length){var h=this.doc.getLength();do i++,n=this.doc.getLine(i);while(i<h&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),r=0}var v=this.$shortWordEndIndex(n);this.moveCursorTo(i,r+v)},s.prototype.moveCursorShortWordLeft=function(){var i=this.lead.row,r=this.lead.column,t;if(t=this.session.getFoldAt(i,r,-1))return this.moveCursorTo(t.start.row,t.start.column);var n=this.session.getLine(i).substring(0,r);if(r===0){do i--,n=this.doc.getLine(i);while(i>0&&/^\s*$/.test(n));r=n.length,/\s+$/.test(n)||(n="")}var l=g.stringReverse(n),h=this.$shortWordEndIndex(l);return this.moveCursorTo(i,r-h)},s.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},s.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},s.prototype.moveCursorBy=function(i,r){var t=this.session.documentToScreenPosition(this.lead.row,this.lead.column),n;if(r===0&&(i!==0&&(this.session.$bidiHandler.isBidiRow(t.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(t.column),t.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=t.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?t.column=this.$desiredColumn:this.$desiredColumn=t.column),i!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var l=this.session.lineWidgets[this.lead.row];i<0?i-=l.rowsAbove||0:i>0&&(i+=l.rowCount-(l.rowsAbove||0))}var h=this.session.screenToDocumentPosition(t.row+i,t.column,n);i!==0&&r===0&&h.row===this.lead.row&&(h.column,this.lead.column),this.moveCursorTo(h.row,h.column+r,r===0)},s.prototype.moveCursorToPosition=function(i){this.moveCursorTo(i.row,i.column)},s.prototype.moveCursorTo=function(i,r,t){var n=this.session.getFoldAt(i,r,1);n&&(i=n.start.row,r=n.start.column),this.$keepDesiredColumnOnChange=!0;var l=this.session.getLine(i);/[\uDC00-\uDFFF]/.test(l.charAt(r))&&l.charAt(r-1)&&(this.lead.row==i&&this.lead.column==r+1?r=r-1:r=r+1),this.lead.setPosition(i,r),this.$keepDesiredColumnOnChange=!1,t||(this.$desiredColumn=null)},s.prototype.moveCursorToScreen=function(i,r,t){var n=this.session.screenToDocumentPosition(i,r);this.moveCursorTo(n.row,n.column,t)},s.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},s.prototype.fromOrientedRange=function(i){this.setSelectionRange(i,i.cursor==i.start),this.$desiredColumn=i.desiredColumn||this.$desiredColumn},s.prototype.toOrientedRange=function(i){var r=this.getRange();return i?(i.start.column=r.start.column,i.start.row=r.start.row,i.end.column=r.end.column,i.end.row=r.end.row):i=r,i.cursor=this.isBackwards()?i.start:i.end,i.desiredColumn=this.$desiredColumn,i},s.prototype.getRangeOfMovements=function(i){var r=this.getCursor();try{i(this);var t=this.getCursor();return c.fromPoints(r,t)}catch{return c.fromPoints(r,r)}finally{this.moveCursorToPosition(r)}},s.prototype.toJSON=function(){if(this.rangeCount)var i=this.ranges.map(function(r){var t=r.clone();return t.isBackwards=r.cursor==r.start,t});else{var i=this.getRange();i.isBackwards=this.isBackwards()}return i},s.prototype.fromJSON=function(i){if(i.start==null)if(this.rangeList&&i.length>1){this.toSingleRange(i[0]);for(var r=i.length;r--;){var t=c.fromPoints(i[r].start,i[r].end);i[r].isBackwards&&(t.cursor=t.start),this.addRange(t,!0)}return}else i=i[0];this.rangeList&&this.toSingleRange(i),this.setSelectionRange(i,i.isBackwards)},s.prototype.isEqual=function(i){if((i.length||this.rangeCount)&&i.length!=this.rangeCount)return!1;if(!i.length||!this.ranges)return this.getRange().isEqual(i);for(var r=this.ranges.length;r--;)if(!this.ranges[r].isEqual(i[r]))return!1;return!0},s}();u.prototype.setSelectionAnchor=u.prototype.setAnchor,u.prototype.getSelectionAnchor=u.prototype.getAnchor,u.prototype.setSelectionRange=u.prototype.setRange,d.implement(u.prototype,m),a.Selection=u}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(e,a,p){var d=e("./lib/report_error").reportError,g=2e3,m=function(){function c(u){this.splitRegex,this.states=u,this.regExps={},this.matchMappings={};for(var s in this.states){for(var i=this.states[s],r=[],t=0,n=this.matchMappings[s]={defaultToken:"text"},l="g",h=[],v=0;v<i.length;v++){var y=i[v];if(y.defaultToken&&(n.defaultToken=y.defaultToken),y.caseInsensitive&&l.indexOf("i")===-1&&(l+="i"),y.unicode&&l.indexOf("u")===-1&&(l+="u"),y.regex!=null){y.regex instanceof RegExp&&(y.regex=y.regex.toString().slice(1,-1));var C=y.regex,$=new RegExp("(?:("+C+")|(.))").exec("a").length-2;Array.isArray(y.token)?y.token.length==1||$==1?y.token=y.token[0]:$-1!=y.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:y,groupCount:$-1}),y.token=y.token[0]):(y.tokenArray=y.token,y.token=null,y.onMatch=this.$arrayTokens):typeof y.token=="function"&&!y.onMatch&&($>1?y.onMatch=this.$applyToken:y.onMatch=y.token),$>1&&(/\\\d/.test(y.regex)?C=y.regex.replace(/\\([0-9]+)/g,function(S,w){return"\\"+(parseInt(w,10)+t+1)}):($=1,C=this.removeCapturingGroups(y.regex)),!y.splitRegex&&typeof y.token!="string"&&h.push(y)),n[t]=v,t+=$,r.push(C),y.onMatch||(y.onMatch=null)}}r.length||(n[0]=0,r.push("$")),h.forEach(function(S){S.splitRegex=this.createSplitterRegexp(S.regex,l)},this),this.regExps[s]=new RegExp("("+r.join(")|(")+")|($)",l)}}return c.prototype.$setMaxTokenCount=function(u){g=u|0},c.prototype.$applyToken=function(u){var s=this.splitRegex.exec(u).slice(1),i=this.token.apply(this,s);if(typeof i=="string")return[{type:i,value:u}];for(var r=[],t=0,n=i.length;t<n;t++)s[t]&&(r[r.length]={type:i[t],value:s[t]});return r},c.prototype.$arrayTokens=function(u){if(!u)return[];var s=this.splitRegex.exec(u);if(!s)return"text";for(var i=[],r=this.tokenArray,t=0,n=r.length;t<n;t++)s[t+1]&&(i[i.length]={type:r[t],value:s[t+1]});return i},c.prototype.removeCapturingGroups=function(u){var s=u.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(i,r){return r?"(?:":i});return s},c.prototype.createSplitterRegexp=function(u,s){if(u.indexOf("(?=")!=-1){var i=0,r=!1,t={};u.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(n,l,h,v,y,C){return r?r=y!="]":y?r=!0:v?(i==t.stack&&(t.end=C+1,t.stack=-1),i--):h&&(i++,h.length!=1&&(t.stack=i,t.start=C)),n}),t.end!=null&&/^\)*$/.test(u.substr(t.end))&&(u=u.substring(0,t.start)+u.substr(t.end))}return u.charAt(0)!="^"&&(u="^"+u),u.charAt(u.length-1)!="$"&&(u+="$"),new RegExp(u,(s||"").replace("g",""))},c.prototype.getLineTokens=function(u,s){if(s&&typeof s!="string"){var i=s.slice(0);s=i[0],s==="#tmp"&&(i.shift(),s=i.shift())}else var i=[];var r=s||"start",t=this.states[r];t||(r="start",t=this.states[r]);var n=this.matchMappings[r],l=this.regExps[r];l.lastIndex=0;for(var h,v=[],y=0,C=0,$={type:null,value:""};h=l.exec(u);){var S=n.defaultToken,w=null,T=h[0],E=l.lastIndex;if(E-T.length>y){var _=u.substring(y,E-T.length);$.type==S?$.value+=_:($.type&&v.push($),$={type:S,value:_})}for(var k=0;k<h.length-2;k++)if(h[k+1]!==void 0){w=t[n[k]],w.onMatch?S=w.onMatch(T,r,i,u):S=w.token,w.next&&(typeof w.next=="string"?r=w.next:r=w.next(r,i),t=this.states[r],t||(this.reportError("state doesn't exist",r),r="start",t=this.states[r]),n=this.matchMappings[r],y=E,l=this.regExps[r],l.lastIndex=E),w.consumeLineEnd&&(y=E);break}if(T){if(typeof S=="string")(!w||w.merge!==!1)&&$.type===S?$.value+=T:($.type&&v.push($),$={type:S,value:T});else if(S){$.type&&v.push($),$={type:null,value:""};for(var k=0;k<S.length;k++)v.push(S[k])}}if(y==u.length)break;if(y=E,C++>g){for(C>2*u.length&&this.reportError("infinite loop with in ace tokenizer",{startState:s,line:u});y<u.length;)$.type&&v.push($),$={value:u.substring(y,y+=500),type:"overflow"};r="start",i=[];break}}return $.type&&v.push($),i.length>1&&i[0]!==r&&i.unshift("#tmp",r),{tokens:v,state:i.length?i:r}},c}();m.prototype.reportError=d,a.Tokenizer=m}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(e,a,p){var d=e("../lib/deep_copy").deepCopy,g;g=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(u,s){if(!s){for(var i in u)this.$rules[i]=u[i];return}for(var i in u){for(var r=u[i],t=0;t<r.length;t++){var n=r[t];(n.next||n.onMatch)&&(typeof n.next=="string"&&n.next.indexOf(s)!==0&&(n.next=s+n.next),n.nextState&&n.nextState.indexOf(s)!==0&&(n.nextState=s+n.nextState))}this.$rules[s+i]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(u,s,i,r,t){var n=typeof u=="function"?new u().getRules():u;if(r)for(var l=0;l<r.length;l++)r[l]=s+r[l];else{r=[];for(var h in n)r.push(s+h)}if(this.addRules(n,s),i)for(var v=Array.prototype[t?"push":"unshift"],l=0;l<r.length;l++)v.apply(this.$rules[r[l]],d(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(s)},this.getEmbeds=function(){return this.$embeds};var m=function(u,s){return(u!="start"||s.length)&&s.unshift(this.nextState,u),this.nextState},c=function(u,s){return s.shift(),s.shift()||"start"};this.normalizeRules=function(){var u=0,s=this.$rules;function i(r){var t=s[r];t.processed=!0;for(var n=0;n<t.length;n++){var l=t[n],h=null;Array.isArray(l)&&(h=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var v=l.next||l.push;if(v&&Array.isArray(v)){var y=l.stateName;y||(y=l.token,typeof y!="string"&&(y=y[0]||""),s[y]&&(y+=u++)),s[y]=v,l.next=y,i(y)}else v=="pop"&&(l.next=c);if(l.push&&(l.nextState=l.next||l.push,l.next=m,delete l.push),l.rules)for(var C in l.rules)s[C]?s[C].push&&s[C].push.apply(s[C],l.rules[C]):s[C]=l.rules[C];var $=typeof l=="string"?l:l.include;if($&&($==="$self"&&($="start"),Array.isArray($)?h=$.map(function(w){return s[w]}):h=s[$]),h){var S=[n,1].concat(h);l.noEscape&&(S=S.filter(function(w){return!w.next})),t.splice.apply(t,S),n--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}Object.keys(s).forEach(i,this)},this.createKeywordMapper=function(u,s,i,r){var t=Object.create(null);return this.$keywordList=[],Object.keys(u).forEach(function(n){for(var l=u[n],h=l.split(r||"|"),v=h.length;v--;){var y=h[v];this.$keywordList.push(y),i&&(y=y.toLowerCase()),t[y]=n}},this),u=null,i?function(n){return t[n.toLowerCase()]||s}:function(n){return t[n]||s}},this.getKeywords=function(){return this.$keywords}}).call(g.prototype),a.TextHighlightRules=g}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,a,p){var d;d=function(){this.$behaviours={}},(function(){this.add=function(g,m,c){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[g]:this.$behaviours[g]={}}this.$behaviours[g][m]=c},this.addBehaviours=function(g){for(var m in g)for(var c in g[m])this.add(m,c,g[m][c])},this.remove=function(g){this.$behaviours&&this.$behaviours[g]&&delete this.$behaviours[g]},this.inherit=function(g,m){if(typeof g=="function")var c=new g().getBehaviours(m);else var c=g.getBehaviours(m);this.addBehaviours(c)},this.getBehaviours=function(g){if(g){for(var m={},c=0;c<g.length;c++)this.$behaviours[g[c]]&&(m[g[c]]=this.$behaviours[g[c]]);return m}else return this.$behaviours}}).call(d.prototype),a.Behaviour=d}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,a,p){var d=e("./range").Range,g=function(){function m(c,u,s){this.$session=c,this.$row=u,this.$rowTokens=c.getTokens(u);var i=c.getTokenAt(u,s);this.$tokenIndex=i?i.index:-1}return m.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},m.prototype.stepForward=function(){this.$tokenIndex+=1;for(var c;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,c||(c=this.$session.getLength()),this.$row>=c)return this.$row=c-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentTokenRow=function(){return this.$row},m.prototype.getCurrentTokenColumn=function(){var c=this.$rowTokens,u=this.$tokenIndex,s=c[u].start;if(s!==void 0)return s;for(s=0;u>0;)u-=1,s+=c[u].value.length;return s},m.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},m.prototype.getCurrentTokenRange=function(){var c=this.$rowTokens[this.$tokenIndex],u=this.getCurrentTokenColumn();return new d(this.$row,u,this.$row,u+c.value.length)},m}();a.TokenIterator=g}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,a,p){var d=e("../../lib/oop"),g=e("../behaviour").Behaviour,m=e("../../token_iterator").TokenIterator,c=e("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],s=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],i,r={},t={'"':'"',"'":"'"},n=function(v){var y=-1;if(v.multiSelect&&(y=v.selection.index,r.rangeCount!=v.multiSelect.rangeCount&&(r={rangeCount:v.multiSelect.rangeCount})),r[y])return i=r[y];i=r[y]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},l=function(v,y,C,$){var S=v.end.row-v.start.row;return{text:C+y+$,selection:[0,v.start.column+1,S,v.end.column+(S?0:1)]}},h;h=function(v){v=v||{},this.add("braces","insertion",function(y,C,$,S,w){var T=$.getCursorPosition(),E=S.doc.getLine(T.row);if(w=="{"){n($);var _=$.getSelectionRange(),k=S.doc.getTextRange(_),D=S.getTokenAt(T.row,T.column);if(k!==""&&k!=="{"&&$.getWrapBehavioursEnabled())return l(_,k,"{","}");if(D&&/(?:string)\.quasi|\.xml/.test(D.type)){var A=[/tag\-(?:open|name)/,/attribute\-name/];return A.some(function(N){return N.test(D.type)})||/(string)\.quasi/.test(D.type)&&D.value[T.column-D.start-1]!=="$"?void 0:(h.recordAutoInsert($,S,"}"),{text:"{}",selection:[1,1]})}else if(h.isSaneInsertion($,S))return/[\]\}\)]/.test(E[T.column])||$.inMultiSelectMode||v.braces?(h.recordAutoInsert($,S,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert($,S,"{"),{text:"{",selection:[1,1]})}else if(w=="}"){n($);var R=E.substring(T.column,T.column+1);if(R=="}"){var b=S.$findOpeningBracket("}",{column:T.column+1,row:T.row});if(b!==null&&h.isAutoInsertedClosing(T,E,w))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(w==`
`||w==`\r
`){n($);var x="";h.isMaybeInsertedClosing(T,E)&&(x=c.stringRepeat("}",i.maybeInsertedBrackets),h.clearMaybeInsertedClosing());var R=E.substring(T.column,T.column+1);if(R==="}"){var M=S.findMatchingBracket({row:T.row,column:T.column+1},"}");if(!M)return null;var L=this.$getIndent(S.getLine(M.row))}else if(x)var L=this.$getIndent(E);else{h.clearMaybeInsertedClosing();return}var O=L+S.getTabString();return{text:`
`+O+`
`+L+x,selection:[1,O.length,1,O.length]}}else h.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(y,C,$,S,w){var T=S.doc.getTextRange(w);if(!w.isMultiLine()&&T=="{"){n($);var E=S.doc.getLine(w.start.row),_=E.substring(w.end.column,w.end.column+1);if(_=="}")return w.end.column++,w;i.maybeInsertedBrackets--}}),this.add("parens","insertion",function(y,C,$,S,w){if(w=="("){n($);var T=$.getSelectionRange(),E=S.doc.getTextRange(T);if(E!==""&&$.getWrapBehavioursEnabled())return l(T,E,"(",")");if(h.isSaneInsertion($,S))return h.recordAutoInsert($,S,")"),{text:"()",selection:[1,1]}}else if(w==")"){n($);var _=$.getCursorPosition(),k=S.doc.getLine(_.row),D=k.substring(_.column,_.column+1);if(D==")"){var A=S.$findOpeningBracket(")",{column:_.column+1,row:_.row});if(A!==null&&h.isAutoInsertedClosing(_,k,w))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(y,C,$,S,w){var T=S.doc.getTextRange(w);if(!w.isMultiLine()&&T=="("){n($);var E=S.doc.getLine(w.start.row),_=E.substring(w.start.column+1,w.start.column+2);if(_==")")return w.end.column++,w}}),this.add("brackets","insertion",function(y,C,$,S,w){if(w=="["){n($);var T=$.getSelectionRange(),E=S.doc.getTextRange(T);if(E!==""&&$.getWrapBehavioursEnabled())return l(T,E,"[","]");if(h.isSaneInsertion($,S))return h.recordAutoInsert($,S,"]"),{text:"[]",selection:[1,1]}}else if(w=="]"){n($);var _=$.getCursorPosition(),k=S.doc.getLine(_.row),D=k.substring(_.column,_.column+1);if(D=="]"){var A=S.$findOpeningBracket("]",{column:_.column+1,row:_.row});if(A!==null&&h.isAutoInsertedClosing(_,k,w))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(y,C,$,S,w){var T=S.doc.getTextRange(w);if(!w.isMultiLine()&&T=="["){n($);var E=S.doc.getLine(w.start.row),_=E.substring(w.start.column+1,w.start.column+2);if(_=="]")return w.end.column++,w}}),this.add("string_dquotes","insertion",function(y,C,$,S,w){var T=S.$mode.$quotes||t;if(w.length==1&&T[w]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(w)!=-1)return;n($);var E=w,_=$.getSelectionRange(),k=S.doc.getTextRange(_);if(k!==""&&(k.length!=1||!T[k])&&$.getWrapBehavioursEnabled())return l(_,k,E,E);if(!k){var D=$.getCursorPosition(),A=S.doc.getLine(D.row),R=A.substring(D.column-1,D.column),b=A.substring(D.column,D.column+1),x=S.getTokenAt(D.row,D.column),M=S.getTokenAt(D.row,D.column+1);if(R=="\\"&&x&&/escape/.test(x.type))return null;var L=x&&/string|escape/.test(x.type),O=!M||/string|escape/.test(M.type),N;if(b==E)N=L!==O,N&&/string\.end/.test(M.type)&&(N=!1);else{if(L&&!O||L&&O)return null;var F=S.$mode.tokenRe;F.lastIndex=0;var j=F.test(R);F.lastIndex=0;var W=F.test(b),P=S.$mode.$pairQuotesAfter,z=P&&P[E]&&P[E].test(R);if(!z&&j||W||b&&!/[\s;,.})\]\\]/.test(b))return null;var H=A[D.column-2];if(R==E&&(H==E||F.test(H)))return null;N=!0}return{text:N?E+E:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(y,C,$,S,w){var T=S.$mode.$quotes||t,E=S.doc.getTextRange(w);if(!w.isMultiLine()&&T.hasOwnProperty(E)){n($);var _=S.doc.getLine(w.start.row),k=_.substring(w.start.column+1,w.start.column+2);if(k==E)return w.end.column++,w}}),v.closeDocComment!==!1&&this.add("doc comment end","insertion",function(y,C,$,S,w){if(y==="doc-start"&&(w===`
`||w===`\r
`)&&$.selection.isEmpty()){var T=$.getCursorPosition();if(T.column===0)return;for(var E=S.doc.getLine(T.row),_=S.doc.getLine(T.row+1),k=S.getTokens(T.row),D=0,A=0;A<k.length;A++){D+=k[A].value.length;var R=k[A];if(D>=T.column){if(D===T.column){if(!/\.doc/.test(R.type))return;if(/\*\//.test(R.value)){var b=k[A+1];if(!b||!/\.doc/.test(b.type))return}}var x=T.column-(D-R.value.length),M=R.value.indexOf("*/"),L=R.value.indexOf("/**",M>-1?M+2:0);if(L!==-1&&x>L&&x<L+3||M!==-1&&L!==-1&&x>=M&&x<=L||!/\.doc/.test(R.type))return;break}}var O=this.$getIndent(E);if(/\s*\*/.test(_))return/^\s*\*/.test(E)?{text:w+O+"* ",selection:[1,2+O.length,1,2+O.length]}:{text:w+O+" * ",selection:[1,3+O.length,1,3+O.length]};if(/\/\*\*/.test(E.substring(0,T.column)))return{text:w+O+" * "+w+" "+O+"*/",selection:[1,4+O.length,1,4+O.length]}}})},h.isSaneInsertion=function(v,y){var C=v.getCursorPosition(),$=new m(y,C.row,C.column);if(!this.$matchTokenType($.getCurrentToken()||"text",u)){if(/[)}\]]/.test(v.session.getLine(C.row)[C.column]))return!0;var S=new m(y,C.row,C.column+1);if(!this.$matchTokenType(S.getCurrentToken()||"text",u))return!1}return $.stepForward(),$.getCurrentTokenRow()!==C.row||this.$matchTokenType($.getCurrentToken()||"text",s)},h.$matchTokenType=function(v,y){return y.indexOf(v.type||v)>-1},h.recordAutoInsert=function(v,y,C){var $=v.getCursorPosition(),S=y.doc.getLine($.row);this.isAutoInsertedClosing($,S,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=$.row,i.autoInsertedLineEnd=C+S.substr($.column),i.autoInsertedBrackets++},h.recordMaybeInsert=function(v,y,C){var $=v.getCursorPosition(),S=y.doc.getLine($.row);this.isMaybeInsertedClosing($,S)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=$.row,i.maybeInsertedLineStart=S.substr(0,$.column)+C,i.maybeInsertedLineEnd=S.substr($.column),i.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(v,y,C){return i.autoInsertedBrackets>0&&v.row===i.autoInsertedRow&&C===i.autoInsertedLineEnd[0]&&y.substr(v.column)===i.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(v,y){return i.maybeInsertedBrackets>0&&v.row===i.maybeInsertedRow&&y.substr(v.column)===i.maybeInsertedLineEnd&&y.substr(0,v.column)==i.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},d.inherits(h,g),a.CstyleBehaviour=h}),ace.define("ace/unicode",["require","exports","module"],function(e,a,p){for(var d=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],g=0,m=[],c=0;c<d.length;c+=2)m.push(g+=d[c]),d[c+1]&&m.push(45,g+=d[c+1]);a.wordChars=String.fromCharCode.apply(null,m)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,a,p){var d=e("../config"),g=e("../tokenizer").Tokenizer,m=e("./text_highlight_rules").TextHighlightRules,c=e("./behaviour/cstyle").CstyleBehaviour,u=e("../unicode"),s=e("../lib/lang"),i=e("../token_iterator").TokenIterator,r=e("../range").Range,t;t=function(){this.HighlightRules=m},(function(){this.$defaultBehaviour=new c,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new g(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(n,l,h,v){var y=l.doc,C=!0,$=!0,S=1/0,w=l.getTabSize(),T=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var k=this.lineCommentStart.map(s.escapeRegExp).join("|"),E=this.lineCommentStart[0];else var k=s.escapeRegExp(this.lineCommentStart),E=this.lineCommentStart;k=new RegExp("^(\\s*)(?:"+k+") ?"),T=l.getUseSoftTabs();var R=function(W,P){var z=W.match(k);if(z){var H=z[1].length,G=z[0].length;!M(W,H,G)&&z[0][G-1]==" "&&G--,y.removeInLine(P,H,G)}},x=E+" ",A=function(W,P){(!C||/\S/.test(W))&&(M(W,S,S)?y.insertInLine({row:P,column:S},x):y.insertInLine({row:P,column:S},E))},b=function(W,P){return k.test(W)},M=function(W,P,z){for(var H=0;P--&&W.charAt(P)==" ";)H++;if(H%w!=0)return!1;for(var H=0;W.charAt(z++)==" ";)H++;return w>2?H%w!=w-1:H%w==0}}else{if(!this.blockComment)return!1;var E=this.blockComment.start,_=this.blockComment.end,k=new RegExp("^(\\s*)(?:"+s.escapeRegExp(E)+")"),D=new RegExp("(?:"+s.escapeRegExp(_)+")\\s*$"),A=function(N,F){b(N,F)||(!C||/\S/.test(N))&&(y.insertInLine({row:F,column:N.length},_),y.insertInLine({row:F,column:S},E))},R=function(N,F){var j;(j=N.match(D))&&y.removeInLine(F,N.length-j[0].length,N.length),(j=N.match(k))&&y.removeInLine(F,j[1].length,j[0].length)},b=function(N,F){if(k.test(N))return!0;for(var j=l.getTokens(F),W=0;W<j.length;W++)if(j[W].type==="comment")return!0}}function L(N){for(var F=h;F<=v;F++)N(y.getLine(F),F)}var O=1/0;L(function(N,F){var j=N.search(/\S/);j!==-1?(j<S&&(S=j),$&&!b(N,F)&&($=!1)):O>N.length&&(O=N.length)}),S==1/0&&(S=O,C=!1,$=!1),T&&S%w!=0&&(S=Math.floor(S/w)*w),L($?R:A)},this.toggleBlockComment=function(n,l,h,v){var y=this.blockComment;if(y){!y.start&&y[0]&&(y=y[0]);var C=new i(l,v.row,v.column),$=C.getCurrentToken();l.selection;var S=l.selection.toOrientedRange(),w,T;if($&&/comment/.test($.type)){for(var E,_;$&&/comment/.test($.type);){var k=$.value.indexOf(y.start);if(k!=-1){var D=C.getCurrentTokenRow(),A=C.getCurrentTokenColumn()+k;E=new r(D,A,D,A+y.start.length);break}$=C.stepBackward()}for(var C=new i(l,v.row,v.column),$=C.getCurrentToken();$&&/comment/.test($.type);){var k=$.value.indexOf(y.end);if(k!=-1){var D=C.getCurrentTokenRow(),A=C.getCurrentTokenColumn()+k;_=new r(D,A,D,A+y.end.length);break}$=C.stepForward()}_&&l.remove(_),E&&(l.remove(E),w=E.start.row,T=-y.start.length)}else T=y.start.length,w=h.start.row,l.insert(h.end,y.end),l.insert(h.start,y.start);S.start.row==w&&(S.start.column+=T),S.end.row==w&&(S.end.column+=T),l.selection.fromOrientedRange(S)}},this.getNextLineIndent=function(n,l,h){return this.$getIndent(l)},this.checkOutdent=function(n,l,h){return!1},this.autoOutdent=function(n,l,h){},this.$getIndent=function(n){return n.match(/^\s*/)[0]},this.createWorker=function(n){return null},this.createModeDelegates=function(n){this.$embeds=[],this.$modes={};for(var l in n)if(n[l]){var h=n[l],v=h.prototype.$id,y=d.$modes[v];y||(d.$modes[v]=y=new h),d.$modes[l]||(d.$modes[l]=y),this.$embeds.push(l),this.$modes[l]=y}for(var C=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],$=function(w){(function(T){var E=C[w],_=T[E];T[C[w]]=function(){return this.$delegator(E,arguments,_)}})(S)},S=this,l=0;l<C.length;l++)$(l)},this.$delegator=function(n,l,h){var v=l[0]||"start";if(typeof v!="string"){if(Array.isArray(v[2])){var y=v[2][v[2].length-1],C=this.$modes[y];if(C)return C[n].apply(C,[v[1]].concat([].slice.call(l,1)))}v=v[0]||"start"}for(var $=0;$<this.$embeds.length;$++)if(this.$modes[this.$embeds[$]]){var S=v.split(this.$embeds[$]);if(!S[0]&&S[1]){l[0]=S[1];var C=this.$modes[this.$embeds[$]];return C[n].apply(C,l)}}var w=h.apply(this,l);return h?w:void 0},this.transformAction=function(n,l,h,v,y){if(this.$behaviour){var C=this.$behaviour.getBehaviours();for(var $ in C)if(C[$][l]){var S=C[$][l].apply(this,arguments);if(S)return S}}},this.getKeywords=function(n){if(!this.completionKeywords){var l=this.$tokenizer.rules,h=[];for(var v in l)for(var y=l[v],C=0,$=y.length;C<$;C++)if(typeof y[C].token=="string")/keyword|support|storage/.test(y[C].token)&&h.push(y[C].regex);else if(typeof y[C].token=="object"){for(var S=0,w=y[C].token.length;S<w;S++)if(/keyword|support|storage/.test(y[C].token[S])){var v=y[C].regex.match(/\(.+?\)/g)[S];h.push(v.substr(1,v.length-2))}}this.completionKeywords=h}return n?h.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(n,l,h,v){var y=this.$keywordList||this.$createKeywordList();return y.map(function(C){return{name:C,value:C,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(t.prototype),a.Mode=t}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(e,a,p){var d=e("./lib/dom"),g=function(){function m(c){this.session=c,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return m.prototype.getRowLength=function(c){var u;return this.lineWidgets?u=this.lineWidgets[c]&&this.lineWidgets[c].rowCount||0:u=0,!this.$useWrapMode||!this.$wrapData[c]?1+u:this.$wrapData[c].length+1+u},m.prototype.$getWidgetScreenLength=function(){var c=0;return this.lineWidgets.forEach(function(u){u&&u.rowCount&&!u.hidden&&(c+=u.rowCount)}),c},m.prototype.$onChangeEditor=function(c){this.attach(c.editor)},m.prototype.attach=function(c){c&&c.widgetManager&&c.widgetManager!=this&&c.widgetManager.detach(),this.editor!=c&&(this.detach(),this.editor=c,c&&(c.widgetManager=this,c.renderer.on("beforeRender",this.measureWidgets),c.renderer.on("afterRender",this.renderWidgets)))},m.prototype.detach=function(c){var u=this.editor;if(u){this.editor=null,u.widgetManager=null,u.renderer.off("beforeRender",this.measureWidgets),u.renderer.off("afterRender",this.renderWidgets);var s=this.session.lineWidgets;s&&s.forEach(function(i){i&&i.el&&i.el.parentNode&&(i._inDocument=!1,i.el.parentNode.removeChild(i.el))})}},m.prototype.updateOnFold=function(c,u){var s=u.lineWidgets;if(!(!s||!c.action)){for(var i=c.data,r=i.start.row,t=i.end.row,n=c.action=="add",l=r+1;l<t;l++)s[l]&&(s[l].hidden=n);s[t]&&(n?s[r]?s[t].hidden=n:s[r]=s[t]:(s[r]==s[t]&&(s[r]=void 0),s[t].hidden=n))}},m.prototype.updateOnChange=function(c){var u=this.session.lineWidgets;if(u){var s=c.start.row,i=c.end.row-s;if(i!==0)if(c.action=="remove"){var r=u.splice(s+1,i);!u[s]&&r[r.length-1]&&(u[s]=r.pop()),r.forEach(function(n){n&&this.removeLineWidget(n)},this),this.$updateRows()}else{var t=new Array(i);u[s]&&u[s].column!=null&&c.start.column>u[s].column&&s++,t.unshift(s,0),u.splice.apply(u,t),this.$updateRows()}}},m.prototype.$updateRows=function(){var c=this.session.lineWidgets;if(c){var u=!0;c.forEach(function(s,i){if(s)for(u=!1,s.row=i;s.$oldWidget;)s.$oldWidget.row=i,s=s.$oldWidget}),u&&(this.session.lineWidgets=null)}},m.prototype.$registerLineWidget=function(c){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var u=this.session.lineWidgets[c.row];return u&&(c.$oldWidget=u,u.el&&u.el.parentNode&&(u.el.parentNode.removeChild(u.el),u._inDocument=!1)),this.session.lineWidgets[c.row]=c,c},m.prototype.addLineWidget=function(c){if(this.$registerLineWidget(c),c.session=this.session,!this.editor)return c;var u=this.editor.renderer;c.html&&!c.el&&(c.el=d.createElement("div"),c.el.innerHTML=c.html),c.text&&!c.el&&(c.el=d.createElement("div"),c.el.textContent=c.text),c.el&&(d.addCssClass(c.el,"ace_lineWidgetContainer"),c.className&&d.addCssClass(c.el,c.className),c.el.style.position="absolute",c.el.style.zIndex="5",u.container.appendChild(c.el),c._inDocument=!0,c.coverGutter||(c.el.style.zIndex="3"),c.pixelHeight==null&&(c.pixelHeight=c.el.offsetHeight)),c.rowCount==null&&(c.rowCount=c.pixelHeight/u.layerConfig.lineHeight);var s=this.session.getFoldAt(c.row,0);if(c.$fold=s,s){var i=this.session.lineWidgets;c.row==s.end.row&&!i[s.start.row]?i[s.start.row]=c:c.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:c.row}}}),this.$updateRows(),this.renderWidgets(null,u),this.onWidgetChanged(c),c},m.prototype.removeLineWidget=function(c){if(c._inDocument=!1,c.session=null,c.el&&c.el.parentNode&&c.el.parentNode.removeChild(c.el),c.editor&&c.editor.destroy)try{c.editor.destroy()}catch{}if(this.session.lineWidgets){var u=this.session.lineWidgets[c.row];if(u==c)this.session.lineWidgets[c.row]=c.$oldWidget,c.$oldWidget&&this.onWidgetChanged(c.$oldWidget);else for(;u;){if(u.$oldWidget==c){u.$oldWidget=c.$oldWidget;break}u=u.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:c.row}}}),this.$updateRows()},m.prototype.getWidgetsAtRow=function(c){for(var u=this.session.lineWidgets,s=u&&u[c],i=[];s;)i.push(s),s=s.$oldWidget;return i},m.prototype.onWidgetChanged=function(c){this.session._changedWidgets.push(c),this.editor&&this.editor.renderer.updateFull()},m.prototype.measureWidgets=function(c,u){var s=this.session._changedWidgets,i=u.layerConfig;if(!(!s||!s.length)){for(var r=1/0,t=0;t<s.length;t++){var n=s[t];if(!(!n||!n.el)&&n.session==this.session){if(!n._inDocument){if(this.session.lineWidgets[n.row]!=n)continue;n._inDocument=!0,u.container.appendChild(n.el)}n.h=n.el.offsetHeight,n.fixedWidth||(n.w=n.el.offsetWidth,n.screenWidth=Math.ceil(n.w/i.characterWidth));var l=n.h/i.lineHeight;n.coverLine&&(l-=this.session.getRowLineCount(n.row),l<0&&(l=0)),n.rowCount!=l&&(n.rowCount=l,n.row<r&&(r=n.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},m.prototype.renderWidgets=function(c,u){var s=u.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,s.firstRow),t=Math.max(this.lastRow,s.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=s.firstRow,this.lastRow=s.lastRow,u.$cursorLayer.config=s;for(var n=r;n<=t;n++){var l=i[n];if(!(!l||!l.el)){if(l.hidden){l.el.style.top=-100-(l.pixelHeight||0)+"px";continue}l._inDocument||(l._inDocument=!0,u.container.appendChild(l.el));var h=u.$cursorLayer.getPixelPosition({row:n,column:0},!0).top;l.coverLine||(h+=s.lineHeight*this.session.getRowLineCount(l.row)),l.el.style.top=h-s.offset+"px";var v=l.coverGutter?0:u.gutterWidth;l.fixedWidth||(v-=u.scrollLeft),l.el.style.left=v+"px",l.fullWidth&&l.screenWidth&&(l.el.style.minWidth=s.width+2*s.padding+"px"),l.fixedWidth?l.el.style.right=u.scrollBar.getWidth()+"px":l.el.style.right=""}}}},m}();a.LineWidgets=g}),ace.define("ace/apply_delta",["require","exports","module"],function(e,a,p){a.applyDelta=function(d,g,m){var c=g.start.row,u=g.start.column,s=d[c]||"";switch(g.action){case"insert":var i=g.lines;if(i.length===1)d[c]=s.substring(0,u)+g.lines[0]+s.substring(u);else{var r=[c,1].concat(g.lines);d.splice.apply(d,r),d[c]=s.substring(0,u)+d[c],d[c+g.lines.length-1]+=s.substring(u)}break;case"remove":var t=g.end.column,n=g.end.row;c===n?d[c]=s.substring(0,u)+s.substring(t):d.splice(c,n-c+1,s.substring(0,u)+d[n].substring(t));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,a,p){var d=e("./lib/oop"),g=e("./lib/event_emitter").EventEmitter,m=function(){function s(i,r,t){this.$onChange=this.onChange.bind(this),this.attach(i),typeof r!="number"?this.setPosition(r.row,r.column):this.setPosition(r,t)}return s.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},s.prototype.getDocument=function(){return this.document},s.prototype.onChange=function(i){if(!(i.start.row==i.end.row&&i.start.row!=this.row)&&!(i.start.row>this.row)){var r=u(i,{row:this.row,column:this.column},this.$insertRight);this.setPosition(r.row,r.column,!0)}},s.prototype.setPosition=function(i,r,t){var n;if(t?n={row:i,column:r}:n=this.$clipPositionToDocument(i,r),!(this.row==n.row&&this.column==n.column)){var l={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:l,value:n})}},s.prototype.detach=function(){this.document.off("change",this.$onChange)},s.prototype.attach=function(i){this.document=i||this.document,this.document.on("change",this.$onChange)},s.prototype.$clipPositionToDocument=function(i,r){var t={};return i>=this.document.getLength()?(t.row=Math.max(0,this.document.getLength()-1),t.column=this.document.getLine(t.row).length):i<0?(t.row=0,t.column=0):(t.row=i,t.column=Math.min(this.document.getLine(t.row).length,Math.max(0,r))),r<0&&(t.column=0),t},s}();m.prototype.$insertRight=!1,d.implement(m.prototype,g);function c(s,i,r){var t=r?s.column<=i.column:s.column<i.column;return s.row<i.row||s.row==i.row&&t}function u(s,i,r){var t=s.action=="insert",n=(t?1:-1)*(s.end.row-s.start.row),l=(t?1:-1)*(s.end.column-s.start.column),h=s.start,v=t?h:s.end;return c(i,h,r)?{row:i.row,column:i.column}:c(v,i,!r)?{row:i.row+n,column:i.column+(i.row==v.row?l:0)}:{row:h.row,column:h.column}}a.Anchor=m}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,a,p){var d=e("./lib/oop"),g=e("./apply_delta").applyDelta,m=e("./lib/event_emitter").EventEmitter,c=e("./range").Range,u=e("./anchor").Anchor,s=function(){function i(r){this.$lines=[""],r.length===0?this.$lines=[""]:Array.isArray(r)?this.insertMergedLines({row:0,column:0},r):this.insert({row:0,column:0},r)}return i.prototype.setValue=function(r){var t=this.getLength()-1;this.remove(new c(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},r||"")},i.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},i.prototype.createAnchor=function(r,t){return new u(this,r,t)},i.prototype.$detectNewLine=function(r){var t=r.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:`
`,this._signal("changeNewLineMode")},i.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},i.prototype.setNewLineMode=function(r){this.$newLineMode!==r&&(this.$newLineMode=r,this._signal("changeNewLineMode"))},i.prototype.getNewLineMode=function(){return this.$newLineMode},i.prototype.isNewLine=function(r){return r==`\r
`||r=="\r"||r==`
`},i.prototype.getLine=function(r){return this.$lines[r]||""},i.prototype.getLines=function(r,t){return this.$lines.slice(r,t+1)},i.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},i.prototype.getLength=function(){return this.$lines.length},i.prototype.getTextRange=function(r){return this.getLinesForRange(r).join(this.getNewLineCharacter())},i.prototype.getLinesForRange=function(r){var t;if(r.start.row===r.end.row)t=[this.getLine(r.start.row).substring(r.start.column,r.end.column)];else{t=this.getLines(r.start.row,r.end.row),t[0]=(t[0]||"").substring(r.start.column);var n=t.length-1;r.end.row-r.start.row==n&&(t[n]=t[n].substring(0,r.end.column))}return t},i.prototype.insertLines=function(r,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(r,t)},i.prototype.removeLines=function(r,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(r,t)},i.prototype.insertNewLine=function(r){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(r,["",""])},i.prototype.insert=function(r,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(r,this.$split(t))},i.prototype.insertInLine=function(r,t){var n=this.clippedPos(r.row,r.column),l=this.pos(r.row,r.column+t.length);return this.applyDelta({start:n,end:l,action:"insert",lines:[t]},!0),this.clonePos(l)},i.prototype.clippedPos=function(r,t){var n=this.getLength();r===void 0?r=n:r<0?r=0:r>=n&&(r=n-1,t=void 0);var l=this.getLine(r);return t==null&&(t=l.length),t=Math.min(Math.max(t,0),l.length),{row:r,column:t}},i.prototype.clonePos=function(r){return{row:r.row,column:r.column}},i.prototype.pos=function(r,t){return{row:r,column:t}},i.prototype.$clipPosition=function(r){var t=this.getLength();return r.row>=t?(r.row=Math.max(0,t-1),r.column=this.getLine(t-1).length):(r.row=Math.max(0,r.row),r.column=Math.min(Math.max(r.column,0),this.getLine(r.row).length)),r},i.prototype.insertFullLines=function(r,t){r=Math.min(Math.max(r,0),this.getLength());var n=0;r<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),r--,n=this.$lines[r].length),this.insertMergedLines({row:r,column:n},t)},i.prototype.insertMergedLines=function(r,t){var n=this.clippedPos(r.row,r.column),l={row:n.row+t.length-1,column:(t.length==1?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:l,action:"insert",lines:t}),this.clonePos(l)},i.prototype.remove=function(r){var t=this.clippedPos(r.start.row,r.start.column),n=this.clippedPos(r.end.row,r.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},i.prototype.removeInLine=function(r,t,n){var l=this.clippedPos(r,t),h=this.clippedPos(r,n);return this.applyDelta({start:l,end:h,action:"remove",lines:this.getLinesForRange({start:l,end:h})},!0),this.clonePos(l)},i.prototype.removeFullLines=function(r,t){r=Math.min(Math.max(0,r),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&r>0,l=t<this.getLength()-1,h=n?r-1:r,v=n?this.getLine(h).length:0,y=l?t+1:t,C=l?0:this.getLine(y).length,$=new c(h,v,y,C),S=this.$lines.slice(r,t+1);return this.applyDelta({start:$.start,end:$.end,action:"remove",lines:this.getLinesForRange($)}),S},i.prototype.removeNewLine=function(r){r<this.getLength()-1&&r>=0&&this.applyDelta({start:this.pos(r,this.getLine(r).length),end:this.pos(r+1,0),action:"remove",lines:["",""]})},i.prototype.replace=function(r,t){if(r instanceof c||(r=c.fromPoints(r.start,r.end)),t.length===0&&r.isEmpty())return r.start;if(t==this.getTextRange(r))return r.end;this.remove(r);var n;return t?n=this.insert(r.start,t):n=r.start,n},i.prototype.applyDeltas=function(r){for(var t=0;t<r.length;t++)this.applyDelta(r[t])},i.prototype.revertDeltas=function(r){for(var t=r.length-1;t>=0;t--)this.revertDelta(r[t])},i.prototype.applyDelta=function(r,t){var n=r.action=="insert";(n?r.lines.length<=1&&!r.lines[0]:!c.comparePoints(r.start,r.end))||(n&&r.lines.length>2e4?this.$splitAndapplyLargeDelta(r,2e4):(g(this.$lines,r,t),this._signal("change",r)))},i.prototype.$safeApplyDelta=function(r){var t=this.$lines.length;(r.action=="remove"&&r.start.row<t&&r.end.row<t||r.action=="insert"&&r.start.row<=t)&&this.applyDelta(r)},i.prototype.$splitAndapplyLargeDelta=function(r,t){for(var n=r.lines,l=n.length-t+1,h=r.start.row,v=r.start.column,y=0,C=0;y<l;y=C){C+=t-1;var $=n.slice(y,C);$.push(""),this.applyDelta({start:this.pos(h+y,v),end:this.pos(h+C,v=0),action:r.action,lines:$},!0)}r.lines=n.slice(y),r.start.row=h+y,r.start.column=v,this.applyDelta(r,!0)},i.prototype.revertDelta=function(r){this.$safeApplyDelta({start:this.clonePos(r.start),end:this.clonePos(r.end),action:r.action=="insert"?"remove":"insert",lines:r.lines.slice()})},i.prototype.indexToPosition=function(r,t){for(var n=this.$lines||this.getAllLines(),l=this.getNewLineCharacter().length,h=t||0,v=n.length;h<v;h++)if(r-=n[h].length+l,r<0)return{row:h,column:r+n[h].length+l};return{row:v-1,column:r+n[v-1].length+l}},i.prototype.positionToIndex=function(r,t){for(var n=this.$lines||this.getAllLines(),l=this.getNewLineCharacter().length,h=0,v=Math.min(r.row,n.length),y=t||0;y<v;++y)h+=n[y].length+l;return h+r.column},i.prototype.$split=function(r){return r.split(/\r\n|\r|\n/)},i}();s.prototype.$autoNewLine="",s.prototype.$newLineMode="auto",d.implement(s.prototype,m),a.Document=s}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,a,p){var d=e("./lib/oop"),g=e("./lib/event_emitter").EventEmitter,m=function(){function c(u,s){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=u;var i=this;this.$worker=function(){if(i.running){for(var r=new Date,t=i.currentLine,n=-1,l=i.doc,h=t;i.lines[t];)t++;var v=l.getLength(),y=0;for(i.running=!1;t<v;){i.$tokenizeRow(t),n=t;do t++;while(i.lines[t]);if(y++,y%5===0&&new Date-r>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,n==-1&&(n=t),h<=n&&i.fireUpdateEvent(h,n)}}}return c.prototype.setTokenizer=function(u){this.tokenizer=u,this.lines=[],this.states=[],this.start(0)},c.prototype.setDocument=function(u){this.doc=u,this.lines=[],this.states=[],this.stop()},c.prototype.fireUpdateEvent=function(u,s){var i={first:u,last:s};this._signal("update",{data:i})},c.prototype.start=function(u){this.currentLine=Math.min(u||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},c.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},c.prototype.$updateOnChange=function(u){var s=u.start.row,i=u.end.row-s;if(i===0)this.lines[s]=null;else if(u.action=="remove")this.lines.splice(s,i+1,null),this.states.splice(s,i+1,null);else{var r=Array(i+1);r.unshift(s,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(s,this.currentLine,this.doc.getLength()),this.stop()},c.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},c.prototype.getTokens=function(u){return this.lines[u]||this.$tokenizeRow(u)},c.prototype.getState=function(u){return this.currentLine==u&&this.$tokenizeRow(u),this.states[u]||"start"},c.prototype.$tokenizeRow=function(u){var s=this.doc.getLine(u),i=this.states[u-1],r=this.tokenizer.getLineTokens(s,i,u);return this.states[u]+""!=r.state+""?(this.states[u]=r.state,this.lines[u+1]=null,this.currentLine>u+1&&(this.currentLine=u+1)):this.currentLine==u&&(this.currentLine=u+1),this.lines[u]=r.tokens},c.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},c}();d.implement(m.prototype,g),a.BackgroundTokenizer=m}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(e,a,p){var d=e("./lib/lang"),g=e("./range").Range,m=function(){function c(u,s,i){i===void 0&&(i="text"),this.setRegexp(u),this.clazz=s,this.type=i,this.docLen=0}return c.prototype.setRegexp=function(u){this.regExp+""!=u+""&&(this.regExp=u,this.cache=[])},c.prototype.update=function(u,s,i,r){if(this.regExp){for(var t=r.firstRow,n=r.lastRow,l={},h=i.$editor.$search,v=h.$isMultilineSearch(i.$editor.getLastSearchOptions()),y=t;y<=n;y++){var C=this.cache[y];if(C==null||i.getValue().length!=this.docLen){if(v){C=[];var $=h.$multiLineForward(i,this.regExp,y,n);if($){var S=$.endRow<=n?$.endRow-1:n;S>y&&(y=S),C.push(new g($.startRow,$.startCol,$.endRow,$.endCol))}C.length>this.MAX_RANGES&&(C=C.slice(0,this.MAX_RANGES))}else C=d.getMatchOffsets(i.getLine(y),this.regExp),C.length>this.MAX_RANGES&&(C=C.slice(0,this.MAX_RANGES)),C=C.map(function(_){return new g(y,_.offset,y,_.offset+_.length)});this.cache[y]=C.length?C:""}if(C.length!==0)for(var w=C.length;w--;){var T=C[w].toScreenRange(i),E=T.toString();l[E]||(l[E]=!0,s.drawSingleLineMarker(u,T,this.clazz,r))}}this.docLen=i.getValue().length}},c}();m.prototype.MAX_RANGES=500,a.SearchHighlight=m}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,a,p){var d=function(){function S(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return S.prototype.addSession=function(w){this.$session=w},S.prototype.add=function(w,T,E){if(!this.$fromUndo&&w!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),T===!1||!this.lastDeltas){this.lastDeltas=[];var _=this.$undoStack.length;_>this.$undoDepth-1&&this.$undoStack.splice(0,_-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),w.id=this.$rev=++this.$maxRev}(w.action=="remove"||w.action=="insert")&&(this.$lastDelta=w),this.lastDeltas.push(w)}},S.prototype.addSelection=function(w,T){this.selections.push({value:w,rev:T||this.$rev})},S.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},S.prototype.markIgnored=function(w,T){T==null&&(T=this.$rev+1);for(var E=this.$undoStack,_=E.length;_--;){var k=E[_][0];if(k.id<=w)break;k.id<T&&(k.ignore=!0)}this.lastDeltas=null},S.prototype.getSelection=function(w,T){for(var E=this.selections,_=E.length;_--;){var k=E[_];if(k.rev<w)return T&&(k=E[_+1]),k}},S.prototype.getRevision=function(){return this.$rev},S.prototype.getDeltas=function(w,T){T==null&&(T=this.$rev+1);for(var E=this.$undoStack,_=null,k=0,D=E.length;D--;){var A=E[D][0];if(A.id<T&&!_&&(_=D+1),A.id<=w){k=D+1;break}}return E.slice(k,_)},S.prototype.getChangedRanges=function(w,T){T==null&&(T=this.$rev+1)},S.prototype.getChangedLines=function(w,T){T==null&&(T=this.$rev+1)},S.prototype.undo=function(w,T){this.lastDeltas=null;var E=this.$undoStack;if(g(E,E.length)){w||(w=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var _=E.pop(),k=null;return _&&(k=w.undoChanges(_,T),this.$redoStack.push(_),this.$syncRev()),this.$fromUndo=!1,k}},S.prototype.redo=function(w,T){if(this.lastDeltas=null,w||(w=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var E=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);$(this.$redoStack,E),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(D){D[0].id=++this.$maxRev},this)}var _=this.$redoStack.pop(),k=null;return _&&(k=w.redoChanges(_,T),this.$undoStack.push(_),this.$syncRev()),this.$fromUndo=!1,k},S.prototype.$syncRev=function(){var w=this.$undoStack,T=w[w.length-1],E=T&&T[0].id||0;this.$redoStackBaseRev=E,this.$rev=E},S.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},S.prototype.canUndo=function(){return this.$undoStack.length>0},S.prototype.canRedo=function(){return this.$redoStack.length>0},S.prototype.bookmark=function(w){w==null&&(w=this.$rev),this.mark=w},S.prototype.isAtBookmark=function(){return this.$rev===this.mark},S.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},S.prototype.fromJSON=function(w){this.reset(),this.$undoStack=w.$undoStack,this.$redoStack=w.$redoStack},S.prototype.$prettyPrint=function(w){return w?i(w):i(this.$undoStack)+`
---
`+i(this.$redoStack)},S}();d.prototype.hasUndo=d.prototype.canUndo,d.prototype.hasRedo=d.prototype.canRedo,d.prototype.isClean=d.prototype.isAtBookmark,d.prototype.markClean=d.prototype.bookmark;function g(S,w){for(var T=w;T--;){var E=S[T];if(E&&!E[0].ignore){for(;T<w-1;){var _=n(S[T],S[T+1]);S[T]=_[0],S[T+1]=_[1],T++}return!0}}}var m=e("./range").Range,c=m.comparePoints;m.comparePoints;function u(S){return{row:S.row,column:S.column}}function s(S){return{start:u(S.start),end:u(S.end),action:S.action,lines:S.lines.slice()}}function i(S){if(S=S||this,Array.isArray(S))return S.map(i).join(`
`);var w="";return S.action?(w=S.action=="insert"?"+":"-",w+="["+S.lines+"]"):S.value&&(Array.isArray(S.value)?w=S.value.map(r).join(`
`):w=r(S.value)),S.start&&(w+=r(S)),(S.id||S.rev)&&(w+="	("+(S.id||S.rev)+")"),w}function r(S){return S.start.row+":"+S.start.column+"=>"+S.end.row+":"+S.end.column}function t(S,w){var T=S.action=="insert",E=w.action=="insert";if(T&&E)if(c(w.start,S.end)>=0)h(w,S,-1);else if(c(w.start,S.start)<=0)h(S,w,1);else return null;else if(T&&!E)if(c(w.start,S.end)>=0)h(w,S,-1);else if(c(w.end,S.start)<=0)h(S,w,-1);else return null;else if(!T&&E)if(c(w.start,S.start)>=0)h(w,S,1);else if(c(w.start,S.start)<=0)h(S,w,1);else return null;else if(!T&&!E)if(c(w.start,S.start)>=0)h(w,S,1);else if(c(w.end,S.start)<=0)h(S,w,-1);else return null;return[w,S]}function n(S,w){for(var T=S.length;T--;)for(var E=0;E<w.length;E++)if(!t(S[T],w[E])){for(;T<S.length;){for(;E--;)t(w[E],S[T]);E=w.length,T++}return[S,w]}return S.selectionBefore=w.selectionBefore=S.selectionAfter=w.selectionAfter=null,[w,S]}function l(S,w){var T=S.action=="insert",E=w.action=="insert";if(T&&E)c(S.start,w.start)<0?h(w,S,1):h(S,w,1);else if(T&&!E)c(S.start,w.end)>=0?h(S,w,-1):(c(S.start,w.start)<=0||h(S,m.fromPoints(w.start,S.start),-1),h(w,S,1));else if(!T&&E)c(w.start,S.end)>=0?h(w,S,-1):(c(w.start,S.start)<=0||h(w,m.fromPoints(S.start,w.start),-1),h(S,w,1));else if(!T&&!E)if(c(w.start,S.end)>=0)h(w,S,-1);else if(c(w.end,S.start)<=0)h(S,w,-1);else{var _,k;return c(S.start,w.start)<0&&(_=S,S=y(S,w.start)),c(S.end,w.end)>0&&(k=y(S,w.end)),v(w.end,S.start,S.end,-1),k&&!_&&(S.lines=k.lines,S.start=k.start,S.end=k.end,k=S),[w,_,k].filter(Boolean)}return[w,S]}function h(S,w,T){v(S.start,w.start,w.end,T),v(S.end,w.start,w.end,T)}function v(S,w,T,E){S.row==(E==1?w:T).row&&(S.column+=E*(T.column-w.column)),S.row+=E*(T.row-w.row)}function y(S,w){var T=S.lines,E=S.end;S.end=u(w);var _=S.end.row-S.start.row,k=T.splice(_,T.length),D=_?w.column:w.column-S.start.column;T.push(k[0].substring(0,D)),k[0]=k[0].substr(D);var A={start:u(w),end:E,lines:k,action:S.action};return A}function C(S,w){w=s(w);for(var T=S.length;T--;){for(var E=S[T],_=0;_<E.length;_++){var k=E[_],D=l(k,w);w=D[0],D.length!=2&&(D[2]?(E.splice(_+1,1,D[1],D[2]),_++):D[1]||(E.splice(_,1),_--))}E.length||S.splice(T,1)}return S}function $(S,w){for(var T=0;T<w.length;T++)for(var E=w[T],_=0;_<E.length;_++)C(S,E[_])}a.UndoManager=d}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,a,p){var d=e("../range").Range,g=function(){function m(c,u){this.foldData=c,Array.isArray(u)?this.folds=u:u=this.folds=[u];var s=u[u.length-1];this.range=new d(u[0].start.row,u[0].start.column,s.end.row,s.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(i){i.setFoldLine(this)},this)}return m.prototype.shiftRow=function(c){this.start.row+=c,this.end.row+=c,this.folds.forEach(function(u){u.start.row+=c,u.end.row+=c})},m.prototype.addFold=function(c){if(c.sameRow){if(c.start.row<this.startRow||c.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(c),this.folds.sort(function(u,s){return-u.range.compareEnd(s.start.row,s.start.column)}),this.range.compareEnd(c.start.row,c.start.column)>0?(this.end.row=c.end.row,this.end.column=c.end.column):this.range.compareStart(c.end.row,c.end.column)<0&&(this.start.row=c.start.row,this.start.column=c.start.column)}else if(c.start.row==this.end.row)this.folds.push(c),this.end.row=c.end.row,this.end.column=c.end.column;else if(c.end.row==this.start.row)this.folds.unshift(c),this.start.row=c.start.row,this.start.column=c.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");c.foldLine=this},m.prototype.containsRow=function(c){return c>=this.start.row&&c<=this.end.row},m.prototype.walk=function(c,u,s){var i=0,r=this.folds,t,n,l,h=!0;u==null&&(u=this.end.row,s=this.end.column);for(var v=0;v<r.length;v++){if(t=r[v],n=t.range.compareStart(u,s),n==-1){c(null,u,s,i,h);return}if(l=c(null,t.start.row,t.start.column,i,h),l=!l&&c(t.placeholder,t.start.row,t.start.column,i),l||n===0)return;h=!t.sameRow,i=t.end.column}c(null,u,s,i,h)},m.prototype.getNextFoldTo=function(c,u){for(var s,i,r=0;r<this.folds.length;r++){if(s=this.folds[r],i=s.range.compareEnd(c,u),i==-1)return{fold:s,kind:"after"};if(i===0)return{fold:s,kind:"inside"}}return null},m.prototype.addRemoveChars=function(c,u,s){var i=this.getNextFoldTo(c,u),r,t;if(i){if(r=i.fold,i.kind=="inside"&&r.start.column!=u&&r.start.row!=c)window.console&&window.console.log(c,u,r);else if(r.start.row==c){t=this.folds;var n=t.indexOf(r);for(n===0&&(this.start.column+=s),n;n<t.length;n++){if(r=t[n],r.start.column+=s,!r.sameRow)return;r.end.column+=s}this.end.column+=s}}},m.prototype.split=function(c,u){var s=this.getNextFoldTo(c,u);if(!s||s.kind=="inside")return null;var i=s.fold,r=this.folds,t=this.foldData,n=r.indexOf(i),l=r[n-1];this.end.row=l.end.row,this.end.column=l.end.column,r=r.splice(n,r.length-n);var h=new m(t,r);return t.splice(t.indexOf(this)+1,0,h),h},m.prototype.merge=function(c){for(var u=c.folds,s=0;s<u.length;s++)this.addFold(u[s]);var i=this.foldData;i.splice(i.indexOf(c),1)},m.prototype.toString=function(){var c=[this.range.toString()+": ["];return this.folds.forEach(function(u){c.push("  "+u.toString())}),c.push("]"),c.join(`
`)},m.prototype.idxToPosition=function(c){for(var u=0,s=0;s<this.folds.length;s++){var i=this.folds[s];if(c-=i.start.column-u,c<0)return{row:i.start.row,column:i.start.column+c};if(c-=i.placeholder.length,c<0)return i.start;u=i.end.column}return{row:this.end.row,column:this.end.column+c}},m}();a.FoldLine=g}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,a,p){var d=e("./range").Range,g=d.comparePoints,m=function(){function c(){this.ranges=[],this.$bias=1}return c.prototype.pointIndex=function(u,s,i){for(var r=this.ranges,t=i||0;t<r.length;t++){var n=r[t],l=g(u,n.end);if(!(l>0)){var h=g(u,n.start);return l===0?s&&h!==0?-t-2:t:h>0||h===0&&!s?t:-t-1}}return-t-1},c.prototype.add=function(u){var s=!u.isEmpty(),i=this.pointIndex(u.start,s);i<0&&(i=-i-1);var r=this.pointIndex(u.end,s,i);return r<0?r=-r-1:r++,this.ranges.splice(i,r-i,u)},c.prototype.addList=function(u){for(var s=[],i=u.length;i--;)s.push.apply(s,this.add(u[i]));return s},c.prototype.substractPoint=function(u){var s=this.pointIndex(u);if(s>=0)return this.ranges.splice(s,1)},c.prototype.merge=function(){var u=[],s=this.ranges;s=s.sort(function(l,h){return g(l.start,h.start)});for(var i=s[0],r,t=1;t<s.length;t++){r=i,i=s[t];var n=g(r.end,i.start);n<0||n==0&&!r.isEmpty()&&!i.isEmpty()||(g(r.end,i.end)<0&&(r.end.row=i.end.row,r.end.column=i.end.column),s.splice(t,1),u.push(i),i=r,t--)}return this.ranges=s,u},c.prototype.contains=function(u,s){return this.pointIndex({row:u,column:s})>=0},c.prototype.containsPoint=function(u){return this.pointIndex(u)>=0},c.prototype.rangeAtPoint=function(u){var s=this.pointIndex(u);if(s>=0)return this.ranges[s]},c.prototype.clipRows=function(u,s){var i=this.ranges;if(i[0].start.row>s||i[i.length-1].start.row<u)return[];var r=this.pointIndex({row:u,column:0});r<0&&(r=-r-1);var t=this.pointIndex({row:s,column:0},r);t<0&&(t=-t-1);for(var n=[],l=r;l<t;l++)n.push(i[l]);return n},c.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},c.prototype.attach=function(u){this.session&&this.detach(),this.session=u,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},c.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},c.prototype.$onChange=function(u){for(var s=u.start,i=u.end,r=s.row,t=i.row,n=this.ranges,l=0,h=n.length;l<h;l++){var v=n[l];if(v.end.row>=r)break}if(u.action=="insert")for(var y=t-r,C=-s.column+i.column;l<h;l++){var v=n[l];if(v.start.row>r)break;if(v.start.row==r&&v.start.column>=s.column&&(v.start.column==s.column&&this.$bias<=0||(v.start.column+=C,v.start.row+=y)),v.end.row==r&&v.end.column>=s.column){if(v.end.column==s.column&&this.$bias<0)continue;v.end.column==s.column&&C>0&&l<h-1&&v.end.column>v.start.column&&v.end.column==n[l+1].start.column&&(v.end.column-=C),v.end.column+=C,v.end.row+=y}}else for(var y=r-t,C=s.column-i.column;l<h;l++){var v=n[l];if(v.start.row>t)break;v.end.row<t&&(r<v.end.row||r==v.end.row&&s.column<v.end.column)?(v.end.row=r,v.end.column=s.column):v.end.row==t?v.end.column<=i.column?(y||v.end.column>s.column)&&(v.end.column=s.column,v.end.row=s.row):(v.end.column+=C,v.end.row+=y):v.end.row>t&&(v.end.row+=y),v.start.row<t&&(r<v.start.row||r==v.start.row&&s.column<v.start.column)?(v.start.row=r,v.start.column=s.column):v.start.row==t?v.start.column<=i.column?(y||v.start.column>s.column)&&(v.start.column=s.column,v.start.row=s.row):(v.start.column+=C,v.start.row+=y):v.start.row>t&&(v.start.row+=y)}if(y!=0&&l<h)for(;l<h;l++){var v=n[l];v.start.row+=y,v.end.row+=y}},c}();m.prototype.comparePoints=g,a.RangeList=m}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(e,a,p){var d=this&&this.__extends||function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(l[v]=h[v])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function l(){this.constructor=t}t.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),g=e("../range_list").RangeList,m=function(r){d(t,r);function t(n,l){var h=r.call(this)||this;return h.foldLine=null,h.placeholder=l,h.range=n,h.start=n.start,h.end=n.end,h.sameRow=n.start.row==n.end.row,h.subFolds=h.ranges=[],h}return t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(n){this.foldLine=n,this.subFolds.forEach(function(l){l.setFoldLine(n)})},t.prototype.clone=function(){var n=this.range.clone(),l=new t(n,this.placeholder);return this.subFolds.forEach(function(h){l.subFolds.push(h.clone())}),l.collapseChildren=this.collapseChildren,l},t.prototype.addSubFold=function(n){if(!this.range.isEqual(n)){u(n,this.start);for(var C=n.start.row,$=n.start.column,l=0,h=-1;l<this.subFolds.length&&(h=this.subFolds[l].range.compare(C,$),h==1);l++);var v=this.subFolds[l],y=0;if(h==0){if(v.range.containsRange(n))return v.addSubFold(n);y=1}for(var C=n.range.end.row,$=n.range.end.column,S=l,h=-1;S<this.subFolds.length&&(h=this.subFolds[S].range.compare(C,$),h==1);S++);h==0&&S++;for(var w=this.subFolds.splice(l,S-l,n),T=h==0?w.length-1:w.length,E=y;E<T;E++)n.addSubFold(w[E]);return n.setFoldLine(this.foldLine),n}},t.prototype.restoreRange=function(n){return i(n,this.start)},t}(g);function c(r,t){r.row-=t.row,r.row==0&&(r.column-=t.column)}function u(r,t){c(r.start,t),c(r.end,t)}function s(r,t){r.row==0&&(r.column+=t.column),r.row+=t.row}function i(r,t){s(r.start,t),s(r.end,t)}a.Fold=m}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(e,a,p){var d=e("../range").Range,g=e("./fold_line").FoldLine,m=e("./fold").Fold,c=e("../token_iterator").TokenIterator,u=e("../mouse/mouse_event").MouseEvent;function s(){this.getFoldAt=function(i,r,t){var n=this.getFoldLine(i);if(!n)return null;for(var l=n.folds,h=0;h<l.length;h++){var v=l[h].range;if(v.contains(i,r)){if(t==1&&v.isEnd(i,r)&&!v.isEmpty())continue;if(t==-1&&v.isStart(i,r)&&!v.isEmpty())continue;return l[h]}}},this.getFoldsInRange=function(i){var r=i.start,t=i.end,n=this.$foldData,l=[];r.column+=1,t.column-=1;for(var h=0;h<n.length;h++){var v=n[h].range.compareRange(i);if(v!=2){if(v==-2)break;for(var y=n[h].folds,C=0;C<y.length;C++){var $=y[C];if(v=$.range.compareRange(i),v==-2)break;if(v==2)continue;if(v==42)break;l.push($)}}}return r.column-=1,t.column+=1,l},this.getFoldsInRangeList=function(i){if(Array.isArray(i)){var r=[];i.forEach(function(t){r=r.concat(this.getFoldsInRange(t))},this)}else var r=this.getFoldsInRange(i);return r},this.getAllFolds=function(){for(var i=[],r=this.$foldData,t=0;t<r.length;t++)for(var n=0;n<r[t].folds.length;n++)i.push(r[t].folds[n]);return i},this.getFoldStringAt=function(i,r,t,n){if(n=n||this.getFoldLine(i),!n)return null;for(var l={end:{column:0}},h,v,y=0;y<n.folds.length;y++){v=n.folds[y];var C=v.range.compareEnd(i,r);if(C==-1){h=this.getLine(v.start.row).substring(l.end.column,v.start.column);break}else if(C===0)return null;l=v}return h||(h=this.getLine(v.start.row).substring(l.end.column)),t==-1?h.substring(0,r-l.end.column):t==1?h.substring(r-l.end.column):h},this.getFoldLine=function(i,r){var t=this.$foldData,n=0;for(r&&(n=t.indexOf(r)),n==-1&&(n=0),n;n<t.length;n++){var l=t[n];if(l.start.row<=i&&l.end.row>=i)return l;if(l.end.row>i)return null}return null},this.getNextFoldLine=function(i,r){var t=this.$foldData,n=0;for(r&&(n=t.indexOf(r)),n==-1&&(n=0),n;n<t.length;n++){var l=t[n];if(l.end.row>=i)return l}return null},this.getFoldedRowCount=function(i,r){for(var t=this.$foldData,n=r-i+1,l=0;l<t.length;l++){var h=t[l],v=h.end.row,y=h.start.row;if(v>=r){y<r&&(y>=i?n-=r-y:n=0);break}else v>=i&&(y>=i?n-=v-y:n-=v-i+1)}return n},this.$addFoldLine=function(i){return this.$foldData.push(i),this.$foldData.sort(function(r,t){return r.start.row-t.start.row}),i},this.addFold=function(i,r){var t=this.$foldData,n=!1,l;i instanceof m?l=i:(l=new m(r,i),l.collapseChildren=r.collapseChildren),this.$clipRangeToDocument(l.range);var h=l.start.row,v=l.start.column,y=l.end.row,C=l.end.column,$=this.getFoldAt(h,v,1),S=this.getFoldAt(y,C,-1);if($&&S==$)return $.addSubFold(l);$&&!$.range.isStart(h,v)&&this.removeFold($),S&&!S.range.isEnd(y,C)&&this.removeFold(S);var w=this.getFoldsInRange(l.range);w.length>0&&(this.removeFolds(w),l.collapseChildren||w.forEach(function(k){l.addSubFold(k)}));for(var T=0;T<t.length;T++){var E=t[T];if(y==E.start.row){E.addFold(l),n=!0;break}else if(h==E.end.row){if(E.addFold(l),n=!0,!l.sameRow){var _=t[T+1];if(_&&_.start.row==y){E.merge(_);break}}break}else if(y<=E.start.row)break}return n||(E=this.$addFoldLine(new g(this.$foldData,l))),this.$useWrapMode?this.$updateWrapData(E.start.row,E.start.row):this.$updateRowLengthCache(E.start.row,E.start.row),this.$modified=!0,this._signal("changeFold",{data:l,action:"add"}),l},this.addFolds=function(i){i.forEach(function(r){this.addFold(r)},this)},this.removeFold=function(i){var r=i.foldLine,t=r.start.row,n=r.end.row,l=this.$foldData,h=r.folds;if(h.length==1)l.splice(l.indexOf(r),1);else if(r.range.isEnd(i.end.row,i.end.column))h.pop(),r.end.row=h[h.length-1].end.row,r.end.column=h[h.length-1].end.column;else if(r.range.isStart(i.start.row,i.start.column))h.shift(),r.start.row=h[0].start.row,r.start.column=h[0].start.column;else if(i.sameRow)h.splice(h.indexOf(i),1);else{var v=r.split(i.start.row,i.start.column);h=v.folds,h.shift(),v.start.row=h[0].start.row,v.start.column=h[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(t,n):this.$updateRowLengthCache(t,n)),this.$modified=!0,this._signal("changeFold",{data:i,action:"remove"})},this.removeFolds=function(i){for(var r=[],t=0;t<i.length;t++)r.push(i[t]);r.forEach(function(n){this.removeFold(n)},this),this.$modified=!0},this.expandFold=function(i){this.removeFold(i),i.subFolds.forEach(function(r){i.restoreRange(r),this.addFold(r)},this),i.collapseChildren>0&&this.foldAll(i.start.row+1,i.end.row,i.collapseChildren-1),i.subFolds=[]},this.expandFolds=function(i){i.forEach(function(r){this.expandFold(r)},this)},this.unfold=function(i,r){var t,n;if(i==null)t=new d(0,0,this.getLength(),0),r==null&&(r=!0);else if(typeof i=="number")t=new d(i,0,i,this.getLine(i).length);else if("row"in i)t=d.fromPoints(i,i);else{if(Array.isArray(i))return n=[],i.forEach(function(h){n=n.concat(this.unfold(h))},this),n;t=i}n=this.getFoldsInRangeList(t);for(var l=n;n.length==1&&d.comparePoints(n[0].start,t.start)<0&&d.comparePoints(n[0].end,t.end)>0;)this.expandFolds(n),n=this.getFoldsInRangeList(t);if(r!=!1?this.removeFolds(n):this.expandFolds(n),l.length)return l},this.isRowFolded=function(i,r){return!!this.getFoldLine(i,r)},this.getRowFoldEnd=function(i,r){var t=this.getFoldLine(i,r);return t?t.end.row:i},this.getRowFoldStart=function(i,r){var t=this.getFoldLine(i,r);return t?t.start.row:i},this.getFoldDisplayLine=function(i,r,t,n,l){n==null&&(n=i.start.row),l==null&&(l=0),r==null&&(r=i.end.row),t==null&&(t=this.getLine(r).length);var h=this.doc,v="";return i.walk(function(y,C,$,S){if(!(C<n)){if(C==n){if($<l)return;S=Math.max(l,S)}y!=null?v+=y:v+=h.getLine(C).substring(S,$)}},r,t),v},this.getDisplayLine=function(i,r,t,n){var l=this.getFoldLine(i);if(l)return this.getFoldDisplayLine(l,i,r,t,n);var h;return h=this.doc.getLine(i),h.substring(n||0,r||h.length)},this.$cloneFoldData=function(){var i=[];return i=this.$foldData.map(function(r){var t=r.folds.map(function(n){return n.clone()});return new g(i,t)}),i},this.toggleFold=function(i){var r=this.selection,t=r.getRange(),n,l;if(t.isEmpty()){var h=t.start;if(n=this.getFoldAt(h.row,h.column),n){this.expandFold(n);return}else(l=this.findMatchingBracket(h))?t.comparePoint(l)==1?t.end=l:(t.start=l,t.start.column++,t.end.column--):(l=this.findMatchingBracket({row:h.row,column:h.column+1}))?(t.comparePoint(l)==1?t.end=l:t.start=l,t.start.column++):t=this.getCommentFoldRange(h.row,h.column)||t}else{var v=this.getFoldsInRange(t);if(i&&v.length){this.expandFolds(v);return}else v.length==1&&(n=v[0])}if(n||(n=this.getFoldAt(t.start.row,t.start.column)),n&&n.range.toString()==t.toString()){this.expandFold(n);return}var y="...";if(!t.isMultiLine()){if(y=this.getTextRange(t),y.length<4)return;y=y.trim().substring(0,2)+".."}this.addFold(y,t)},this.getCommentFoldRange=function(i,r,t){var n=new c(this,i,r),l=n.getCurrentToken(),h=l&&l.type;if(l&&/^comment|string/.test(h)){h=h.match(/comment|string/)[0],h=="comment"&&(h+="|doc-start|\\.doc");var v=new RegExp(h),y=new d;if(t!=1){do l=n.stepBackward();while(l&&v.test(l.type));l=n.stepForward()}y.start.row=n.getCurrentTokenRow(),y.start.column=n.getCurrentTokenColumn()+l.value.length,n=new c(this,i,r);var C=this.getState(n.$row);if(t!=-1){var $=-1;do if(l=n.stepForward(),$==-1){var S=this.getState(n.$row);C.toString()!==S.toString()&&($=n.$row)}else if(n.$row>$)break;while(l&&v.test(l.type));l=n.stepBackward()}else l=n.getCurrentToken();return y.end.row=n.getCurrentTokenRow(),y.end.column=n.getCurrentTokenColumn(),y}},this.foldAll=function(i,r,t,n){t==null&&(t=1e5);var l=this.foldWidgets;if(l){r=r||this.getLength(),i=i||0;for(var h=i;h<r;h++)if(l[h]==null&&(l[h]=this.getFoldWidget(h)),l[h]=="start"&&!(n&&!n(h))){var v=this.getFoldWidgetRange(h);v&&v.isMultiLine()&&v.end.row<=r&&v.start.row>=i&&(h=v.end.row,v.collapseChildren=t,this.addFold("...",v))}}},this.foldToLevel=function(i){for(this.foldAll();i-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var i=this;this.foldAll(null,null,null,function(r){for(var t=i.getTokens(r),n=0;n<t.length;n++){var l=t[n];if(!(l.type=="text"&&/^\s+$/.test(l.value)))return!!/comment/.test(l.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(i){if(!this.$foldStyles[i])throw new Error("invalid fold style: "+i+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=i){this.$foldStyle=i,i=="manual"&&this.unfold();var r=this.$foldMode;this.$setFolding(null),this.$setFolding(r)}},this.$setFolding=function(i){if(this.$foldMode!=i){if(this.$foldMode=i,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!i||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=i.getFoldWidget.bind(i,this,this.$foldStyle),this.getFoldWidgetRange=i.getFoldWidgetRange.bind(i,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(i,r){var t=this.foldWidgets;if(!t||r&&t[i])return{};for(var n=i-1,l;n>=0;){var h=t[n];if(h==null&&(h=t[n]=this.getFoldWidget(n)),h=="start"){var v=this.getFoldWidgetRange(n);if(l||(l=v),v&&v.end.row>=i)break}n--}return{range:n!==-1&&v,firstRange:l}},this.onFoldWidgetClick=function(i,r){r instanceof u&&(r=r.domEvent);var t={children:r.shiftKey,all:r.ctrlKey||r.metaKey,siblings:r.altKey},n=this.$toggleFoldWidget(i,t);if(!n){var l=r.target||r.srcElement;l&&/ace_fold-widget/.test(l.className)&&(l.className+=" ace_invalid")}},this.$toggleFoldWidget=function(i,r){if(this.getFoldWidget){var t=this.getFoldWidget(i),n=this.getLine(i),l=t==="end"?-1:1,h=this.getFoldAt(i,l===-1?0:n.length,l);if(h)return r.children||r.all?this.removeFold(h):this.expandFold(h),h;var v=this.getFoldWidgetRange(i,!0);if(v&&!v.isMultiLine()&&(h=this.getFoldAt(v.start.row,v.start.column,1),h&&v.isEqual(h.range)))return this.removeFold(h),h;if(r.siblings){var y=this.getParentFoldRangeData(i);if(y.range)var C=y.range.start.row+1,$=y.range.end.row;this.foldAll(C,$,r.all?1e4:0)}else r.children?($=v?v.end.row:this.getLength(),this.foldAll(i+1,$,r.all?1e4:0)):v&&(r.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(i){var r=this.selection.getCursor().row;r=this.getRowFoldStart(r);var t=this.$toggleFoldWidget(r,{});if(!t){var n=this.getParentFoldRangeData(r,!0);if(t=n.range||n.firstRange,t){r=t.start.row;var l=this.getFoldAt(r,this.getLine(r).length,1);l?this.removeFold(l):this.addFold("...",t)}}},this.updateFoldWidgets=function(i){var r=i.start.row,t=i.end.row-r;if(t===0)this.foldWidgets[r]=null;else if(i.action=="remove")this.foldWidgets.splice(r,t+1,null);else{var n=Array(t+1);n.unshift(r,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(i){var r=i.data;r.first!=r.last&&this.foldWidgets.length>r.first&&this.foldWidgets.splice(r.first,this.foldWidgets.length)}}a.Folding=s}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,a,p){var d=e("../token_iterator").TokenIterator,g=e("../range").Range;function m(){this.findMatchingBracket=function(c,u){if(c.column==0)return null;var s=u||this.getLine(c.row).charAt(c.column-1);if(s=="")return null;var i=s.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],c):this.$findOpeningBracket(i[2],c):null},this.getBracketRange=function(c){var u=this.getLine(c.row),s=!0,i,r=u.charAt(c.column-1),t=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(t||(r=u.charAt(c.column),c={row:c.row,column:c.column+1},t=r&&r.match(/([\(\[\{])|([\)\]\}])/),s=!1),!t)return null;if(t[1]){var n=this.$findClosingBracket(t[1],c);if(!n)return null;i=g.fromPoints(c,n),s||(i.end.column++,i.start.column--),i.cursor=i.end}else{var n=this.$findOpeningBracket(t[2],c);if(!n)return null;i=g.fromPoints(n,c),s||(i.start.column++,i.end.column--),i.cursor=i.start}return i},this.getMatchingBracketRanges=function(c,u){var s=this.getLine(c.row),i=/([\(\[\{])|([\)\]\}])/,r=!u&&s.charAt(c.column-1),t=r&&r.match(i);if(t||(r=(u===void 0||u)&&s.charAt(c.column),c={row:c.row,column:c.column+1},t=r&&r.match(i)),!t)return null;var n=new g(c.row,c.column-1,c.row,c.column),l=t[1]?this.$findClosingBracket(t[1],c):this.$findOpeningBracket(t[2],c);if(!l)return[n];var h=new g(l.row,l.column,l.row,l.column+1);return[n,h]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(c,u,s){var i=this.$brackets[c],r=1,t=new d(this,u.row,u.column),n=t.getCurrentToken();if(n||(n=t.stepForward()),!!n){s||(s=new RegExp("(\\.?"+n.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var l=u.column-t.getCurrentTokenColumn()-2,h=n.value;;){for(;l>=0;){var v=h.charAt(l);if(v==i){if(r-=1,r==0)return{row:t.getCurrentTokenRow(),column:l+t.getCurrentTokenColumn()}}else v==c&&(r+=1);l-=1}do n=t.stepBackward();while(n&&!s.test(n.type));if(n==null)break;h=n.value,l=h.length-1}return null}},this.$findClosingBracket=function(c,u,s){var i=this.$brackets[c],r=1,t=new d(this,u.row,u.column),n=t.getCurrentToken();if(n||(n=t.stepForward()),!!n){s||(s=new RegExp("(\\.?"+n.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var l=u.column-t.getCurrentTokenColumn();;){for(var h=n.value,v=h.length;l<v;){var y=h.charAt(l);if(y==i){if(r-=1,r==0)return{row:t.getCurrentTokenRow(),column:l+t.getCurrentTokenColumn()}}else y==c&&(r+=1);l+=1}do n=t.stepForward();while(n&&!s.test(n.type));if(n==null)break;l=0}return null}},this.getMatchingTags=function(c){var u=new d(this,c.row,c.column),s=this.$findTagName(u);if(s){var i=u.stepBackward();return i.value==="<"?this.$findClosingTag(u,s):this.$findOpeningTag(u,s)}},this.$findTagName=function(c){var u=c.getCurrentToken(),s=!1,i=!1;if(u&&u.type.indexOf("tag-name")===-1)do i?u=c.stepBackward():u=c.stepForward(),u&&(u.value==="/>"?i=!0:u.type.indexOf("tag-name")!==-1&&(s=!0));while(u&&!s);return u},this.$findClosingTag=function(c,u){var s,i=u.value,r=u.value,t=0,n=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+1);u=c.stepForward();var l=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+u.value.length),h=!1;do{if(s=u,s.type.indexOf("tag-close")!==-1&&!h){var v=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+1);h=!0}if(u=c.stepForward(),u){if(u.value===">"&&!h){var v=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+1);h=!0}if(u.type.indexOf("tag-name")!==-1){if(i=u.value,r===i){if(s.value==="<")t++;else if(s.value==="</"&&(t--,t<0)){c.stepBackward();var y=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+2);u=c.stepForward();var C=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=c.stepForward()),u&&u.value===">")var $=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+1);else return}}}else if(r===i&&u.value==="/>"&&(t--,t<0))var y=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+2),C=y,$=C,v=new g(l.end.row,l.end.column,l.end.row,l.end.column+1)}}while(u&&t>=0);if(n&&v&&y&&$&&l&&C)return{openTag:new g(n.start.row,n.start.column,v.end.row,v.end.column),closeTag:new g(y.start.row,y.start.column,$.end.row,$.end.column),openTagName:l,closeTagName:C}},this.$findOpeningTag=function(c,u){var s=c.getCurrentToken(),i=u.value,r=0,t=c.getCurrentTokenRow(),n=c.getCurrentTokenColumn(),l=n+2,h=new g(t,n,t,l);c.stepForward();var v=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=c.stepForward()),!(!u||u.value!==">")){var y=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+1);c.stepBackward(),c.stepBackward();do if(u=s,t=c.getCurrentTokenRow(),n=c.getCurrentTokenColumn(),l=n+u.value.length,s=c.stepBackward(),u){if(u.type.indexOf("tag-name")!==-1){if(i===u.value)if(s.value==="<"){if(r++,r>0){var C=new g(t,n,t,l),$=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+1);do u=c.stepForward();while(u&&u.value!==">");var S=new g(c.getCurrentTokenRow(),c.getCurrentTokenColumn(),c.getCurrentTokenRow(),c.getCurrentTokenColumn()+1)}}else s.value==="</"&&r--}else if(u.value==="/>"){for(var w=0,T=s;T;){if(T.type.indexOf("tag-name")!==-1&&T.value===i){r--;break}else if(T.value==="<")break;T=c.stepBackward(),w++}for(var E=0;E<w;E++)c.stepForward()}}while(s&&r<=0);if($&&S&&h&&y&&C&&v)return{openTag:new g($.start.row,$.start.column,S.end.row,S.end.column),closeTag:new g(h.start.row,h.start.column,y.end.row,y.end.column),openTagName:C,closeTagName:v}}}}a.BracketMatch=m}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,a,p){var d=e("./lib/oop"),g=e("./lib/lang"),m=e("./bidihandler").BidiHandler,c=e("./config"),u=e("./lib/event_emitter").EventEmitter,s=e("./selection").Selection,i=e("./mode/text").Mode,r=e("./range").Range,t=e("./line_widgets").LineWidgets,n=e("./document").Document,l=e("./background_tokenizer").BackgroundTokenizer,h=e("./search_highlight").SearchHighlight,v=e("./undomanager").UndoManager,y=function(){function A(R,b){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++A.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new l(new i().getTokenizer(),this);var x=this;this.bgTokenizer.on("update",function(M){x._signal("tokenizerUpdate",M)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof R!="object"||!R.getLine)&&(R=new n(R)),this.setDocument(R),this.selection=new s(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new m(this),c.resetOptions(this),this.setMode(b),c._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return A.prototype.$initOperationListeners=function(){var R=this;this.curOp=null,this.on("change",function(){R.curOp||(R.startOperation(),R.curOp.selectionBefore=R.$lastSel),R.curOp.docChanged=!0},!0),this.on("changeSelection",function(){R.curOp||(R.startOperation(),R.curOp.selectionBefore=R.$lastSel),R.curOp.selectionChanged=!0},!0),this.$operationResetTimer=g.delayedCall(this.endOperation.bind(this,!0))},A.prototype.startOperation=function(R){if(this.curOp){if(!R||this.curOp.command)return;this.prevOp=this.curOp}R||(R={}),this.$operationResetTimer.schedule(),this.curOp={command:R.command||{},args:R.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",R)},A.prototype.endOperation=function(R){if(this.curOp){if(R&&R.returnValue===!1){this.curOp=null,this._signal("endOperation",R);return}if(R==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var b=this.selection.toJSON();this.curOp.selectionAfter=b,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(b),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",R)}},A.prototype.setDocument=function(R){this.doc&&this.doc.off("change",this.$onChange),this.doc=R,R.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},A.prototype.getDocument=function(){return this.doc},Object.defineProperty(A.prototype,"widgetManager",{get:function(){var R=new t(this);return this.widgetManager=R,this.$editor&&R.attach(this.$editor),R},set:function(R){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:R})},enumerable:!1,configurable:!0}),A.prototype.$resetRowCache=function(R){if(!R){this.$docRowCache=[],this.$screenRowCache=[];return}var b=this.$docRowCache.length,x=this.$getRowCacheIndex(this.$docRowCache,R)+1;b>x&&(this.$docRowCache.splice(x,b),this.$screenRowCache.splice(x,b))},A.prototype.$getRowCacheIndex=function(R,b){for(var x=0,M=R.length-1;x<=M;){var L=x+M>>1,O=R[L];if(b>O)x=L+1;else if(b<O)M=L-1;else return L}return x-1},A.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},A.prototype.onChangeFold=function(R){var b=R.data;this.$resetRowCache(b.start.row)},A.prototype.onChange=function(R){this.$modified=!0,this.$bidiHandler.onChange(R),this.$resetRowCache(R.start.row);var b=this.$updateInternalDataOnChange(R);!this.$fromUndo&&this.$undoManager&&(b&&b.length&&(this.$undoManager.add({action:"removeFolds",folds:b},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(R,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(R),this._signal("change",R)},A.prototype.onSelectionChange=function(){this._signal("changeSelection")},A.prototype.setValue=function(R){this.doc.setValue(R),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},A.fromJSON=function(R){typeof R=="string"&&(R=JSON.parse(R));var b=new v;b.$undoStack=R.history.undo,b.$redoStack=R.history.redo,b.mark=R.history.mark,b.$rev=R.history.rev;var x=new A(R.value);return R.folds.forEach(function(M){x.addFold("...",r.fromPoints(M.start,M.end))}),x.setAnnotations(R.annotations),x.setBreakpoints(R.breakpoints),x.setMode(R.mode),x.setScrollLeft(R.scrollLeft),x.setScrollTop(R.scrollTop),x.setUndoManager(b),x.selection.fromJSON(R.selection),x},A.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(R){return R.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},A.prototype.toString=function(){return this.doc.getValue()},A.prototype.getSelection=function(){return this.selection},A.prototype.getState=function(R){return this.bgTokenizer.getState(R)},A.prototype.getTokens=function(R){return this.bgTokenizer.getTokens(R)},A.prototype.getTokenAt=function(R,b){var x=this.bgTokenizer.getTokens(R),M,L=0;if(b==null){var O=x.length-1;L=this.getLine(R).length}else for(var O=0;O<x.length&&(L+=x[O].value.length,!(L>=b));O++);return M=x[O],M?(M.index=O,M.start=L-M.value.length,M):null},A.prototype.setUndoManager=function(R){if(this.$undoManager=R,this.$informUndoManager&&this.$informUndoManager.cancel(),R){var b=this;R.addSession(this),this.$syncInformUndoManager=function(){b.$informUndoManager.cancel(),b.mergeUndoDeltas=!1},this.$informUndoManager=g.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},A.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},A.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},A.prototype.getTabString=function(){return this.getUseSoftTabs()?g.stringRepeat(" ",this.getTabSize()):"	"},A.prototype.setUseSoftTabs=function(R){this.setOption("useSoftTabs",R)},A.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},A.prototype.setTabSize=function(R){this.setOption("tabSize",R)},A.prototype.getTabSize=function(){return this.$tabSize},A.prototype.isTabStop=function(R){return this.$useSoftTabs&&R.column%this.$tabSize===0},A.prototype.setNavigateWithinSoftTabs=function(R){this.setOption("navigateWithinSoftTabs",R)},A.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},A.prototype.setOverwrite=function(R){this.setOption("overwrite",R)},A.prototype.getOverwrite=function(){return this.$overwrite},A.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},A.prototype.addGutterDecoration=function(R,b){this.$decorations[R]||(this.$decorations[R]=""),this.$decorations[R]+=" "+b,this._signal("changeBreakpoint",{})},A.prototype.removeGutterDecoration=function(R,b){this.$decorations[R]=(this.$decorations[R]||"").replace(" "+b,""),this._signal("changeBreakpoint",{})},A.prototype.getBreakpoints=function(){return this.$breakpoints},A.prototype.setBreakpoints=function(R){this.$breakpoints=[];for(var b=0;b<R.length;b++)this.$breakpoints[R[b]]="ace_breakpoint";this._signal("changeBreakpoint",{})},A.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},A.prototype.setBreakpoint=function(R,b){b===void 0&&(b="ace_breakpoint"),b?this.$breakpoints[R]=b:delete this.$breakpoints[R],this._signal("changeBreakpoint",{})},A.prototype.clearBreakpoint=function(R){delete this.$breakpoints[R],this._signal("changeBreakpoint",{})},A.prototype.addMarker=function(R,b,x,M){var L=this.$markerId++,O={range:R,type:x||"line",renderer:typeof x=="function"?x:null,clazz:b,inFront:!!M,id:L};return M?(this.$frontMarkers[L]=O,this._signal("changeFrontMarker")):(this.$backMarkers[L]=O,this._signal("changeBackMarker")),L},A.prototype.addDynamicMarker=function(R,b){if(R.update){var x=this.$markerId++;return R.id=x,R.inFront=!!b,b?(this.$frontMarkers[x]=R,this._signal("changeFrontMarker")):(this.$backMarkers[x]=R,this._signal("changeBackMarker")),R}},A.prototype.removeMarker=function(R){var b=this.$frontMarkers[R]||this.$backMarkers[R];if(b){var x=b.inFront?this.$frontMarkers:this.$backMarkers;delete x[R],this._signal(b.inFront?"changeFrontMarker":"changeBackMarker")}},A.prototype.getMarkers=function(R){return R?this.$frontMarkers:this.$backMarkers},A.prototype.highlight=function(R){if(!this.$searchHighlight){var b=new h(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(R)},A.prototype.highlightLines=function(R,b,x,M){typeof b!="number"&&(x=b,b=R),x||(x="ace_step");var L=new r(R,0,b,1/0);return L.id=this.addMarker(L,x,"fullLine",M),L},A.prototype.setAnnotations=function(R){this.$annotations=R,this._signal("changeAnnotation",{})},A.prototype.getAnnotations=function(){return this.$annotations||[]},A.prototype.clearAnnotations=function(){this.setAnnotations([])},A.prototype.$detectNewLine=function(R){var b=R.match(/^.*?(\r?\n)/m);b?this.$autoNewLine=b[1]:this.$autoNewLine=`
`},A.prototype.getWordRange=function(R,b){var x=this.getLine(R),M=!1;if(b>0&&(M=!!x.charAt(b-1).match(this.tokenRe)),M||(M=!!x.charAt(b).match(this.tokenRe)),M)var L=this.tokenRe;else if(/^\s+$/.test(x.slice(b-1,b+1)))var L=/\s/;else var L=this.nonTokenRe;var O=b;if(O>0){do O--;while(O>=0&&x.charAt(O).match(L));O++}for(var N=b;N<x.length&&x.charAt(N).match(L);)N++;return new r(R,O,R,N)},A.prototype.getAWordRange=function(R,b){for(var x=this.getWordRange(R,b),M=this.getLine(x.end.row);M.charAt(x.end.column).match(/[ \t]/);)x.end.column+=1;return x},A.prototype.setNewLineMode=function(R){this.doc.setNewLineMode(R)},A.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},A.prototype.setUseWorker=function(R){this.setOption("useWorker",R)},A.prototype.getUseWorker=function(){return this.$useWorker},A.prototype.onReloadTokenizer=function(R){var b=R.data;this.bgTokenizer.start(b.first),this._signal("tokenizerUpdate",R)},A.prototype.setMode=function(R,b){if(R&&typeof R=="object"){if(R.getTokenizer)return this.$onChangeMode(R);var x=R,M=x.path}else M=R||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new i),this.$modes[M]&&!x){this.$onChangeMode(this.$modes[M]),b&&b();return}this.$modeId=M,c.loadModule(["mode",M],(function(L){if(!this.destroyed){if(this.$modeId!==M)return b&&b();this.$modes[M]&&!x?this.$onChangeMode(this.$modes[M]):L&&L.Mode&&(L=new L.Mode(x),x||(this.$modes[M]=L,L.$id=M),this.$onChangeMode(L)),b&&b()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},A.prototype.$onChangeMode=function(R,b){if(b||(this.$modeId=R.$id),this.$mode!==R){var x=this.$mode;this.$mode=R,this.$stopWorker(),this.$useWorker&&this.$startWorker();var M=R.getTokenizer();if(M.on!==void 0){var L=this.onReloadTokenizer.bind(this);M.on("update",L)}this.bgTokenizer.setTokenizer(M),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=R.tokenRe,this.nonTokenRe=R.nonTokenRe,b||(R.attachToSession&&R.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(R.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:x,mode:R}))}},A.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},A.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(R){c.warn("Could not load worker",R),this.$worker=null}},A.prototype.getMode=function(){return this.$mode},A.prototype.setScrollTop=function(R){this.$scrollTop===R||isNaN(R)||(this.$scrollTop=R,this._signal("changeScrollTop",R))},A.prototype.getScrollTop=function(){return this.$scrollTop},A.prototype.setScrollLeft=function(R){this.$scrollLeft===R||isNaN(R)||(this.$scrollLeft=R,this._signal("changeScrollLeft",R))},A.prototype.getScrollLeft=function(){return this.$scrollLeft},A.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},A.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var R=0;return this.lineWidgets.forEach(function(b){b&&b.screenWidth>R&&(R=b.screenWidth)}),this.lineWidgetWidth=R},A.prototype.$computeWidth=function(R){if(this.$modified||R){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var b=this.doc.getAllLines(),x=this.$rowLengthCache,M=0,L=0,O=this.$foldData[L],N=O?O.start.row:1/0,F=b.length,j=0;j<F;j++){if(j>N){if(j=O.end.row+1,j>=F)break;O=this.$foldData[L++],N=O?O.start.row:1/0}x[j]==null&&(x[j]=this.$getStringScreenWidth(b[j])[0]),x[j]>M&&(M=x[j])}this.screenWidth=M}},A.prototype.getLine=function(R){return this.doc.getLine(R)},A.prototype.getLines=function(R,b){return this.doc.getLines(R,b)},A.prototype.getLength=function(){return this.doc.getLength()},A.prototype.getTextRange=function(R){return this.doc.getTextRange(R||this.selection.getRange())},A.prototype.insert=function(R,b){return this.doc.insert(R,b)},A.prototype.remove=function(R){return this.doc.remove(R)},A.prototype.removeFullLines=function(R,b){return this.doc.removeFullLines(R,b)},A.prototype.undoChanges=function(R,b){if(R.length){this.$fromUndo=!0;for(var x=R.length-1;x!=-1;x--){var M=R[x];M.action=="insert"||M.action=="remove"?this.doc.revertDelta(M):M.folds&&this.addFolds(M.folds)}!b&&this.$undoSelect&&(R.selectionBefore?this.selection.fromJSON(R.selectionBefore):this.selection.setRange(this.$getUndoSelection(R,!0))),this.$fromUndo=!1}},A.prototype.redoChanges=function(R,b){if(R.length){this.$fromUndo=!0;for(var x=0;x<R.length;x++){var M=R[x];(M.action=="insert"||M.action=="remove")&&this.doc.$safeApplyDelta(M)}!b&&this.$undoSelect&&(R.selectionAfter?this.selection.fromJSON(R.selectionAfter):this.selection.setRange(this.$getUndoSelection(R,!1))),this.$fromUndo=!1}},A.prototype.setUndoSelect=function(R){this.$undoSelect=R},A.prototype.$getUndoSelection=function(R,b){function x(F){return b?F.action!=="insert":F.action==="insert"}for(var M,L,O=0;O<R.length;O++){var N=R[O];if(N.start){if(!M){x(N)?M=r.fromPoints(N.start,N.end):M=r.fromPoints(N.start,N.start);continue}x(N)?(L=N.start,M.compare(L.row,L.column)==-1&&M.setStart(L),L=N.end,M.compare(L.row,L.column)==1&&M.setEnd(L)):(L=N.start,M.compare(L.row,L.column)==-1&&(M=r.fromPoints(N.start,N.start)))}}return M},A.prototype.replace=function(R,b){return this.doc.replace(R,b)},A.prototype.moveText=function(R,b,x){var M=this.getTextRange(R),L=this.getFoldsInRange(R),O=r.fromPoints(b,b);if(!x){this.remove(R);var N=R.start.row-R.end.row,F=N?-R.end.column:R.start.column-R.end.column;F&&(O.start.row==R.end.row&&O.start.column>R.end.column&&(O.start.column+=F),O.end.row==R.end.row&&O.end.column>R.end.column&&(O.end.column+=F)),N&&O.start.row>=R.end.row&&(O.start.row+=N,O.end.row+=N)}if(O.end=this.insert(O.start,M),L.length){var j=R.start,W=O.start,N=W.row-j.row,F=W.column-j.column;this.addFolds(L.map(function(H){return H=H.clone(),H.start.row==j.row&&(H.start.column+=F),H.end.row==j.row&&(H.end.column+=F),H.start.row+=N,H.end.row+=N,H}))}return O},A.prototype.indentRows=function(R,b,x){x=x.replace(/\t/g,this.getTabString());for(var M=R;M<=b;M++)this.doc.insertInLine({row:M,column:0},x)},A.prototype.outdentRows=function(R){for(var b=R.collapseRows(),x=new r(0,0,0,0),M=this.getTabSize(),L=b.start.row;L<=b.end.row;++L){var O=this.getLine(L);x.start.row=L,x.end.row=L;for(var N=0;N<M&&O.charAt(N)==" ";++N);N<M&&O.charAt(N)=="	"?(x.start.column=N,x.end.column=N+1):(x.start.column=0,x.end.column=N),this.remove(x)}},A.prototype.$moveLines=function(R,b,x){if(R=this.getRowFoldStart(R),b=this.getRowFoldEnd(b),x<0){var M=this.getRowFoldStart(R+x);if(M<0)return 0;var L=M-R}else if(x>0){var M=this.getRowFoldEnd(b+x);if(M>this.doc.getLength()-1)return 0;var L=M-b}else{R=this.$clipRowToDocument(R),b=this.$clipRowToDocument(b);var L=b-R+1}var O=new r(R,0,b,Number.MAX_VALUE),N=this.getFoldsInRange(O).map(function(j){return j=j.clone(),j.start.row+=L,j.end.row+=L,j}),F=x==0?this.doc.getLines(R,b):this.doc.removeFullLines(R,b);return this.doc.insertFullLines(R+L,F),N.length&&this.addFolds(N),L},A.prototype.moveLinesUp=function(R,b){return this.$moveLines(R,b,-1)},A.prototype.moveLinesDown=function(R,b){return this.$moveLines(R,b,1)},A.prototype.duplicateLines=function(R,b){return this.$moveLines(R,b,0)},A.prototype.$clipRowToDocument=function(R){return Math.max(0,Math.min(R,this.doc.getLength()-1))},A.prototype.$clipColumnToRow=function(R,b){return b<0?0:Math.min(this.doc.getLine(R).length,b)},A.prototype.$clipPositionToDocument=function(R,b){if(b=Math.max(0,b),R<0)R=0,b=0;else{var x=this.doc.getLength();R>=x?(R=x-1,b=this.doc.getLine(x-1).length):b=Math.min(this.doc.getLine(R).length,b)}return{row:R,column:b}},A.prototype.$clipRangeToDocument=function(R){R.start.row<0?(R.start.row=0,R.start.column=0):R.start.column=this.$clipColumnToRow(R.start.row,R.start.column);var b=this.doc.getLength()-1;return R.end.row>b?(R.end.row=b,R.end.column=this.doc.getLine(b).length):R.end.column=this.$clipColumnToRow(R.end.row,R.end.column),R},A.prototype.setUseWrapMode=function(R){if(R!=this.$useWrapMode){if(this.$useWrapMode=R,this.$modified=!0,this.$resetRowCache(0),R){var b=this.getLength();this.$wrapData=Array(b),this.$updateWrapData(0,b-1)}this._signal("changeWrapMode")}},A.prototype.getUseWrapMode=function(){return this.$useWrapMode},A.prototype.setWrapLimitRange=function(R,b){(this.$wrapLimitRange.min!==R||this.$wrapLimitRange.max!==b)&&(this.$wrapLimitRange={min:R,max:b},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},A.prototype.adjustWrapLimit=function(R,b){var x=this.$wrapLimitRange;x.max<0&&(x={min:b,max:b});var M=this.$constrainWrapLimit(R,x.min,x.max);return M!=this.$wrapLimit&&M>1?(this.$wrapLimit=M,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},A.prototype.$constrainWrapLimit=function(R,b,x){return b&&(R=Math.max(b,R)),x&&(R=Math.min(x,R)),R},A.prototype.getWrapLimit=function(){return this.$wrapLimit},A.prototype.setWrapLimit=function(R){this.setWrapLimitRange(R,R)},A.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},A.prototype.$updateInternalDataOnChange=function(R){var b=this.$useWrapMode,x=R.action,M=R.start,L=R.end,O=M.row,N=L.row,F=N-O,j=null;if(this.$updating=!0,F!=0)if(x==="remove"){this[b?"$wrapData":"$rowLengthCache"].splice(O,F);var W=this.$foldData;j=this.getFoldsInRange(R),this.removeFolds(j);var P=this.getFoldLine(L.row),z=0;if(P){P.addRemoveChars(L.row,L.column,M.column-L.column),P.shiftRow(-F);var H=this.getFoldLine(O);H&&H!==P&&(H.merge(P),P=H),z=W.indexOf(P)+1}for(z;z<W.length;z++){var P=W[z];P.start.row>=L.row&&P.shiftRow(-F)}N=O}else{var G=Array(F);G.unshift(O,0);var V=b?this.$wrapData:this.$rowLengthCache;V.splice.apply(V,G);var W=this.$foldData,P=this.getFoldLine(O),z=0;if(P){var Y=P.range.compareInside(M.row,M.column);Y==0?(P=P.split(M.row,M.column),P&&(P.shiftRow(F),P.addRemoveChars(N,0,L.column-M.column))):Y==-1&&(P.addRemoveChars(O,0,L.column-M.column),P.shiftRow(F)),z=W.indexOf(P)+1}for(z;z<W.length;z++){var P=W[z];P.start.row>=O&&P.shiftRow(F)}}else{F=Math.abs(R.start.column-R.end.column),x==="remove"&&(j=this.getFoldsInRange(R),this.removeFolds(j),F=-F);var P=this.getFoldLine(O);P&&P.addRemoveChars(O,M.column,F)}return b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,b?this.$updateWrapData(O,N):this.$updateRowLengthCache(O,N),j},A.prototype.$updateRowLengthCache=function(R,b){this.$rowLengthCache[R]=null,this.$rowLengthCache[b]=null},A.prototype.$updateWrapData=function(R,b){var x=this.doc.getAllLines(),M=this.getTabSize(),L=this.$wrapData,O=this.$wrapLimit,N,F,j=R;for(b=Math.min(b,x.length-1);j<=b;)F=this.getFoldLine(j,F),F?(N=[],F.walk((function(W,P,z,H){var G;if(W!=null){G=this.$getDisplayTokens(W,N.length),G[0]=S;for(var V=1;V<G.length;V++)G[V]=w}else G=this.$getDisplayTokens(x[P].substring(H,z),N.length);N=N.concat(G)}).bind(this),F.end.row,x[F.end.row].length+1),L[F.start.row]=this.$computeWrapSplits(N,O,M),j=F.end.row+1):(N=this.$getDisplayTokens(x[j]),L[j]=this.$computeWrapSplits(N,O,M),j++)},A.prototype.$computeWrapSplits=function(R,b,x){if(R.length==0)return[];var M=[],L=R.length,O=0,N=0,F=this.$wrapAsCode,j=this.$indentedSoftWrap,W=b<=Math.max(2*x,8)||j===!1?0:Math.floor(b/2);function P(){var Y=0;if(W===0)return Y;if(j)for(var K=0;K<R.length;K++){var q=R[K];if(q==E)Y+=1;else if(q==_)Y+=x;else{if(q==k)continue;break}}return F&&j!==!1&&(Y+=x),Math.min(Y,W)}function z(Y){for(var K=Y-O,q=O;q<Y;q++){var J=R[q];(J===12||J===2)&&(K-=1)}M.length||(H=P(),M.indent=H),N+=K,M.push(N),O=Y}for(var H=0;L-O>b-H;){var G=O+b-H;if(R[G-1]>=E&&R[G]>=E){z(G);continue}if(R[G]==S||R[G]==w){for(G;G!=O-1&&R[G]!=S;G--);if(G>O){z(G);continue}for(G=O+b,G;G<R.length&&R[G]==w;G++);if(G==R.length)break;z(G);continue}for(var V=Math.max(G-(b-(b>>2)),O-1);G>V&&R[G]<S;)G--;if(F){for(;G>V&&R[G]<S;)G--;for(;G>V&&R[G]==T;)G--}else for(;G>V&&R[G]<E;)G--;if(G>V){z(++G);continue}G=O+b,R[G]==$&&G--,z(G-H)}return M},A.prototype.$getDisplayTokens=function(R,b){var x=[],M;b=b||0;for(var L=0;L<R.length;L++){var O=R.charCodeAt(L);if(O==9){M=this.getScreenTabSize(x.length+b),x.push(_);for(var N=1;N<M;N++)x.push(k)}else O==32?x.push(E):O>39&&O<48||O>57&&O<64?x.push(T):O>=4352&&D(O)?x.push(C,$):x.push(C)}return x},A.prototype.$getStringScreenWidth=function(R,b,x){if(b==0)return[0,0];b==null&&(b=1/0),x=x||0;var M,L;for(L=0;L<R.length&&(M=R.charCodeAt(L),M==9?x+=this.getScreenTabSize(x):M>=4352&&D(M)?x+=2:x+=1,!(x>b));L++);return[x,L]},A.prototype.getRowLength=function(R){var b=1;return this.lineWidgets&&(b+=this.lineWidgets[R]&&this.lineWidgets[R].rowCount||0),!this.$useWrapMode||!this.$wrapData[R]?b:this.$wrapData[R].length+b},A.prototype.getRowLineCount=function(R){return!this.$useWrapMode||!this.$wrapData[R]?1:this.$wrapData[R].length+1},A.prototype.getRowWrapIndent=function(R){if(this.$useWrapMode){var b=this.screenToDocumentPosition(R,Number.MAX_VALUE),x=this.$wrapData[b.row];return x.length&&x[0]<b.column?x.indent:0}else return 0},A.prototype.getScreenLastRowColumn=function(R){var b=this.screenToDocumentPosition(R,Number.MAX_VALUE);return this.documentToScreenColumn(b.row,b.column)},A.prototype.getDocumentLastRowColumn=function(R,b){var x=this.documentToScreenRow(R,b);return this.getScreenLastRowColumn(x)},A.prototype.getDocumentLastRowColumnPosition=function(R,b){var x=this.documentToScreenRow(R,b);return this.screenToDocumentPosition(x,Number.MAX_VALUE/10)},A.prototype.getRowSplitData=function(R){if(this.$useWrapMode)return this.$wrapData[R]},A.prototype.getScreenTabSize=function(R){return this.$tabSize-(R%this.$tabSize|0)},A.prototype.screenToDocumentRow=function(R,b){return this.screenToDocumentPosition(R,b).row},A.prototype.screenToDocumentColumn=function(R,b){return this.screenToDocumentPosition(R,b).column},A.prototype.screenToDocumentPosition=function(R,b,x){if(R<0)return{row:0,column:0};var M,L=0,O=0,N,F=0,j=0,W=this.$screenRowCache,P=this.$getRowCacheIndex(W,R),z=W.length;if(z&&P>=0)var F=W[P],L=this.$docRowCache[P],H=R>W[z-1];else var H=!z;for(var G=this.getLength()-1,V=this.getNextFoldLine(L),Y=V?V.start.row:1/0;F<=R&&(j=this.getRowLength(L),!(F+j>R||L>=G));)F+=j,L++,L>Y&&(L=V.end.row+1,V=this.getNextFoldLine(L,V),Y=V?V.start.row:1/0),H&&(this.$docRowCache.push(L),this.$screenRowCache.push(F));if(V&&V.start.row<=L)M=this.getFoldDisplayLine(V),L=V.start.row;else{if(F+j<=R||L>G)return{row:G,column:this.getLine(G).length};M=this.getLine(L),V=null}var K=0,q=Math.floor(R-F);if(this.$useWrapMode){var J=this.$wrapData[L];J&&(N=J[q],q>0&&J.length&&(K=J.indent,O=J[q-1]||J[J.length-1],M=M.substring(O)))}return x!==void 0&&this.$bidiHandler.isBidiRow(F+q,L,q)&&(b=this.$bidiHandler.offsetToCol(x)),O+=this.$getStringScreenWidth(M,b-K)[1],this.$useWrapMode&&O>=N&&(O=N-1),V?V.idxToPosition(O):{row:L,column:O}},A.prototype.documentToScreenPosition=function(R,b){if(typeof b>"u")var x=this.$clipPositionToDocument(R.row,R.column);else x=this.$clipPositionToDocument(R,b);R=x.row,b=x.column;var M=0,L=null,O=null;O=this.getFoldAt(R,b,1),O&&(R=O.start.row,b=O.start.column);var N,F=0,j=this.$docRowCache,W=this.$getRowCacheIndex(j,R),P=j.length;if(P&&W>=0)var F=j[W],M=this.$screenRowCache[W],z=R>j[P-1];else var z=!P;for(var H=this.getNextFoldLine(F),G=H?H.start.row:1/0;F<R;){if(F>=G){if(N=H.end.row+1,N>R)break;H=this.getNextFoldLine(N,H),G=H?H.start.row:1/0}else N=F+1;M+=this.getRowLength(F),F=N,z&&(this.$docRowCache.push(F),this.$screenRowCache.push(M))}var V="";H&&F>=G?(V=this.getFoldDisplayLine(H,R,b),L=H.start.row):(V=this.getLine(R).substring(0,b),L=R);var Y=0;if(this.$useWrapMode){var K=this.$wrapData[L];if(K){for(var q=0;V.length>=K[q];)M++,q++;V=V.substring(K[q-1]||0,V.length),Y=q>0?K.indent:0}}return this.lineWidgets&&this.lineWidgets[F]&&this.lineWidgets[F].rowsAbove&&(M+=this.lineWidgets[F].rowsAbove),{row:M,column:Y+this.$getStringScreenWidth(V)[0]}},A.prototype.documentToScreenColumn=function(R,b){return this.documentToScreenPosition(R,b).column},A.prototype.documentToScreenRow=function(R,b){return this.documentToScreenPosition(R,b).row},A.prototype.getScreenLength=function(){var R=0,b=null;if(this.$useWrapMode)for(var L=this.$wrapData.length,O=0,M=0,b=this.$foldData[M++],N=b?b.start.row:1/0;O<L;){var F=this.$wrapData[O];R+=F?F.length+1:1,O++,O>N&&(O=b.end.row+1,b=this.$foldData[M++],N=b?b.start.row:1/0)}else{R=this.getLength();for(var x=this.$foldData,M=0;M<x.length;M++)b=x[M],R-=b.end.row-b.start.row}return this.lineWidgets&&(R+=this.$getWidgetScreenLength()),R},A.prototype.$setFontMetrics=function(R){this.$enableVarChar&&(this.$getStringScreenWidth=function(b,x,M){if(x===0)return[0,0];x||(x=1/0),M=M||0;var L,O;for(O=0;O<b.length&&(L=b.charAt(O),L==="	"?M+=this.getScreenTabSize(M):M+=R.getCharacterWidth(L),!(M>x));O++);return[M,O]})},A.prototype.getPrecedingCharacter=function(){var R=this.selection.getCursor();if(R.column===0)return R.row===0?"":this.doc.getNewLineCharacter();var b=this.getLine(R.row);return b[R.column-1]},A.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},A}();y.$uid=0,y.prototype.$modes=c.$modes,y.prototype.getValue=y.prototype.toString,y.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},y.prototype.$overwrite=!1,y.prototype.$mode=null,y.prototype.$modeId=null,y.prototype.$scrollTop=0,y.prototype.$scrollLeft=0,y.prototype.$wrapLimit=80,y.prototype.$useWrapMode=!1,y.prototype.$wrapLimitRange={min:null,max:null},y.prototype.lineWidgets=null,y.prototype.isFullWidth=D,d.implement(y.prototype,u);var C=1,$=2,S=3,w=4,T=9,E=10,_=11,k=12;function D(A){return A<4352?!1:A>=4352&&A<=4447||A>=4515&&A<=4519||A>=4602&&A<=4607||A>=9001&&A<=9002||A>=11904&&A<=11929||A>=11931&&A<=12019||A>=12032&&A<=12245||A>=12272&&A<=12283||A>=12288&&A<=12350||A>=12353&&A<=12438||A>=12441&&A<=12543||A>=12549&&A<=12589||A>=12593&&A<=12686||A>=12688&&A<=12730||A>=12736&&A<=12771||A>=12784&&A<=12830||A>=12832&&A<=12871||A>=12880&&A<=13054||A>=13056&&A<=19903||A>=19968&&A<=42124||A>=42128&&A<=42182||A>=43360&&A<=43388||A>=44032&&A<=55203||A>=55216&&A<=55238||A>=55243&&A<=55291||A>=63744&&A<=64255||A>=65040&&A<=65049||A>=65072&&A<=65106||A>=65108&&A<=65126||A>=65128&&A<=65131||A>=65281&&A<=65376||A>=65504&&A<=65510}e("./edit_session/folding").Folding.call(y.prototype),e("./edit_session/bracket_match").BracketMatch.call(y.prototype),c.defineOptions(y.prototype,"session",{wrap:{set:function(A){if(!A||A=="off"?A=!1:A=="free"?A=!0:A=="printMargin"?A=-1:typeof A=="string"&&(A=parseInt(A,10)||!1),this.$wrap!=A)if(this.$wrap=A,!A)this.setUseWrapMode(!1);else{var R=typeof A=="number"?A:null;this.setWrapLimitRange(R,R),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(A){A=A=="auto"?this.$mode.type!="text":A!="text",A!=this.$wrapAsCode&&(this.$wrapAsCode=A,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(A){this.$useWorker=A,this.$stopWorker(),A&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(A){A=parseInt(A),A>0&&this.$tabSize!==A&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=A,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(A){this.setFoldStyle(A)},handlesSet:!0},overwrite:{set:function(A){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(A){this.doc.setNewLineMode(A)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(A){this.setMode(A)},get:function(){return this.$modeId},handlesSet:!0}}),a.EditSession=y}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,a,p){var d=e("./lib/lang"),g=e("./lib/oop"),m=e("./range").Range,c=function(){function r(){this.$options={}}return r.prototype.set=function(t){return g.mixin(this.$options,t),this},r.prototype.getOptions=function(){return d.copyObject(this.$options)},r.prototype.setOptions=function(t){this.$options=t},r.prototype.find=function(t){var n=this.$options,l=this.$matchIterator(t,n);if(!l)return!1;var h=null;return l.forEach(function(v,y,C,$){return h=new m(v,y,C,$),y==$&&n.start&&n.start.start&&n.skipCurrent!=!1&&h.isEqual(n.start)?(h=null,!1):!0}),h},r.prototype.findAll=function(t){var n=this.$options;if(!n.needle)return[];this.$assembleRegExp(n);var l=n.range,h=l?t.getLines(l.start.row,l.end.row):t.doc.getAllLines(),v=[],y=n.re;if(n.$isMultiLine){var C=y.length,$=h.length-C,S;e:for(var w=y.offset||0;w<=$;w++){for(var T=0;T<C;T++)if(h[w+T].search(y[T])==-1)continue e;var E=h[w],_=h[w+C-1],k=E.length-E.match(y[0])[0].length,D=_.match(y[C-1])[0].length;S&&S.end.row===w&&S.end.column>k||(v.push(S=new m(w,k,w+C-1,D)),C>2&&(w=w+C-2))}}else for(var A,R=0;R<h.length;R++)if(this.$isMultilineSearch(n)){var b=h.length-1;if(A=this.$multiLineForward(t,y,R,b),A){var x=A.endRow<=b?A.endRow-1:b;x>R&&(R=x),v.push(new m(A.startRow,A.startCol,A.endRow,A.endCol))}}else{A=d.getMatchOffsets(h[R],y);for(var T=0;T<A.length;T++){var M=A[T];v.push(new m(R,M.offset,R,M.offset+M.length))}}if(l){for(var L=l.start.column,O=l.end.column,R=0,T=v.length-1;R<T&&v[R].start.column<L&&v[R].start.row==0;)R++;for(var N=l.end.row-l.start.row;R<T&&v[T].end.column>O&&v[T].end.row==N;)T--;for(v=v.slice(R,T+1),R=0,T=v.length;R<T;R++)v[R].start.row+=l.start.row,v[R].end.row+=l.start.row}return v},r.prototype.parseReplaceString=function(t){for(var n={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},l="",h=0,v=t.length;h<v;h++){var y=t.charCodeAt(h);if(y===n.Backslash){if(h++,h>=v){l+="\\";break}var C=t.charCodeAt(h);switch(C){case n.Backslash:l+="\\";break;case n.n:l+=`
`;break;case n.t:l+="	";break}continue}if(y===n.DollarSign){if(h++,h>=v){l+="$";break}var $=t.charCodeAt(h);if($===n.DollarSign){l+="$$";continue}if($===n.Digit0||$===n.Ampersand){l+="$&";continue}if(n.Digit1<=$&&$<=n.Digit9){l+="$"+t[h];continue}}l+=t[h]}return l||t},r.prototype.replace=function(t,n){var l=this.$options,h=this.$assembleRegExp(l);if(l.$isMultiLine)return n;if(h){var v=this.$isMultilineSearch(l);v&&(t=t.replace(/\r\n|\r|\n/g,`
`));var y=h.exec(t);if(!y||!v&&y[0].length!=t.length)return null;if(n=l.regExp?this.parseReplaceString(n):n.replace(/\$/g,"$$$$"),n=t.replace(h,n),l.preserveCase){n=n.split("");for(var C=Math.min(t.length,t.length);C--;){var $=t[C];$&&$.toLowerCase()!=$?n[C]=n[C].toUpperCase():n[C]=n[C].toLowerCase()}n=n.join("")}return n}},r.prototype.$assembleRegExp=function(t,n){if(t.needle instanceof RegExp)return t.re=t.needle;var l=t.needle;if(!t.needle)return t.re=!1;t.regExp||(l=d.escapeRegExp(l));var h=t.caseSensitive?"gm":"gmi";try{new RegExp(l,"u"),t.$supportsUnicodeFlag=!0,h+="u"}catch{t.$supportsUnicodeFlag=!1}if(t.wholeWord&&(l=u(l,t)),t.$isMultiLine=!n&&/[\n\r]/.test(l),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(l,h);try{var v=new RegExp(l,h)}catch{v=!1}return t.re=v},r.prototype.$assembleMultilineRegExp=function(t,n){for(var l=t.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),h=[],v=0;v<l.length;v++)try{h.push(new RegExp(l[v],n))}catch{return!1}return h},r.prototype.$isMultilineSearch=function(t){return t.re&&/\\r\\n|\\r|\\n/.test(t.re.source)&&t.regExp&&!t.$isMultiLine},r.prototype.$multiLineForward=function(t,n,l,h){for(var v,y=i(t,l),C=l;C<=h;){for(var $=0;$<y&&!(C>h);$++){var S=t.getLine(C++);v=v==null?S:v+`
`+S}var w=n.exec(v);if(n.lastIndex=0,w){var T=v.slice(0,w.index).split(`
`),E=w[0].split(`
`),_=l+T.length-1,k=T[T.length-1].length,D=_+E.length-1,A=E.length==1?k+E[0].length:E[E.length-1].length;return{startRow:_,startCol:k,endRow:D,endCol:A}}}return null},r.prototype.$multiLineBackward=function(t,n,l,h,v){for(var y,C=i(t,h),$=t.getLine(h).length-l,S=h;S>=v;){for(var w=0;w<C&&S>=v;w++){var T=t.getLine(S--);y=y==null?T:T+`
`+y}var E=s(y,n,$);if(E){var _=y.slice(0,E.index).split(`
`),k=E[0].split(`
`),D=S+_.length,A=_[_.length-1].length,R=D+k.length-1,b=k.length==1?A+k[0].length:k[k.length-1].length;return{startRow:D,startCol:A,endRow:R,endCol:b}}}return null},r.prototype.$matchIterator=function(t,n){var l=this.$assembleRegExp(n);if(!l)return!1;var h=this.$isMultilineSearch(n),v=this.$multiLineForward,y=this.$multiLineBackward,C=n.backwards==!0,$=n.skipCurrent!=!1,S=l.unicode,w=n.range,T=n.start;T||(T=w?w[C?"end":"start"]:t.selection.getRange()),T.start&&(T=T[$!=C?"end":"start"]);var E=w?w.start.row:0,_=w?w.end.row:t.getLength()-1;if(C)var k=function(R){var b=T.row;if(!A(b,T.column,R)){for(b--;b>=E;b--)if(A(b,Number.MAX_VALUE,R))return;if(n.wrap!=!1){for(b=_,E=T.row;b>=E;b--)if(A(b,Number.MAX_VALUE,R))return}}};else var k=function(b){var x=T.row;if(!A(x,T.column,b)){for(x=x+1;x<=_;x++)if(A(x,0,b))return;if(n.wrap!=!1){for(x=E,_=T.row;x<=_;x++)if(A(x,0,b))return}}};if(n.$isMultiLine)var D=l.length,A=function(R,b,x){var M=C?R-D+1:R;if(!(M<0||M+D>t.getLength())){var L=t.getLine(M),O=L.search(l[0]);if(!(!C&&O<b||O===-1)){for(var N=1;N<D;N++)if(L=t.getLine(M+N),L.search(l[N])==-1)return;var F=L.match(l[D-1])[0].length;if(!(C&&F>b)&&x(M,O,M+D-1,F))return!0}}};else if(C)var A=function(b,x,M){if(h){var L=y(t,l,x,b,E);if(!L)return!1;if(M(L.startRow,L.startCol,L.endRow,L.endCol))return!0}else{var O=t.getLine(b),N=[],F,j=0;for(l.lastIndex=0;F=l.exec(O);){var W=F[0].length;if(j=F.index,!W){if(j>=O.length)break;l.lastIndex=j+=d.skipEmptyMatch(O,j,S)}if(F.index+W>x)break;N.push(F.index,W)}for(var P=N.length-1;P>=0;P-=2){var z=N[P-1],W=N[P];if(M(b,z,b,z+W))return!0}}};else var A=function(b,x,M){if(l.lastIndex=x,h){var L=v(t,l,b,_);if(L){var O=L.endRow<=_?L.endRow-1:_;O>b&&(b=O)}if(!L)return!1;if(M(L.startRow,L.startCol,L.endRow,L.endCol))return!0}else for(var N=t.getLine(b),F,j;j=l.exec(N);){var W=j[0].length;if(F=j.index,M(b,F,b,F+W))return!0;if(!W&&(l.lastIndex=F+=d.skipEmptyMatch(N,F,S),F>=N.length))return!1}};return{forEach:k}},r}();function u(r,t){var n=d.supportsLookbehind();function l(C,$){$===void 0&&($=!0);var S=n&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return S.test(C)||t.regExp?n&&t.$supportsUnicodeFlag?$?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var h=Array.from(r),v=h[0],y=h[h.length-1];return l(v)+r+l(y,!1)}function s(r,t,n){for(var l=null,h=0;h<=r.length;){t.lastIndex=h;var v=t.exec(r);if(!v)break;var y=v.index+v[0].length;if(y>r.length-n)break;(!l||y>l.index+l[0].length)&&(l=v),h=v.index+1}return l}function i(r,t){var n=5e3,l={row:t,column:0},h=r.doc.positionToIndex(l),v=h+n,y=r.doc.indexToPosition(v),C=y.row;return C+1}a.Search=c}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,a,p){var d=this&&this.__extends||function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(l[v]=h[v])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function l(){this.constructor=t}t.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),g=e("../lib/keys"),m=e("../lib/useragent"),c=g.KEY_MODS,u=function(){function r(t,n){this.$init(t,n,!1)}return r.prototype.$init=function(t,n,l){this.platform=n||(m.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=l},r.prototype.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},r.prototype.removeCommand=function(t,n){var l=t&&(typeof t=="string"?t:t.name);t=this.commands[l],n||delete this.commands[l];var h=this.commandKeyBinding;for(var v in h){var y=h[v];if(y==t)delete h[v];else if(Array.isArray(y)){var C=y.indexOf(t);C!=-1&&(y.splice(C,1),y.length==1&&(h[v]=y[0]))}}},r.prototype.bindKey=function(t,n,l){if(typeof t=="object"&&t&&(l==null&&(l=t.position),t=t[this.platform]),!!t){if(typeof n=="function")return this.addCommand({exec:n,bindKey:t,name:n.name||t});t.split("|").forEach(function(h){var v="";if(h.indexOf(" ")!=-1){var y=h.split(/\s+/);h=y.pop(),y.forEach(function(S){var w=this.parseKeys(S),T=c[w.hashId]+w.key;v+=(v?" ":"")+T,this._addCommandToBinding(v,"chainKeys")},this),v+=" "}var C=this.parseKeys(h),$=c[C.hashId]+C.key;this._addCommandToBinding(v+$,n,l)},this)}},r.prototype._addCommandToBinding=function(t,n,l){var h=this.commandKeyBinding,v;if(!n)delete h[t];else if(!h[t]||this.$singleCommand)h[t]=n;else{Array.isArray(h[t])?(v=h[t].indexOf(n))!=-1&&h[t].splice(v,1):h[t]=[h[t]],typeof l!="number"&&(l=s(n));var y=h[t];for(v=0;v<y.length;v++){var C=y[v],$=s(C);if($>l)break}y.splice(v,0,n)}},r.prototype.addCommands=function(t){t&&Object.keys(t).forEach(function(n){var l=t[n];if(l){if(typeof l=="string")return this.bindKey(l,n);typeof l=="function"&&(l={exec:l}),typeof l=="object"&&(l.name||(l.name=n),this.addCommand(l))}},this)},r.prototype.removeCommands=function(t){Object.keys(t).forEach(function(n){this.removeCommand(t[n])},this)},r.prototype.bindKeys=function(t){Object.keys(t).forEach(function(n){this.bindKey(n,t[n])},this)},r.prototype._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},r.prototype.parseKeys=function(t){var n=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function($){return $}),l=n.pop(),h=g[l];if(g.FUNCTION_KEYS[h])l=g.FUNCTION_KEYS[h].toLowerCase();else if(n.length){if(n.length==1&&n[0]=="shift")return{key:l.toUpperCase(),hashId:-1}}else return{key:l,hashId:-1};for(var v=0,y=n.length;y--;){var C=g.KEY_MODS[n[y]];if(C==null)return typeof console<"u"&&console.error("invalid modifier "+n[y]+" in "+t),!1;v|=C}return{key:l,hashId:v}},r.prototype.findKeyCommand=function(t,n){var l=c[t]+n;return this.commandKeyBinding[l]},r.prototype.handleKeyboard=function(t,n,l,h){if(!(h<0)){var v=c[n]+l,y=this.commandKeyBinding[v];return t.$keyChain&&(t.$keyChain+=" "+v,y=this.commandKeyBinding[t.$keyChain]||y),y&&(y=="chainKeys"||y[y.length-1]=="chainKeys")?(t.$keyChain=t.$keyChain||v,{command:"null"}):(t.$keyChain&&((!n||n==4)&&l.length==1?t.$keyChain=t.$keyChain.slice(0,-v.length-1):(n==-1||h>0)&&(t.$keyChain="")),{command:y})}},r.prototype.getStatusText=function(t,n){return n.$keyChain||""},r}();function s(r){return typeof r=="object"&&r.bindKey&&r.bindKey.position||(r.isDefault?-100:0)}var i=function(r){d(t,r);function t(n,l){var h=r.call(this,n,l)||this;return h.$singleCommand=!0,h}return t}(u);i.call=function(r,t,n){u.prototype.$init.call(r,t,n,!0)},u.call=function(r,t,n){u.prototype.$init.call(r,t,n,!1)},a.HashHandler=i,a.MultiHashHandler=u}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,a,p){var d=this&&this.__extends||function(){var s=function(i,r){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])},s(i,r)};return function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");s(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),g=e("../lib/oop"),m=e("../keyboard/hash_handler").MultiHashHandler,c=e("../lib/event_emitter").EventEmitter,u=function(s){d(i,s);function i(r,t){var n=s.call(this,t,r)||this;return n.byName=n.commands,n.setDefaultHandler("exec",function(l){return l.args?l.command.exec(l.editor,l.args,l.event,!1):l.command.exec(l.editor,{},l.event,!0)}),n}return i.prototype.exec=function(r,t,n){if(Array.isArray(r)){for(var l=r.length;l--;)if(this.exec(r[l],t,n))return!0;return!1}typeof r=="string"&&(r=this.commands[r]);var h={editor:t,command:r,args:n};return this.canExecute(r,t)?(h.returnValue=this._emit("exec",h),this._signal("afterExec",h),h.returnValue!==!1):(this._signal("commandUnavailable",h),!1)},i.prototype.canExecute=function(r,t){return typeof r=="string"&&(r=this.commands[r]),!(!r||t&&t.$readOnly&&!r.readOnly||this.$checkCommandState!=!1&&r.isAvailable&&!r.isAvailable(t))},i.prototype.toggleRecording=function(r){if(!this.$inReplay)return r&&r._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},i.prototype.replay=function(r){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(r);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,r):this.exec(t[0],r,t[1])},this)}finally{this.$inReplay=!1}}},i.prototype.trimMacro=function(r){return r.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})},i}(m);g.implement(u.prototype,c),a.CommandManager=u}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,a,p){var d=e("../lib/lang"),g=e("../config"),m=e("../range").Range;function c(s,i){return{win:s,mac:i}}a.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:c("Ctrl-,","Command-,"),exec:function(s){g.loadModule("ace/ext/settings_menu",function(i){i.init(s),s.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:c("Alt-E","F4"),exec:function(s){g.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(s,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:c("Alt-Shift-E","Shift-F4"),exec:function(s){g.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(s,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:c("Ctrl-A","Command-A"),exec:function(s){s.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:c(null,"Ctrl-L"),exec:function(s){s.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:c("Ctrl-L","Command-L"),exec:function(s,i){typeof i=="number"&&!isNaN(i)&&s.gotoLine(i),s.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:c("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(s){s.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:c("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(s){s.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:c("F2","F2"),exec:function(s){s.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:c("Alt-F2","Alt-F2"),exec:function(s){s.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:c(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:c(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:c("Alt-0","Command-Option-0"),exec:function(s){s.session.foldAll(),s.session.unfold(s.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:c("Alt-Shift-0","Command-Option-Shift-0"),exec:function(s){s.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:c("Ctrl-K","Command-G"),exec:function(s){s.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:c("Ctrl-Shift-K","Command-Shift-G"),exec:function(s){s.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:c("Alt-K","Ctrl-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:c("Alt-Shift-K","Ctrl-Shift-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:c("Ctrl-F","Command-F"),exec:function(s){g.loadModule("ace/ext/searchbox",function(i){i.Search(s)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(s){s.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:c("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(s){s.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:c("Ctrl-Home","Command-Home|Command-Up"),exec:function(s){s.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:c("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(s){s.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:c("Up","Up|Ctrl-P"),exec:function(s,i){s.navigateUp(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:c("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(s){s.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:c("Ctrl-End","Command-End|Command-Down"),exec:function(s){s.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:c("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(s){s.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:c("Down","Down|Ctrl-N"),exec:function(s,i){s.navigateDown(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:c("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(s){s.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:c("Ctrl-Left","Option-Left"),exec:function(s){s.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:c("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:c("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(s){s.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:c("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(s){s.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:c("Left","Left|Ctrl-B"),exec:function(s,i){s.navigateLeft(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:c("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(s){s.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:c("Ctrl-Right","Option-Right"),exec:function(s){s.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:c("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:c("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(s){s.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:c("Shift-Right","Shift-Right"),exec:function(s){s.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:c("Right","Right|Ctrl-F"),exec:function(s,i){s.navigateRight(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(s){s.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:c(null,"Option-PageDown"),exec:function(s){s.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:c("PageDown","PageDown|Ctrl-V"),exec:function(s){s.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(s){s.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:c(null,"Option-PageUp"),exec:function(s){s.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(s){s.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:c("Ctrl-Up",null),exec:function(s){s.renderer.scrollBy(0,-2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:c("Ctrl-Down",null),exec:function(s){s.renderer.scrollBy(0,2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:c("Ctrl-Alt-E","Command-Option-E"),exec:function(s){s.commands.toggleRecording(s)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:c("Ctrl-Shift-E","Command-Shift-E"),exec:function(s){s.commands.replay(s)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:c("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(s){s.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:c("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(s){s.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:c("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(s){s.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:c(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(s){},readOnly:!0},{name:"cut",description:"Cut",exec:function(s){var i=s.$copyWithEmptySelection&&s.selection.isEmpty(),r=i?s.selection.getLineRange():s.selection.getRange();s._emit("cut",r),r.isEmpty()||s.session.remove(r),s.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(s,i){s.$handlePaste(i)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:c("Ctrl-D","Command-D"),exec:function(s){s.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:c("Ctrl-Shift-D","Command-Shift-D"),exec:function(s){s.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:c("Ctrl-Alt-S","Command-Alt-S"),exec:function(s){s.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:c("Ctrl-/","Command-/"),exec:function(s){s.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:c("Ctrl-Shift-/","Command-Shift-/"),exec:function(s){s.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:c("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(s){s.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:c("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(s){s.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:c("Ctrl-H","Command-Option-F"),exec:function(s){g.loadModule("ace/ext/searchbox",function(i){i.Search(s,!0)})}},{name:"undo",description:"Undo",bindKey:c("Ctrl-Z","Command-Z"),exec:function(s){s.undo()}},{name:"redo",description:"Redo",bindKey:c("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(s){s.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:c("Alt-Shift-Up","Command-Option-Up"),exec:function(s){s.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:c("Alt-Up","Option-Up"),exec:function(s){s.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:c("Alt-Shift-Down","Command-Option-Down"),exec:function(s){s.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:c("Alt-Down","Option-Down"),exec:function(s){s.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:c("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(s){s.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:c("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(s){s.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:c("Shift-Delete",null),exec:function(s){if(s.selection.isEmpty())s.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:c("Alt-Backspace","Command-Backspace"),exec:function(s){s.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:c("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(s){s.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:c("Ctrl-Shift-Backspace",null),exec:function(s){var i=s.selection.getRange();i.start.column=0,s.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:c("Ctrl-Shift-Delete",null),exec:function(s){var i=s.selection.getRange();i.end.column=Number.MAX_VALUE,s.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:c("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(s){s.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:c("Ctrl-Delete","Alt-Delete"),exec:function(s){s.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:c("Shift-Tab","Shift-Tab"),exec:function(s){s.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:c("Tab","Tab"),exec:function(s){s.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:c("Ctrl-[","Ctrl-["),exec:function(s){s.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:c("Ctrl-]","Ctrl-]"),exec:function(s){s.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(s,i){s.insert(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(s,i){s.insert(d.stringRepeat(i.text||"",i.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:c(null,"Ctrl-O"),exec:function(s){s.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:c("Alt-Shift-X","Ctrl-T"),exec:function(s){s.transposeLetters()},multiSelectAction:function(s){s.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:c("Ctrl-U","Ctrl-U"),exec:function(s){s.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:c("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(s){s.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:c(null,null),exec:function(s){s.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:c("Ctrl-Shift-L","Command-Shift-L"),exec:function(s){var i=s.selection.getRange();i.start.column=i.end.column=0,i.end.row++,s.selection.setRange(i,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:c("Ctrl+F3","F3"),exec:function(s){s.openLink()}},{name:"joinlines",description:"Join lines",bindKey:c(null,null),exec:function(s){for(var i=s.selection.isBackwards(),r=i?s.selection.getSelectionLead():s.selection.getSelectionAnchor(),t=i?s.selection.getSelectionAnchor():s.selection.getSelectionLead(),n=s.session.doc.getLine(r.row).length,l=s.session.doc.getTextRange(s.selection.getRange()),h=l.replace(/\n\s*/," ").length,v=s.session.doc.getLine(r.row),y=r.row+1;y<=t.row+1;y++){var C=d.stringTrimLeft(d.stringTrimRight(s.session.doc.getLine(y)));C.length!==0&&(C=" "+C),v+=C}t.row+1<s.session.doc.getLength()-1&&(v+=s.session.doc.getNewLineCharacter()),s.clearSelection(),s.session.doc.replace(new m(r.row,0,t.row+2,0),v),h>0?(s.selection.moveCursorTo(r.row,r.column),s.selection.selectTo(r.row,r.column+h)):(n=s.session.doc.getLine(r.row).length>n?n+1:n,s.selection.moveCursorTo(r.row,n))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:c(null,null),exec:function(s){var i=s.session.doc.getLength()-1,r=s.session.doc.getLine(i).length,t=s.selection.rangeList.ranges,n=[];t.length<1&&(t=[s.selection.getRange()]);for(var l=0;l<t.length;l++)l==t.length-1&&(t[l].end.row===i&&t[l].end.column===r||n.push(new m(t[l].end.row,t[l].end.column,i,r))),l===0?t[l].start.row===0&&t[l].start.column===0||n.push(new m(0,0,t[l].start.row,t[l].start.column)):n.push(new m(t[l-1].end.row,t[l-1].end.column,t[l].start.row,t[l].start.column));s.exitMultiSelectMode(),s.clearSelection();for(var l=0;l<n.length;l++)s.selection.addRange(n[l],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(s){s.selection.clearSelection(),s.navigateLineEnd(),s.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(s){s.selection.clearSelection();var i=s.getCursorPosition();s.selection.moveTo(i.row-1,Number.MAX_VALUE),s.insert(`
`),i.row===0&&s.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(s){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),s.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:c("F1","F1"),exec:function(s){s.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:c(null,null),exec:function(s){s.prompt({$type:"modes"})},readOnly:!0}];for(var u=1;u<9;u++)a.commands.push({name:"foldToLevel"+u,description:"Fold To Level "+u,level:u,exec:function(s){s.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(e,a,p){var d=e("../lib/keys"),g=e("../mouse/default_gutter_handler").GutterTooltip,m=function(){function u(s){this.editor=s,this.gutterLayer=s.renderer.$gutterLayer,this.element=s.renderer.$gutter,this.lines=s.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new g(this.editor)}return u.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},u.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},u.prototype.$onGutterKeyDown=function(s){if(this.annotationTooltip.isOpen){s.preventDefault(),s.keyCode===d.escape&&this.annotationTooltip.hideTooltip();return}if(s.target===this.element){if(s.keyCode!=d.enter)return;s.preventDefault();var i=this.editor.getCursorPosition().row;this.editor.isRowVisible(i)||this.editor.scrollToLine(i,!0,!0),setTimeout((function(){var r=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(r),n=this.$findNearestAnnotation(r);if(!(t===null&&n===null)){if(t===null&&n!==null){this.activeRowIndex=n,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(t!==null&&n===null){this.activeRowIndex=t,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(n-r)<Math.abs(t-r)){this.activeRowIndex=n,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=t,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(s),setTimeout((function(){this.editor._signal("gutterkeydown",new c(s,this))}).bind(this),10)},u.prototype.$handleGutterKeyboardInteraction=function(s){if(s.keyCode===d.tab){s.preventDefault();return}if(s.keyCode===d.escape){s.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(s.keyCode===d.up){switch(s.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(s.keyCode===d.down){switch(s.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(s.keyCode===d.left){s.preventDefault(),this.$switchLane("annotation");return}if(s.keyCode===d.right){s.preventDefault(),this.$switchLane("fold");return}if(s.keyCode===d.enter||s.keyCode===d.space){switch(s.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var i=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),s),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==i&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(i),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var r=this.lines.cells[this.activeRowIndex].element.childNodes[2],t=r.getBoundingClientRect(),n=this.annotationTooltip.getElement().style;n.left=t.right+"px",n.top=t.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},u.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},u.prototype.$isFoldWidgetVisible=function(s){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(s)),r=this.$getFoldWidget(s).style.display!=="none";return i&&r},u.prototype.$isAnnotationVisible=function(s){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(s)),r=this.$getAnnotation(s).style.display!=="none";return i&&r},u.prototype.$getFoldWidget=function(s){var i=this.lines.get(s),r=i.element;return r.childNodes[1]},u.prototype.$getAnnotation=function(s){var i=this.lines.get(s),r=i.element;return r.childNodes[2]},u.prototype.$findNearestFoldWidget=function(s){if(this.$isFoldWidgetVisible(s))return s;for(var i=0;s-i>0||s+i<this.lines.getLength()-1;){if(i++,s-i>=0&&this.$isFoldWidgetVisible(s-i))return s-i;if(s+i<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(s+i))return s+i}return null},u.prototype.$findNearestAnnotation=function(s){if(this.$isAnnotationVisible(s))return s;for(var i=0;s-i>0||s+i<this.lines.getLength()-1;){if(i++,s-i>=0&&this.$isAnnotationVisible(s-i))return s-i;if(s+i<=this.lines.getLength()-1&&this.$isAnnotationVisible(s+i))return s+i}return null},u.prototype.$focusFoldWidget=function(s){if(s!=null){var i=this.$getFoldWidget(s);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},u.prototype.$focusAnnotation=function(s){if(s!=null){var i=this.$getAnnotation(s);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},u.prototype.$blurFoldWidget=function(s){var i=this.$getFoldWidget(s);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},u.prototype.$blurAnnotation=function(s){var i=this.$getAnnotation(s);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},u.prototype.$moveFoldWidgetUp=function(){for(var s=this.activeRowIndex;s>0;)if(s--,this.$isFoldWidgetVisible(s)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveFoldWidgetDown=function(){for(var s=this.activeRowIndex;s<this.lines.getLength()-1;)if(s++,this.$isFoldWidgetVisible(s)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveAnnotationUp=function(){for(var s=this.activeRowIndex;s>0;)if(s--,this.$isAnnotationVisible(s)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$moveAnnotationDown=function(){for(var s=this.activeRowIndex;s<this.lines.getLength()-1;)if(s++,this.$isAnnotationVisible(s)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$switchLane=function(s){switch(s){case"annotation":if(this.activeLane==="annotation")break;var i=this.$findNearestAnnotation(this.activeRowIndex);if(i==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=i,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var r=this.$findNearestFoldWidget(this.activeRowIndex);if(r==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=r,this.$focusFoldWidget(this.activeRowIndex);break}},u.prototype.$rowIndexToRow=function(s){var i=this.lines.get(s);return i?i.row:null},u.prototype.$rowToRowIndex=function(s){for(var i=0;i<this.lines.getLength();i++){var r=this.lines.get(i);if(r.row==s)return i}return null},u}();a.GutterKeyboardHandler=m;var c=function(){function u(s,i){this.gutterKeyboardHandler=i,this.domEvent=s}return u.prototype.getKey=function(){return d.keyCodeToString(this.domEvent.keyCode)},u.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},u.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},u.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},u}();a.GutterKeyboardEvent=c}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(e,a,p){var d=this&&this.__values||function(b){var x=typeof Symbol=="function"&&Symbol.iterator,M=x&&b[x],L=0;if(M)return M.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&L>=b.length&&(b=void 0),{value:b&&b[L++],done:!b}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")},g=e("./lib/oop"),m=e("./lib/dom"),c=e("./lib/lang"),u=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,i=e("./mouse/mouse_handler").MouseHandler,r=e("./mouse/fold_handler").FoldHandler,t=e("./keyboard/keybinding").KeyBinding,n=e("./edit_session").EditSession,l=e("./search").Search,h=e("./range").Range,v=e("./lib/event_emitter").EventEmitter,y=e("./commands/command_manager").CommandManager,C=e("./commands/default_commands").commands,$=e("./config"),S=e("./token_iterator").TokenIterator,w=e("./keyboard/gutter_handler").GutterKeyboardHandler,T=e("./config").nls,E=e("./clipboard"),_=e("./lib/keys"),k=e("./lib/event"),D=e("./tooltip").HoverTooltip,A=function(){function b(x,M,L){this.session,this.$toDestroy=[];var O=x.getContainerElement();this.container=O,this.renderer=x,this.id="editor"+ ++b.$uid,this.commands=new y(u.isMac?"mac":"win",C),typeof document=="object"&&(this.textInput=new s(x.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new i(this),new r(this)),this.keyBinding=new t(this),this.$search=new l().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=c.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(N,F){F._$emitInputEvent.schedule(31)}),this.setSession(M||L&&L.session||new n("")),$.resetOptions(this),L&&this.setOptions(L),$._signal("editor",this)}return b.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},b.prototype.startOperation=function(x){this.session.startOperation(x)},b.prototype.endOperation=function(x){this.session.endOperation(x)},b.prototype.onStartOperation=function(x){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,x||(this.previousCommand=null)},b.prototype.onEndOperation=function(x){if(this.curOp&&this.session){if(x&&x.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var M=this.curOp.command,L=M&&M.scrollIntoView;if(L){switch(L){case"center-animate":L="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var O=this.selection.getRange(),N=this.renderer.layerConfig;(O.start.row>=N.lastRow||O.end.row<=N.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}L=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},b.prototype.$historyTracker=function(x){if(this.$mergeUndoDeltas){var M=this.prevOp,L=this.$mergeableCommands,O=M.command&&x.command.name==M.command.name;if(x.command.name=="insertstring"){var N=x.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),O=O&&this.mergeNextCommand&&(!/\s/.test(N)||/\s/.test(M.args)),this.mergeNextCommand=!0}else O=O&&L.indexOf(x.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(O=!1),O?this.session.mergeUndoDeltas=!0:L.indexOf(x.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},b.prototype.setKeyboardHandler=function(x,M){if(x&&typeof x=="string"&&x!="ace"){this.$keybindingId=x;var L=this;$.loadModule(["keybinding",x],function(O){L.$keybindingId==x&&L.keyBinding.setKeyboardHandler(O&&O.handler),M&&M()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(x),M&&M()},b.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},b.prototype.setSession=function(x){if(this.session!=x){this.curOp&&this.endOperation(),this.curOp={};var M=this.session;if(M){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var L=this.session.getSelection();L.off("changeCursor",this.$onCursorChange),L.off("changeSelection",this.$onSelectionChange)}this.session=x,x?(this.$onDocumentChange=this.onDocumentChange.bind(this),x.on("change",this.$onDocumentChange),this.renderer.setSession(x),this.$onChangeMode=this.onChangeMode.bind(this),x.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),x.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),x.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),x.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),x.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),x.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=x.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(x)),this._signal("changeSession",{session:x,oldSession:M}),this.curOp=null,M&&M._signal("changeEditor",{oldEditor:this}),M&&(M.$editor=null),x&&x._signal("changeEditor",{editor:this}),x&&(x.$editor=this),x&&!x.destroyed&&x.bgTokenizer.scheduleStart()}},b.prototype.getSession=function(){return this.session},b.prototype.setValue=function(x,M){return this.session.doc.setValue(x),M?M==1?this.navigateFileEnd():M==-1&&this.navigateFileStart():this.selectAll(),x},b.prototype.getValue=function(){return this.session.getValue()},b.prototype.getSelection=function(){return this.selection},b.prototype.resize=function(x){this.renderer.onResize(x)},b.prototype.setTheme=function(x,M){this.renderer.setTheme(x,M)},b.prototype.getTheme=function(){return this.renderer.getTheme()},b.prototype.setStyle=function(x){this.renderer.setStyle(x)},b.prototype.unsetStyle=function(x){this.renderer.unsetStyle(x)},b.prototype.getFontSize=function(){return this.getOption("fontSize")||m.computedStyle(this.container).fontSize},b.prototype.setFontSize=function(x){this.setOption("fontSize",x)},b.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var x=this;this.$highlightPending=!0,setTimeout(function(){x.$highlightPending=!1;var M=x.session;if(!(!M||M.destroyed)){M.$bracketHighlight&&(M.$bracketHighlight.markerIds.forEach(function(H){M.removeMarker(H)}),M.$bracketHighlight=null);var L=x.getCursorPosition(),O=x.getKeyboardHandler(),N=O&&O.$getDirectionForHighlight&&O.$getDirectionForHighlight(x),F=M.getMatchingBracketRanges(L,N);if(!F){var j=new S(M,L.row,L.column),W=j.getCurrentToken();if(W&&/\b(?:tag-open|tag-name)/.test(W.type)){var P=M.getMatchingTags(L);P&&(F=[P.openTagName.isEmpty()?P.openTag:P.openTagName,P.closeTagName.isEmpty()?P.closeTag:P.closeTagName])}}if(!F&&M.$mode.getMatching&&(F=M.$mode.getMatching(x.session)),!F){x.getHighlightIndentGuides()&&x.renderer.$textLayer.$highlightIndentGuide();return}var z="ace_bracket";Array.isArray(F)?F.length==1&&(z="ace_error_bracket"):F=[F],F.length==2&&(h.comparePoints(F[0].end,F[1].start)==0?F=[h.fromPoints(F[0].start,F[1].end)]:h.comparePoints(F[0].start,F[1].end)==0&&(F=[h.fromPoints(F[1].start,F[0].end)])),M.$bracketHighlight={ranges:F,markerIds:F.map(function(H){return M.addMarker(H,z,"text")})},x.getHighlightIndentGuides()&&x.renderer.$textLayer.$highlightIndentGuide()}},50)}},b.prototype.focus=function(){this.textInput.focus()},b.prototype.isFocused=function(){return this.textInput.isFocused()},b.prototype.blur=function(){this.textInput.blur()},b.prototype.onFocus=function(x){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",x))},b.prototype.onBlur=function(x){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",x))},b.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},b.prototype.onDocumentChange=function(x){var M=this.session.$useWrapMode,L=x.start.row==x.end.row?x.end.row:1/0;this.renderer.updateLines(x.start.row,L,M),this._signal("change",x),this.$cursorChange()},b.prototype.onTokenizerUpdate=function(x){var M=x.data;this.renderer.updateLines(M.first,M.last)},b.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},b.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},b.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},b.prototype.$updateHighlightActiveLine=function(){var x=this.getSession(),M;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(M=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(M=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(M=!1)),x.$highlightLineMarker&&!M)x.removeMarker(x.$highlightLineMarker.id),x.$highlightLineMarker=null;else if(!x.$highlightLineMarker&&M){var L=new h(M.row,M.column,M.row,1/0);L.id=x.addMarker(L,"ace_active-line","screenLine"),x.$highlightLineMarker=L}else M&&(x.$highlightLineMarker.start.row=M.row,x.$highlightLineMarker.end.row=M.row,x.$highlightLineMarker.start.column=M.column,x._signal("changeBackMarker"))},b.prototype.onSelectionChange=function(x){var M=this.session;if(M.$selectionMarker&&M.removeMarker(M.$selectionMarker),M.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var L=this.selection.getRange(),O=this.getSelectionStyle();M.$selectionMarker=M.addMarker(L,"ace_selection",O)}var N=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(N),this._signal("changeSelection")},b.prototype.$getSelectionHighLightRegexp=function(){var x=this.session,M=this.getSelectionRange();if(!(M.isEmpty()||M.isMultiLine())){var L=M.start.column,O=M.end.column,N=x.getLine(M.start.row),F=N.substring(L,O);if(!(F.length>5e3||!/[\w\d]/.test(F))){var j=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:F}),W=N.substring(L-1,O+1);if(j.test(W))return j}}},b.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},b.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},b.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},b.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},b.prototype.onChangeMode=function(x){this.renderer.updateText(),this._emit("changeMode",x)},b.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},b.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},b.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},b.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},b.prototype.getCopyText=function(){var x=this.getSelectedText(),M=this.session.doc.getNewLineCharacter(),L=!1;if(!x&&this.$copyWithEmptySelection){L=!0;for(var O=this.selection.getAllRanges(),N=0;N<O.length;N++){var F=O[N];N&&O[N-1].start.row==F.start.row||(x+=this.session.getLine(F.start.row)+M)}}var j={text:x};return this._signal("copy",j),E.lineMode=L?j.text:!1,j.text},b.prototype.onCopy=function(){this.commands.exec("copy",this)},b.prototype.onCut=function(){this.commands.exec("cut",this)},b.prototype.onPaste=function(x,M){var L={text:x,event:M};this.commands.exec("paste",this,L)},b.prototype.$handlePaste=function(x){typeof x=="string"&&(x={text:x}),this._signal("paste",x);var M=x.text,L=M===E.lineMode,O=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)L?O.insert({row:this.selection.lead.row,column:0},M):this.insert(M);else if(L)this.selection.rangeList.ranges.forEach(function(z){O.insert({row:z.start.row,column:0},M)});else{var N=M.split(/\r\n|\r|\n/),F=this.selection.rangeList.ranges,j=N.length==2&&(!N[0]||!N[1]);if(N.length!=F.length||j)return this.commands.exec("insertstring",this,M);for(var W=F.length;W--;){var P=F[W];P.isEmpty()||O.remove(P),O.insert(P.start,N[W])}}},b.prototype.execCommand=function(x,M){return this.commands.exec(x,this,M)},b.prototype.insert=function(x,M){var L=this.session,O=L.getMode(),N=this.getCursorPosition();if(this.getBehavioursEnabled()&&!M){var F=O.transformAction(L.getState(N.row),"insertion",this,L,x);F&&(x!==F.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),x=F.text)}if(x=="	"&&(x=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&x.indexOf(`
`)==-1){var j=h.fromPoints(N,N);j.end.column+=x.length,this.session.remove(j)}}else{var j=this.getSelectionRange();N=this.session.remove(j),this.clearSelection()}if(x==`
`||x==`\r
`){var H=L.getLine(N.row);if(N.column>H.search(/\S|$/)){var W=H.substr(N.column).search(/\S|$/);L.doc.removeInLine(N.row,N.column,N.column+W)}}this.clearSelection();var P=N.column,z=L.getState(N.row),H=L.getLine(N.row),G=O.checkOutdent(z,H,x);if(L.insert(N,x),F&&F.selection&&(F.selection.length==2?this.selection.setSelectionRange(new h(N.row,P+F.selection[0],N.row,P+F.selection[1])):this.selection.setSelectionRange(new h(N.row+F.selection[0],F.selection[1],N.row+F.selection[2],F.selection[3]))),this.$enableAutoIndent){if(L.getDocument().isNewLine(x)){var V=O.getNextLineIndent(z,H.slice(0,N.column),L.getTabString());L.insert({row:N.row+1,column:0},V)}G&&O.autoOutdent(z,L,N.row)}},b.prototype.autoIndent=function(){for(var x=this.session,M=x.getMode(),L=this.selection.isEmpty()?[new h(0,0,x.doc.getLength()-1,0)]:this.selection.getAllRanges(),O="",N="",F="",j=x.getTabString(),W=0;W<L.length;W++)for(var P=L[W].start.row,z=L[W].end.row,H=P;H<=z;H++){H>0&&(O=x.getState(H-1),N=x.getLine(H-1),F=M.getNextLineIndent(O,N,j));var G=x.getLine(H),V=M.$getIndent(G);if(F!==V){if(V.length>0){var Y=new h(H,0,H,V.length);x.remove(Y)}F.length>0&&x.insert({row:H,column:0},F)}M.autoOutdent(O,x,H)}},b.prototype.onTextInput=function(x,M){if(!M)return this.keyBinding.onTextInput(x);this.startOperation({command:{name:"insertstring"}});var L=this.applyComposition.bind(this,x,M);this.selection.rangeCount?this.forEachSelection(L):L(),this.endOperation()},b.prototype.applyComposition=function(x,M){if(M.extendLeft||M.extendRight){var L=this.selection.getRange();L.start.column-=M.extendLeft,L.end.column+=M.extendRight,L.start.column<0&&(L.start.row--,L.start.column+=this.session.getLine(L.start.row).length+1),this.selection.setRange(L),!x&&!L.isEmpty()&&this.remove()}if((x||!this.selection.isEmpty())&&this.insert(x,!0),M.restoreStart||M.restoreEnd){var L=this.selection.getRange();L.start.column-=M.restoreStart,L.end.column-=M.restoreEnd,this.selection.setRange(L)}},b.prototype.onCommandKey=function(x,M,L){return this.keyBinding.onCommandKey(x,M,L)},b.prototype.setOverwrite=function(x){this.session.setOverwrite(x)},b.prototype.getOverwrite=function(){return this.session.getOverwrite()},b.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},b.prototype.setScrollSpeed=function(x){this.setOption("scrollSpeed",x)},b.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},b.prototype.setDragDelay=function(x){this.setOption("dragDelay",x)},b.prototype.getDragDelay=function(){return this.getOption("dragDelay")},b.prototype.setSelectionStyle=function(x){this.setOption("selectionStyle",x)},b.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},b.prototype.setHighlightActiveLine=function(x){this.setOption("highlightActiveLine",x)},b.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},b.prototype.setHighlightGutterLine=function(x){this.setOption("highlightGutterLine",x)},b.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},b.prototype.setHighlightSelectedWord=function(x){this.setOption("highlightSelectedWord",x)},b.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},b.prototype.setAnimatedScroll=function(x){this.renderer.setAnimatedScroll(x)},b.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},b.prototype.setShowInvisibles=function(x){this.renderer.setShowInvisibles(x)},b.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},b.prototype.setDisplayIndentGuides=function(x){this.renderer.setDisplayIndentGuides(x)},b.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},b.prototype.setHighlightIndentGuides=function(x){this.renderer.setHighlightIndentGuides(x)},b.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},b.prototype.setShowPrintMargin=function(x){this.renderer.setShowPrintMargin(x)},b.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},b.prototype.setPrintMarginColumn=function(x){this.renderer.setPrintMarginColumn(x)},b.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},b.prototype.setReadOnly=function(x){this.setOption("readOnly",x)},b.prototype.getReadOnly=function(){return this.getOption("readOnly")},b.prototype.setBehavioursEnabled=function(x){this.setOption("behavioursEnabled",x)},b.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},b.prototype.setWrapBehavioursEnabled=function(x){this.setOption("wrapBehavioursEnabled",x)},b.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},b.prototype.setShowFoldWidgets=function(x){this.setOption("showFoldWidgets",x)},b.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},b.prototype.setFadeFoldWidgets=function(x){this.setOption("fadeFoldWidgets",x)},b.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},b.prototype.remove=function(x){this.selection.isEmpty()&&(x=="left"?this.selection.selectLeft():this.selection.selectRight());var M=this.getSelectionRange();if(this.getBehavioursEnabled()){var L=this.session,O=L.getState(M.start.row),N=L.getMode().transformAction(O,"deletion",this,L,M);if(M.end.column===0){var F=L.getTextRange(M);if(F[F.length-1]==`
`){var j=L.getLine(M.end.row);/^\s+$/.test(j)&&(M.end.column=j.length)}}N&&(M=N)}this.session.remove(M),this.clearSelection()},b.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},b.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},b.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},b.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var x=this.getSelectionRange();x.start.column==x.end.column&&x.start.row==x.end.row&&(x.end.column=0,x.end.row++),this.session.remove(x),this.clearSelection()},b.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var x=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(x)},b.prototype.setGhostText=function(x,M){this.renderer.setGhostText(x,M)},b.prototype.removeGhostText=function(){this.renderer.removeGhostText()},b.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var x=this.getCursorPosition(),M=x.column;if(M!==0){var L=this.session.getLine(x.row),O,N;M<L.length?(O=L.charAt(M)+L.charAt(M-1),N=new h(x.row,M-1,x.row,M+1)):(O=L.charAt(M-1)+L.charAt(M-2),N=new h(x.row,M-2,x.row,M)),this.session.replace(N,O),this.session.selection.moveToPosition(N.end)}}},b.prototype.toLowerCase=function(){var x=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),L=this.session.getTextRange(M);this.session.replace(M,L.toLowerCase()),this.selection.setSelectionRange(x)},b.prototype.toUpperCase=function(){var x=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),L=this.session.getTextRange(M);this.session.replace(M,L.toUpperCase()),this.selection.setSelectionRange(x)},b.prototype.indent=function(){var x=this.session,M=this.getSelectionRange();if(M.start.row<M.end.row){var L=this.$getSelectedRows();x.indentRows(L.first,L.last,"	");return}else if(M.start.column<M.end.column){var O=x.getTextRange(M);if(!/^\s+$/.test(O)){var L=this.$getSelectedRows();x.indentRows(L.first,L.last,"	");return}}var N=x.getLine(M.start.row),F=M.start,j=x.getTabSize(),W=x.documentToScreenColumn(F.row,F.column);if(this.session.getUseSoftTabs())var P=j-W%j,z=c.stringRepeat(" ",P);else{for(var P=W%j;N[M.start.column-1]==" "&&P;)M.start.column--,P--;this.selection.setSelectionRange(M),z="	"}return this.insert(z)},b.prototype.blockIndent=function(){var x=this.$getSelectedRows();this.session.indentRows(x.first,x.last,"	")},b.prototype.blockOutdent=function(){var x=this.session.getSelection();this.session.outdentRows(x.getRange())},b.prototype.sortLines=function(){for(var x=this.$getSelectedRows(),M=this.session,L=[],O=x.first;O<=x.last;O++)L.push(M.getLine(O));L.sort(function(j,W){return j.toLowerCase()<W.toLowerCase()?-1:j.toLowerCase()>W.toLowerCase()?1:0});for(var N=new h(0,0,0,0),O=x.first;O<=x.last;O++){var F=M.getLine(O);N.start.row=O,N.end.row=O,N.end.column=F.length,M.replace(N,L[O-x.first])}},b.prototype.toggleCommentLines=function(){var x=this.session.getState(this.getCursorPosition().row),M=this.$getSelectedRows();this.session.getMode().toggleCommentLines(x,this.session,M.first,M.last)},b.prototype.toggleBlockComment=function(){var x=this.getCursorPosition(),M=this.session.getState(x.row),L=this.getSelectionRange();this.session.getMode().toggleBlockComment(M,this.session,L,x)},b.prototype.getNumberAt=function(x,M){var L=/[\-]?[0-9]+(?:\.[0-9]+)?/g;L.lastIndex=0;for(var O=this.session.getLine(x);L.lastIndex<M;){var N=L.exec(O);if(N.index<=M&&N.index+N[0].length>=M){var F={value:N[0],start:N.index,end:N.index+N[0].length};return F}}return null},b.prototype.modifyNumber=function(x){var M=this.selection.getCursor().row,L=this.selection.getCursor().column,O=new h(M,L-1,M,L),N=this.session.getTextRange(O);if(!isNaN(parseFloat(N))&&isFinite(N)){var F=this.getNumberAt(M,L);if(F){var j=F.value.indexOf(".")>=0?F.start+F.value.indexOf(".")+1:F.end,W=F.start+F.value.length-j,P=parseFloat(F.value);P*=Math.pow(10,W),j!==F.end&&L<j?x*=Math.pow(10,F.end-L-1):x*=Math.pow(10,F.end-L),P+=x,P/=Math.pow(10,W);var z=P.toFixed(W),H=new h(M,F.start,M,F.end);this.session.replace(H,z),this.moveCursorTo(M,Math.max(F.start+1,L+z.length-F.value.length))}}else this.toggleWord()},b.prototype.toggleWord=function(){var x=this.selection.getCursor().row,M=this.selection.getCursor().column;this.selection.selectWord();var L=this.getSelectedText(),O=this.selection.getWordRange().start.column,N=L.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),F=M-O-1;F<0&&(F=0);var j=0,W=0,P=this;L.match(/[A-Za-z0-9_]+/)&&N.forEach(function(ne,ce){W=j+ne.length,F>=j&&F<=W&&(L=ne,P.selection.clearSelection(),P.moveCursorTo(x,j+O),P.selection.selectTo(x,W+O)),j=W});for(var z=this.$toggleWordPairs,H,G=0;G<z.length;G++)for(var V=z[G],Y=0;Y<=1;Y++){var K=+!Y,q=L.match(new RegExp("^\\s?_?("+c.escapeRegExp(V[Y])+")\\s?$","i"));if(q){var J=L.match(new RegExp("([_]|^|\\s)("+c.escapeRegExp(q[1])+")($|\\s)","g"));J&&(H=L.replace(new RegExp(c.escapeRegExp(V[Y]),"i"),function(ne){var ce=V[K];return ne.toUpperCase()==ne?ce=ce.toUpperCase():ne.charAt(0).toUpperCase()==ne.charAt(0)&&(ce=ce.substr(0,0)+V[K].charAt(0).toUpperCase()+ce.substr(1)),ce}),this.insert(H),H="")}}},b.prototype.findLinkAt=function(x,M){var L,O,N=this.session.getLine(x),F=N.split(/((?:https?|ftp):\/\/[\S]+)/),j=M;j<0&&(j=0);var W=0,P=0,z;try{for(var H=d(F),G=H.next();!G.done;G=H.next()){var V=G.value;if(P=W+V.length,j>=W&&j<=P&&V.match(/((?:https?|ftp):\/\/[\S]+)/)){z=V.replace(/[\s:.,'";}\]]+$/,"");break}W=P}}catch(Y){L={error:Y}}finally{try{G&&!G.done&&(O=H.return)&&O.call(H)}finally{if(L)throw L.error}}return z},b.prototype.openLink=function(){var x=this.selection.getCursor(),M=this.findLinkAt(x.row,x.column);return M&&window.open(M,"_blank"),M!=null},b.prototype.removeLines=function(){var x=this.$getSelectedRows();this.session.removeFullLines(x.first,x.last),this.clearSelection()},b.prototype.duplicateSelection=function(){var x=this.selection,M=this.session,L=x.getRange(),O=x.isBackwards();if(L.isEmpty()){var N=L.start.row;M.duplicateLines(N,N)}else{var F=O?L.start:L.end,j=M.insert(F,M.getTextRange(L));L.start=F,L.end=j,x.setSelectionRange(L,O)}},b.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},b.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},b.prototype.moveText=function(x,M,L){return this.session.moveText(x,M,L)},b.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},b.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},b.prototype.$moveLines=function(x,M){var L,O,N=this.selection;if(!N.inMultiSelectMode||this.inVirtualSelectionMode){var F=N.toOrientedRange();L=this.$getSelectedRows(F),O=this.session.$moveLines(L.first,L.last,M?0:x),M&&x==-1&&(O=0),F.moveBy(O,0),N.fromOrientedRange(F)}else{var j=N.rangeList.ranges;N.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var W=0,P=0,z=j.length,H=0;H<z;H++){var G=H;j[H].moveBy(W,0),L=this.$getSelectedRows(j[H]);for(var V=L.first,Y=L.last;++H<z;){P&&j[H].moveBy(P,0);var K=this.$getSelectedRows(j[H]);if(M&&K.first!=Y)break;if(!M&&K.first>Y+1)break;Y=K.last}for(H--,W=this.session.$moveLines(V,Y,M?0:x),M&&x==-1&&(G=H+1);G<=H;)j[G].moveBy(W,0),G++;M||(W=0),P+=W}N.fromOrientedRange(N.ranges[0]),N.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},b.prototype.$getSelectedRows=function(x){return x=(x||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(x.start.row),last:this.session.getRowFoldEnd(x.end.row)}},b.prototype.onCompositionStart=function(x){this.renderer.showComposition(x)},b.prototype.onCompositionUpdate=function(x){this.renderer.setCompositionText(x)},b.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},b.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},b.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},b.prototype.isRowVisible=function(x){return x>=this.getFirstVisibleRow()&&x<=this.getLastVisibleRow()},b.prototype.isRowFullyVisible=function(x){return x>=this.renderer.getFirstFullyVisibleRow()&&x<=this.renderer.getLastFullyVisibleRow()},b.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},b.prototype.$moveByPage=function(x,M){var L=this.renderer,O=this.renderer.layerConfig,N=x*Math.floor(O.height/O.lineHeight);M===!0?this.selection.$moveSelection(function(){this.moveCursorBy(N,0)}):M===!1&&(this.selection.moveCursorBy(N,0),this.selection.clearSelection());var F=L.scrollTop;L.scrollBy(0,N*O.lineHeight),M!=null&&L.scrollCursorIntoView(null,.5),L.animateScrolling(F)},b.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},b.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},b.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},b.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},b.prototype.scrollPageDown=function(){this.$moveByPage(1)},b.prototype.scrollPageUp=function(){this.$moveByPage(-1)},b.prototype.scrollToRow=function(x){this.renderer.scrollToRow(x)},b.prototype.scrollToLine=function(x,M,L,O){this.renderer.scrollToLine(x,M,L,O)},b.prototype.centerSelection=function(){var x=this.getSelectionRange(),M={row:Math.floor(x.start.row+(x.end.row-x.start.row)/2),column:Math.floor(x.start.column+(x.end.column-x.start.column)/2)};this.renderer.alignCursor(M,.5)},b.prototype.getCursorPosition=function(){return this.selection.getCursor()},b.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},b.prototype.getSelectionRange=function(){return this.selection.getRange()},b.prototype.selectAll=function(){this.selection.selectAll()},b.prototype.clearSelection=function(){this.selection.clearSelection()},b.prototype.moveCursorTo=function(x,M){this.selection.moveCursorTo(x,M)},b.prototype.moveCursorToPosition=function(x){this.selection.moveCursorToPosition(x)},b.prototype.jumpToMatching=function(x,M){var L=this.getCursorPosition(),O=new S(this.session,L.row,L.column),N=O.getCurrentToken(),F=0;N&&N.type.indexOf("tag-name")!==-1&&(N=O.stepBackward());var j=N||O.stepForward();if(j){var W,P=!1,z={},H=L.column-j.start,G,V={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(j.value.match(/[{}()\[\]]/g)){for(;H<j.value.length&&!P;H++)if(V[j.value[H]])switch(G=V[j.value[H]]+"."+j.type.replace("rparen","lparen"),isNaN(z[G])&&(z[G]=0),j.value[H]){case"(":case"[":case"{":z[G]++;break;case")":case"]":case"}":z[G]--,z[G]===-1&&(W="bracket",P=!0);break}}else j.type.indexOf("tag-name")!==-1&&(isNaN(z[j.value])&&(z[j.value]=0),N.value==="<"&&F>1?z[j.value]++:N.value==="</"&&z[j.value]--,z[j.value]===-1&&(W="tag",P=!0));P||(N=j,F++,j=O.stepForward(),H=0)}while(j&&!P);if(W){var Y,K;if(W==="bracket")Y=this.session.getBracketRange(L),Y||(Y=new h(O.getCurrentTokenRow(),O.getCurrentTokenColumn()+H-1,O.getCurrentTokenRow(),O.getCurrentTokenColumn()+H-1),K=Y.start,(M||K.row===L.row&&Math.abs(K.column-L.column)<2)&&(Y=this.session.getBracketRange(K)));else if(W==="tag"){if(!j||j.type.indexOf("tag-name")===-1)return;if(Y=new h(O.getCurrentTokenRow(),O.getCurrentTokenColumn()-2,O.getCurrentTokenRow(),O.getCurrentTokenColumn()-2),Y.compare(L.row,L.column)===0){var q=this.session.getMatchingTags(L);q&&(q.openTag.contains(L.row,L.column)?(Y=q.closeTag,K=Y.start):(Y=q.openTag,q.closeTag.start.row===L.row&&q.closeTag.start.column===L.column?K=Y.end:K=Y.start))}K=K||Y.start}K=Y&&Y.cursor||K,K&&(x?Y&&M?this.selection.setRange(Y):Y&&Y.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(K.row,K.column):this.selection.moveTo(K.row,K.column))}}},b.prototype.gotoLine=function(x,M,L){this.selection.clearSelection(),this.session.unfold({row:x-1,column:M||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(x-1,M||0),this.isRowFullyVisible(x-1)||this.scrollToLine(x-1,!0,L)},b.prototype.navigateTo=function(x,M){this.selection.moveTo(x,M)},b.prototype.navigateUp=function(x){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(-x||-1,0)},b.prototype.navigateDown=function(x){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(x||1,0)},b.prototype.navigateLeft=function(x){if(this.selection.isEmpty())for(x=x||1;x--;)this.selection.moveCursorLeft();else{var M=this.getSelectionRange().start;this.moveCursorToPosition(M)}this.clearSelection()},b.prototype.navigateRight=function(x){if(this.selection.isEmpty())for(x=x||1;x--;)this.selection.moveCursorRight();else{var M=this.getSelectionRange().end;this.moveCursorToPosition(M)}this.clearSelection()},b.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},b.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},b.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},b.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},b.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},b.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},b.prototype.replace=function(x,M){M&&this.$search.set(M);var L=this.$search.find(this.session),O=0;return L&&(this.$tryReplace(L,x)&&(O=1),this.selection.setSelectionRange(L),this.renderer.scrollSelectionIntoView(L.start,L.end)),O},b.prototype.replaceAll=function(x,M){M&&this.$search.set(M);var L=this.$search.findAll(this.session),O=0;if(!L.length)return O;var N=this.getSelectionRange();this.selection.moveTo(0,0);for(var F=L.length-1;F>=0;--F)this.$tryReplace(L[F],x)&&O++;return this.selection.setSelectionRange(N),O},b.prototype.$tryReplace=function(x,M){var L=this.session.getTextRange(x);return M=this.$search.replace(L,M),M!==null?(x.end=this.session.replace(x,M),x):null},b.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},b.prototype.find=function(x,M,L){M||(M={}),typeof x=="string"||x instanceof RegExp?M.needle=x:typeof x=="object"&&g.mixin(M,x);var O=this.selection.getRange();M.needle==null&&(x=this.session.getTextRange(O)||this.$search.$options.needle,x||(O=this.session.getWordRange(O.start.row,O.start.column),x=this.session.getTextRange(O)),this.$search.set({needle:x})),this.$search.set(M),M.start||this.$search.set({start:O});var N=this.$search.find(this.session);if(M.preventScroll)return N;if(N)return this.revealRange(N,L),N;M.backwards?O.start=O.end:O.end=O.start,this.selection.setRange(O)},b.prototype.findNext=function(x,M){this.find({skipCurrent:!0,backwards:!1},x,M)},b.prototype.findPrevious=function(x,M){this.find(x,{skipCurrent:!0,backwards:!0},M)},b.prototype.revealRange=function(x,M){this.session.unfold(x),this.selection.setSelectionRange(x);var L=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(x.start,x.end,.5),M!==!1&&this.renderer.animateScrolling(L)},b.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},b.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},b.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(x){x.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},b.prototype.setAutoScrollEditorIntoView=function(x){if(x){var M,L=this,O=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var N=this.$scrollAnchor;N.style.cssText="position:absolute",this.container.insertBefore(N,this.container.firstChild);var F=this.on("changeSelection",function(){O=!0}),j=this.renderer.on("beforeRender",function(){O&&(M=L.renderer.container.getBoundingClientRect())}),W=this.renderer.on("afterRender",function(){if(O&&M&&(L.isFocused()||L.searchBox&&L.searchBox.isFocused())){var P=L.renderer,z=P.$cursorLayer.$pixelPos,H=P.layerConfig,G=z.top-H.offset;z.top>=0&&G+M.top<0?O=!0:z.top<H.height&&z.top+M.top+H.lineHeight>window.innerHeight?O=!1:O=null,O!=null&&(N.style.top=G+"px",N.style.left=z.left+"px",N.style.height=H.lineHeight+"px",N.scrollIntoView(O)),O=M=null}});this.setAutoScrollEditorIntoView=function(P){P||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",F),this.renderer.off("afterRender",W),this.renderer.off("beforeRender",j))}}},b.prototype.$resetCursorStyle=function(){var x=this.$cursorStyle||"ace",M=this.renderer.$cursorLayer;M&&(M.setSmoothBlinking(/smooth/.test(x)),M.isBlinking=!this.$readOnly&&x!="wide",m.setCssClass(M.element,"ace_slim-cursors",/slim/.test(x)))},b.prototype.prompt=function(x,M,L){var O=this;$.loadModule("ace/ext/prompt",function(N){N.prompt(O,x,M,L)})},b}();A.$uid=0,A.prototype.curOp=null,A.prototype.prevOp={},A.prototype.$mergeableCommands=["backspace","del","insertstring"],A.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],g.implement(A.prototype,v),$.defineOptions(A.prototype,"editor",{selectionStyle:{set:function(b){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:b})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(b){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(b){var x=this;this.textInput.setReadOnly(b),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(L){var O=!1;if(L&&L.type=="keydown"){if(O=L&&L.key&&L.key.length==1&&!L.ctrlKey&&!L.metaKey,!O)return}else L&&L.type!=="exec"&&(O=!0);if(O){x.hoverTooltip||(x.hoverTooltip=new D);var N=m.createElement("div");N.textContent=T("editor.tooltip.disable-editing","Editing is disabled"),x.hoverTooltip.isOpen||x.hoverTooltip.showForRange(x,x.getSelectionRange(),N)}else x.hoverTooltip&&x.hoverTooltip.isOpen&&x.hoverTooltip.hide()});var M=this.textInput.getElement();b?(k.addListener(M,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(k.removeListener(M,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(b){this.textInput.setCopyWithEmptySelection(b)},initialValue:!1},cursorStyle:{set:function(b){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(b){this.setAutoScrollEditorIntoView(b)}},keyboardHandler:{set:function(b){this.setKeyboardHandler(b)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(b){this.session.setValue(b)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(b){this.setSession(b)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(b){this.renderer.$gutterLayer.setShowLineNumbers(b),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),b&&this.$relativeLineNumbers?R.attach(this):R.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(b){this.$showLineNumbers&&b?R.attach(this):R.detach(this)}},placeholder:{set:function(b){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var x=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(x&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),m.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!x&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),m.addCssClass(this.container,"ace_hasPlaceholder");var M=m.createElement("div");M.className="ace_placeholder",M.textContent=this.$placeholder||"",this.renderer.placeholderNode=M,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!x&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(b){var x={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(O){O.blur(),O.renderer.scroller.focus()},readOnly:!0},M=function(O){if(O.target==this.renderer.scroller&&O.keyCode===_.enter){O.preventDefault();var N=this.getCursorPosition().row;this.isRowVisible(N)||this.scrollToLine(N,!0,!0),this.focus()}},L;b?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(u.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",T("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",T("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",M.bind(this)),this.commands.addCommand(x),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",T("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",T("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),L||(L=new w(this)),L.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",M.bind(this)),this.commands.removeCommand(x),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),L&&L.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(b){this.$textInputAriaLabel=b},initialValue:""},enableMobileMenu:{set:function(b){this.$enableMobileMenu=b},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var R={getText:function(b,x){return(Math.abs(b.selection.lead.row-x)||x+1+(x<9?"·":""))+""},getWidth:function(b,x,M){return Math.max(x.toString().length,(M.lastRow+1).toString().length,2)*M.characterWidth},update:function(b,x){x.renderer.$loop.schedule(x.renderer.CHANGE_GUTTER)},attach:function(b){b.renderer.$gutterLayer.$renderer=this,b.on("changeSelection",this.update),this.update(null,b)},detach:function(b){b.renderer.$gutterLayer.$renderer==this&&(b.renderer.$gutterLayer.$renderer=null),b.off("changeSelection",this.update),this.update(null,b)}};a.Editor=A}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,a,p){var d=e("../lib/dom"),g=function(){function m(c,u){this.element=c,this.canvasHeight=u||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return m.prototype.moveContainer=function(c){d.translate(this.element,0,-(c.firstRowScreen*c.lineHeight%this.canvasHeight)-c.offset*this.$offsetCoefficient)},m.prototype.pageChanged=function(c,u){return Math.floor(c.firstRowScreen*c.lineHeight/this.canvasHeight)!==Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)},m.prototype.computeLineTop=function(c,u,s){var i=u.firstRowScreen*u.lineHeight,r=Math.floor(i/this.canvasHeight),t=s.documentToScreenRow(c,0)*u.lineHeight;return t-r*this.canvasHeight},m.prototype.computeLineHeight=function(c,u,s){return u.lineHeight*s.getRowLineCount(c)},m.prototype.getLength=function(){return this.cells.length},m.prototype.get=function(c){return this.cells[c]},m.prototype.shift=function(){this.$cacheCell(this.cells.shift())},m.prototype.pop=function(){this.$cacheCell(this.cells.pop())},m.prototype.push=function(c){if(Array.isArray(c)){this.cells.push.apply(this.cells,c);for(var u=d.createFragment(this.element),s=0;s<c.length;s++)u.appendChild(c[s].element);this.element.appendChild(u)}else this.cells.push(c),this.element.appendChild(c.element)},m.prototype.unshift=function(c){if(Array.isArray(c)){this.cells.unshift.apply(this.cells,c);for(var u=d.createFragment(this.element),s=0;s<c.length;s++)u.appendChild(c[s].element);this.element.firstChild?this.element.insertBefore(u,this.element.firstChild):this.element.appendChild(u)}else this.cells.unshift(c),this.element.insertAdjacentElement("afterbegin",c.element)},m.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},m.prototype.$cacheCell=function(c){c&&(c.element.remove(),this.cellCache.push(c))},m.prototype.createCell=function(c,u,s,i){var r=this.cellCache.pop();if(!r){var t=d.createElement("div");i&&i(t),this.element.appendChild(t),r={element:t,text:"",row:c}}return r.row=c,r},m}();a.Lines=g}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(e,a,p){var d=e("../lib/dom"),g=e("../lib/oop"),m=e("../lib/lang"),c=e("../lib/event_emitter").EventEmitter,u=e("./lines").Lines,s=e("../config").nls,i=function(){function t(n){this.element=d.createElement("div"),this.element.className="ace_layer ace_gutter-layer",n.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}return t.prototype.setSession=function(n){this.session&&this.session.off("change",this.$updateAnnotations),this.session=n,n&&n.on("change",this.$updateAnnotations)},t.prototype.addGutterDecoration=function(n,l){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(n,l)},t.prototype.removeGutterDecoration=function(n,l){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(n,l)},t.prototype.setAnnotations=function(n){this.$annotations=[];for(var l=0;l<n.length;l++){var h=n[l],v=h.row,y=this.$annotations[v];y||(y=this.$annotations[v]={text:[],type:[],displayText:[]});var C=h.text,$=h.text,S=h.type;C=C?m.escapeHTML(C):h.html||"",$=$||h.html||"",y.text.indexOf(C)===-1&&(y.text.push(C),y.type.push(S),y.displayText.push($));var w=h.className;w?y.className=w:S==="error"?y.className=" ace_error":S==="security"&&!/\bace_error\b/.test(y.className)?y.className=" ace_security":S==="warning"&&!/\bace_(error|security)\b/.test(y.className)?y.className=" ace_warning":S==="info"&&!y.className?y.className=" ace_info":S==="hint"&&!y.className&&(y.className=" ace_hint")}},t.prototype.$updateAnnotations=function(n){if(this.$annotations.length){var l=n.start.row,h=n.end.row-l;if(h!==0)if(n.action=="remove")this.$annotations.splice(l,h+1,null);else{var v=new Array(h+1);v.unshift(l,1),this.$annotations.splice.apply(this.$annotations,v)}}},t.prototype.update=function(n){this.config=n;var l=this.session,h=n.firstRow,v=Math.min(n.lastRow+n.gutterOffset,l.getLength()-1);this.oldLastRow=v,this.config=n,this.$lines.moveContainer(n),this.$updateCursorRow();for(var y=l.getNextFoldLine(h),C=y?y.start.row:1/0,$=null,S=-1,w=h;;){if(w>C&&(w=y.end.row+1,y=l.getNextFoldLine(w,y),C=y?y.start.row:1/0),w>v){for(;this.$lines.getLength()>S+1;)this.$lines.pop();break}$=this.$lines.get(++S),$?$.row=w:($=this.$lines.createCell(w,n,this.session,r),this.$lines.push($)),this.$renderCell($,n,y,w),w++}this._signal("afterRender"),this.$updateGutterWidth(n)},t.prototype.$updateGutterWidth=function(n){var l=this.session,h=l.gutterRenderer||this.$renderer,v=l.$firstLineNumber,y=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||l.$useWrapMode)&&(y=l.getLength()+v-1);var C=h?h.getWidth(l,y,n):y.toString().length*n.characterWidth,$=this.$padding||this.$computePadding();C+=$.left+$.right,C!==this.gutterWidth&&!isNaN(C)&&(this.gutterWidth=C,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",C))},t.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var n=this.session.selection.getCursor();this.$cursorRow!==n.row&&(this.$cursorRow=n.row)}},t.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var n=this.session.selection.cursor.row;if(this.$cursorRow=n,!(this.$cursorCell&&this.$cursorCell.row==n)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var l=this.$lines.cells;this.$cursorCell=null;for(var h=0;h<l.length;h++){var v=l[h];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var y=this.session.getFoldLine(this.$cursorRow);if(h>0&&y&&y.start.row==l[h-1].row)v=l[h-1];else break}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},t.prototype.scrollLines=function(n){var l=this.config;if(this.config=n,this.$updateCursorRow(),this.$lines.pageChanged(l,n))return this.update(n);this.$lines.moveContainer(n);var h=Math.min(n.lastRow+n.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=h,!l||v<n.firstRow)return this.update(n);if(h<l.firstRow)return this.update(n);if(l.firstRow<n.firstRow)for(var y=this.session.getFoldedRowCount(l.firstRow,n.firstRow-1);y>0;y--)this.$lines.shift();if(v>h)for(var y=this.session.getFoldedRowCount(h+1,v);y>0;y--)this.$lines.pop();n.firstRow<l.firstRow&&this.$lines.unshift(this.$renderLines(n,n.firstRow,l.firstRow-1)),h>v&&this.$lines.push(this.$renderLines(n,v+1,h)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(n)},t.prototype.$renderLines=function(n,l,h){for(var v=[],y=l,C=this.session.getNextFoldLine(y),$=C?C.start.row:1/0;y>$&&(y=C.end.row+1,C=this.session.getNextFoldLine(y,C),$=C?C.start.row:1/0),!(y>h);){var S=this.$lines.createCell(y,n,this.session,r);this.$renderCell(S,n,C,y),v.push(S),y++}return v},t.prototype.$renderCell=function(n,l,h,v){var y=n.element,C=this.session,$=y.childNodes[0],S=y.childNodes[1],w=y.childNodes[2],T=w.firstChild,E=C.$firstLineNumber,_=C.$breakpoints,k=C.$decorations,D=C.gutterRenderer||this.$renderer,A=this.$showFoldWidgets&&C.foldWidgets,R=h?h.start.row:Number.MAX_VALUE,b=l.lineHeight+"px",x=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",M=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",L=(D?D.getText(C,v):v+E).toString();if(this.$highlightGutterLine&&(v==this.$cursorRow||h&&v<this.$cursorRow&&v>=R&&this.$cursorRow<=h.end.row)&&(x+="ace_gutter-active-line ",this.$cursorCell!=n&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=n)),_[v]&&(x+=_[v]),k[v]&&(x+=k[v]),this.$annotations[v]&&v!==R&&(x+=this.$annotations[v].className),A){var O=A[v];O==null&&(O=A[v]=C.getFoldWidget(v))}if(O){var N="ace_fold-widget ace_"+O,F=O=="start"&&v==R&&v<h.end.row;if(F){N+=" ace_closed";for(var j="",W=!1,P=v+1;P<=h.end.row;P++)if(this.$annotations[P]){if(this.$annotations[P].className===" ace_error"){W=!0,j=" ace_error_fold";break}this.$annotations[P].className===" ace_security"?(W=!0,j=" ace_security_fold"):this.$annotations[P].className===" ace_warning"&&j!==" ace_security_fold"&&(W=!0,j=" ace_warning_fold")}x+=j}else N+=" ace_open";S.className!=N&&(S.className=N),d.setStyle(S.style,"height",b),d.setStyle(S.style,"display","inline-block"),S.setAttribute("role","button"),S.setAttribute("tabindex","-1");var z=C.getFoldWidgetRange(v);z?S.setAttribute("aria-label",s("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[z.start.row+1,z.end.row+1])):h?S.setAttribute("aria-label",s("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[h.start.row+1,h.end.row+1])):S.setAttribute("aria-label",s("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[v+1])),F?(S.setAttribute("aria-expanded","false"),S.setAttribute("title",s("gutter.code-folding.closed.title","Unfold code"))):(S.setAttribute("aria-expanded","true"),S.setAttribute("title",s("gutter.code-folding.open.title","Fold code")))}else S&&(d.setStyle(S.style,"display","none"),S.setAttribute("tabindex","0"),S.removeAttribute("role"),S.removeAttribute("aria-label"));if(W&&this.$showFoldedAnnotations){w.className="ace_gutter_annotation",T.className=M,T.className+=j,d.setStyle(T.style,"height",b),d.setStyle(w.style,"display","block"),d.setStyle(w.style,"height",b);var H;switch(j){case" ace_error_fold":H=s("gutter.annotation.aria-label.error","Error, read annotations row $0",[L]);break;case" ace_security_fold":H=s("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[L]);break;case" ace_warning_fold":H=s("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[L]);break}w.setAttribute("aria-label",H),w.setAttribute("tabindex","-1"),w.setAttribute("role","button")}else if(this.$annotations[v]){w.className="ace_gutter_annotation",T.className=M,this.$useSvgGutterIcons?T.className+=this.$annotations[v].className:y.classList.add(this.$annotations[v].className.replace(" ","")),d.setStyle(T.style,"height",b),d.setStyle(w.style,"display","block"),d.setStyle(w.style,"height",b);var H;switch(this.$annotations[v].className){case" ace_error":H=s("gutter.annotation.aria-label.error","Error, read annotations row $0",[L]);break;case" ace_security":H=s("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[L]);break;case" ace_warning":H=s("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[L]);break;case" ace_info":H=s("gutter.annotation.aria-label.info","Info, read annotations row $0",[L]);break;case" ace_hint":H=s("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[L]);break}w.setAttribute("aria-label",H),w.setAttribute("tabindex","-1"),w.setAttribute("role","button")}else d.setStyle(w.style,"display","none"),w.removeAttribute("aria-label"),w.removeAttribute("role"),w.setAttribute("tabindex","0");return L!==$.data&&($.data=L),y.className!=x&&(y.className=x),d.setStyle(n.element.style,"height",this.$lines.computeLineHeight(v,l,C)+"px"),d.setStyle(n.element.style,"top",this.$lines.computeLineTop(v,l,C)+"px"),n.text=L,w.style.display==="none"&&S.style.display==="none"?n.element.setAttribute("aria-hidden",!0):n.element.setAttribute("aria-hidden",!1),n},t.prototype.setHighlightGutterLine=function(n){this.$highlightGutterLine=n},t.prototype.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return 0},getText:function(){return""}}},t.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},t.prototype.setShowFoldWidgets=function(n){n?d.addCssClass(this.element,"ace_folding-enabled"):d.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=n,this.$padding=null},t.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},t.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=d.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(n.borderLeftWidth)||0)+(parseInt(n.paddingLeft)||0)+1,this.$padding.right=(parseInt(n.borderRightWidth)||0)+(parseInt(n.paddingRight)||0),this.$padding},t.prototype.getRegion=function(n){var l=this.$padding||this.$computePadding(),h=this.element.getBoundingClientRect();if(n.x<l.left+h.left)return"markers";if(this.$showFoldWidgets&&n.x>h.right-l.right)return"foldWidgets"},t}();i.prototype.$fixedWidth=!1,i.prototype.$highlightGutterLine=!0,i.prototype.$renderer="",i.prototype.$showLineNumbers=!0,i.prototype.$showFoldWidgets=!0,g.implement(i.prototype,c);function r(t){var n=document.createTextNode("");t.appendChild(n);var l=d.createElement("span");t.appendChild(l);var h=d.createElement("span");t.appendChild(h);var v=d.createElement("span");return h.appendChild(v),t}a.Gutter=i}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,a,p){var d=e("../range").Range,g=e("../lib/dom"),m=function(){function u(s){this.element=g.createElement("div"),this.element.className="ace_layer ace_marker-layer",s.appendChild(this.element)}return u.prototype.setPadding=function(s){this.$padding=s},u.prototype.setSession=function(s){this.session=s},u.prototype.setMarkers=function(s){this.markers=s},u.prototype.elt=function(s,i){var r=this.i!=-1&&this.element.childNodes[this.i];r?this.i++:(r=document.createElement("div"),this.element.appendChild(r),this.i=-1),r.style.cssText=i,r.className=s},u.prototype.update=function(s){if(s){this.config=s,this.i=0;var i;for(var r in this.markers){var t=this.markers[r];if(!t.range){t.update(i,this,this.session,s);continue}var n=t.range.clipRows(s.firstRow,s.lastRow);if(!n.isEmpty())if(n=n.toScreenRange(this.session),t.renderer){var l=this.$getTop(n.start.row,s),h=this.$padding+n.start.column*s.characterWidth;t.renderer(i,n,h,l,s)}else t.type=="fullLine"?this.drawFullLineMarker(i,n,t.clazz,s):t.type=="screenLine"?this.drawScreenLineMarker(i,n,t.clazz,s):n.isMultiLine()?t.type=="text"?this.drawTextMarker(i,n,t.clazz,s):this.drawMultiLineMarker(i,n,t.clazz,s):this.drawSingleLineMarker(i,n,t.clazz+" ace_start ace_br15",s)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},u.prototype.$getTop=function(s,i){return(s-i.firstRowScreen)*i.lineHeight},u.prototype.drawTextMarker=function(s,i,r,t,n){for(var l=this.session,h=i.start.row,v=i.end.row,y=h,C=0,$=0,S=l.getScreenLastRowColumn(y),w=new d(y,i.start.column,y,$);y<=v;y++)w.start.row=w.end.row=y,w.start.column=y==h?i.start.column:l.getRowWrapIndent(y),w.end.column=S,C=$,$=S,S=y+1<v?l.getScreenLastRowColumn(y+1):y==v?0:i.end.column,this.drawSingleLineMarker(s,w,r+(y==h?" ace_start":"")+" ace_br"+c(y==h||y==h+1&&i.start.column,C<$,$>S,y==v),t,y==v?0:1,n)},u.prototype.drawMultiLineMarker=function(s,i,r,t,n){var l=this.$padding,h=t.lineHeight,v=this.$getTop(i.start.row,t),y=l+i.start.column*t.characterWidth;if(n=n||"",this.session.$bidiHandler.isBidiRow(i.start.row)){var C=i.clone();C.end.row=C.start.row,C.end.column=this.session.getLine(C.start.row).length,this.drawBidiSingleLineMarker(s,C,r+" ace_br1 ace_start",t,null,n)}else this.elt(r+" ace_br1 ace_start","height:"+h+"px;right:"+l+"px;top:"+v+"px;left:"+y+"px;"+(n||""));if(this.session.$bidiHandler.isBidiRow(i.end.row)){var C=i.clone();C.start.row=C.end.row,C.start.column=0,this.drawBidiSingleLineMarker(s,C,r+" ace_br12",t,null,n)}else{v=this.$getTop(i.end.row,t);var $=i.end.column*t.characterWidth;this.elt(r+" ace_br12","height:"+h+"px;width:"+$+"px;top:"+v+"px;left:"+l+"px;"+(n||""))}if(h=(i.end.row-i.start.row-1)*t.lineHeight,!(h<=0)){v=this.$getTop(i.start.row+1,t);var S=(i.start.column?1:0)|(i.end.column?0:8);this.elt(r+(S?" ace_br"+S:""),"height:"+h+"px;right:"+l+"px;top:"+v+"px;left:"+l+"px;"+(n||""))}},u.prototype.drawSingleLineMarker=function(s,i,r,t,n,l){if(this.session.$bidiHandler.isBidiRow(i.start.row))return this.drawBidiSingleLineMarker(s,i,r,t,n,l);var h=t.lineHeight,v=(i.end.column+(n||0)-i.start.column)*t.characterWidth,y=this.$getTop(i.start.row,t),C=this.$padding+i.start.column*t.characterWidth;this.elt(r,"height:"+h+"px;width:"+v+"px;top:"+y+"px;left:"+C+"px;"+(l||""))},u.prototype.drawBidiSingleLineMarker=function(s,i,r,t,n,l){var h=t.lineHeight,v=this.$getTop(i.start.row,t),y=this.$padding,C=this.session.$bidiHandler.getSelections(i.start.column,i.end.column);C.forEach(function($){this.elt(r,"height:"+h+"px;width:"+($.width+(n||0))+"px;top:"+v+"px;left:"+(y+$.left)+"px;"+(l||""))},this)},u.prototype.drawFullLineMarker=function(s,i,r,t,n){var l=this.$getTop(i.start.row,t),h=t.lineHeight;i.start.row!=i.end.row&&(h+=this.$getTop(i.end.row,t)-l),this.elt(r,"height:"+h+"px;top:"+l+"px;left:0;right:0;"+(n||""))},u.prototype.drawScreenLineMarker=function(s,i,r,t,n){var l=this.$getTop(i.start.row,t),h=t.lineHeight;this.elt(r,"height:"+h+"px;top:"+l+"px;left:0;right:0;"+(n||""))},u}();m.prototype.$padding=0;function c(u,s,i,r){return(u?1:0)|(s?2:0)|(i?4:0)|(r?8:0)}a.Marker=m}),ace.define("ace/layer/text_util",["require","exports","module"],function(e,a,p){var d=new Set(["text","rparen","lparen"]);a.isTextToken=function(g){return d.has(g)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(e,a,p){var d=e("../lib/oop"),g=e("../lib/dom"),m=e("../lib/lang"),c=e("./lines").Lines,u=e("../lib/event_emitter").EventEmitter,s=e("../config").nls,i=e("./text_util").isTextToken,r=function(){function t(n){this.dom=g,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",n.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new c(this.element)}return t.prototype.$updateEolChar=function(){var n=this.session.doc,l=n.getNewLineCharacter()==`
`&&n.getNewLineMode()!="windows",h=l?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=h)return this.EOL_CHAR=h,!0},t.prototype.setPadding=function(n){this.$padding=n,this.element.style.margin="0 "+n+"px"},t.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},t.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},t.prototype.$setFontMetrics=function(n){this.$fontMetrics=n,this.$fontMetrics.on("changeCharacterSize",(function(l){this._signal("changeCharacterSize",l)}).bind(this)),this.$pollSizeChanges()},t.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},t.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},t.prototype.setSession=function(n){this.session=n,n&&this.$computeTabString()},t.prototype.setShowInvisibles=function(n){return this.showInvisibles==n?!1:(this.showInvisibles=n,typeof n=="string"?(this.showSpaces=/tab/i.test(n),this.showTabs=/space/i.test(n),this.showEOL=/eol/i.test(n)):this.showSpaces=this.showTabs=this.showEOL=n,this.$computeTabString(),!0)},t.prototype.setDisplayIndentGuides=function(n){return this.displayIndentGuides==n?!1:(this.displayIndentGuides=n,this.$computeTabString(),!0)},t.prototype.setHighlightIndentGuides=function(n){return this.$highlightIndentGuides===n?!1:(this.$highlightIndentGuides=n,n)},t.prototype.$computeTabString=function(){var n=this.session.getTabSize();this.tabSize=n;for(var l=this.$tabStrings=[0],h=1;h<n+1;h++)if(this.showTabs){var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_tab",v.textContent=m.stringRepeat(this.TAB_CHAR,h),l.push(v)}else l.push(this.dom.createTextNode(m.stringRepeat(" ",h),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var y="ace_indent-guide",C=this.showSpaces?" ace_invisible ace_invisible_space":"",$=this.showSpaces?m.stringRepeat(this.SPACE_CHAR,this.tabSize):m.stringRepeat(" ",this.tabSize),S=this.showTabs?" ace_invisible ace_invisible_tab":"",w=this.showTabs?m.stringRepeat(this.TAB_CHAR,this.tabSize):$,v=this.dom.createElement("span");v.className=y+C,v.textContent=$,this.$tabStrings[" "]=v;var v=this.dom.createElement("span");v.className=y+S,v.textContent=w,this.$tabStrings["	"]=v}},t.prototype.updateLines=function(n,l,h){if(this.config.lastRow!=n.lastRow||this.config.firstRow!=n.firstRow)return this.update(n);this.config=n;for(var v=Math.max(l,n.firstRow),y=Math.min(h,n.lastRow),C=this.element.childNodes,$=0,w=n.firstRow;w<v;w++){var T=this.session.getFoldLine(w);if(T)if(T.containsRow(v)){v=T.start.row;break}else w=T.end.row;$++}for(var S=!1,w=v,T=this.session.getNextFoldLine(w),E=T?T.start.row:1/0;w>E&&(w=T.end.row+1,T=this.session.getNextFoldLine(w,T),E=T?T.start.row:1/0),!(w>y);){var _=C[$++];if(_){this.dom.removeChildren(_),this.$renderLine(_,w,w==E?T:!1),S&&(_.style.top=this.$lines.computeLineTop(w,n,this.session)+"px");var k=n.lineHeight*this.session.getRowLength(w)+"px";_.style.height!=k&&(S=!0,_.style.height=k)}w++}if(S)for(;$<this.$lines.cells.length;){var D=this.$lines.cells[$++];D.element.style.top=this.$lines.computeLineTop(D.row,n,this.session)+"px"}},t.prototype.scrollLines=function(n){var l=this.config;if(this.config=n,this.$lines.pageChanged(l,n))return this.update(n);this.$lines.moveContainer(n);var h=n.lastRow,v=l?l.lastRow:-1;if(!l||v<n.firstRow)return this.update(n);if(h<l.firstRow)return this.update(n);if(!l||l.lastRow<n.firstRow)return this.update(n);if(n.lastRow<l.firstRow)return this.update(n);if(l.firstRow<n.firstRow)for(var y=this.session.getFoldedRowCount(l.firstRow,n.firstRow-1);y>0;y--)this.$lines.shift();if(l.lastRow>n.lastRow)for(var y=this.session.getFoldedRowCount(n.lastRow+1,l.lastRow);y>0;y--)this.$lines.pop();n.firstRow<l.firstRow&&this.$lines.unshift(this.$renderLinesFragment(n,n.firstRow,l.firstRow-1)),n.lastRow>l.lastRow&&this.$lines.push(this.$renderLinesFragment(n,l.lastRow+1,n.lastRow)),this.$highlightIndentGuide()},t.prototype.$renderLinesFragment=function(n,l,h){for(var v=[],y=l,C=this.session.getNextFoldLine(y),$=C?C.start.row:1/0;y>$&&(y=C.end.row+1,C=this.session.getNextFoldLine(y,C),$=C?C.start.row:1/0),!(y>h);){var S=this.$lines.createCell(y,n,this.session),w=S.element;this.dom.removeChildren(w),g.setStyle(w.style,"height",this.$lines.computeLineHeight(y,n,this.session)+"px"),g.setStyle(w.style,"top",this.$lines.computeLineTop(y,n,this.session)+"px"),this.$renderLine(w,y,y==$?C:!1),this.$useLineGroups()?w.className="ace_line_group":w.className="ace_line",v.push(S),y++}return v},t.prototype.update=function(n){this.$lines.moveContainer(n),this.config=n;for(var l=n.firstRow,h=n.lastRow,v=this.$lines;v.getLength();)v.pop();v.push(this.$renderLinesFragment(n,l,h))},t.prototype.$renderToken=function(n,l,h,v){for(var y=this,C=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,$=this.dom.createFragment(this.element),S,w=0;S=C.exec(v);){var T=S[1],E=S[2],_=S[3],k=S[4],D=S[5];if(!(!y.showSpaces&&E)){var A=w!=S.index?v.slice(w,S.index):"";if(w=S.index+S[0].length,A&&$.appendChild(this.dom.createTextNode(A,this.element)),T){var R=y.session.getScreenTabSize(l+S.index);$.appendChild(y.$tabStrings[R].cloneNode(!0)),l+=R-1}else if(E)if(y.showSpaces){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_space",b.textContent=m.stringRepeat(y.SPACE_CHAR,E.length),$.appendChild(b)}else $.appendChild(this.dom.createTextNode(E,this.element));else if(_){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_space ace_invalid",b.textContent=m.stringRepeat(y.SPACE_CHAR,_.length),$.appendChild(b)}else if(k){l+=1;var b=this.dom.createElement("span");b.style.width=y.config.characterWidth*2+"px",b.className=y.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=y.showSpaces?y.SPACE_CHAR:k,$.appendChild(b)}else if(D){l+=1;var b=this.dom.createElement("span");b.style.width=y.config.characterWidth*2+"px",b.className="ace_cjk",b.textContent=D,$.appendChild(b)}}}if($.appendChild(this.dom.createTextNode(w?v.slice(w):v,this.element)),i(h.type))n.appendChild($);else{var x="ace_"+h.type.replace(/\./g," ace_"),b=this.dom.createElement("span");h.type=="fold"&&(b.style.width=h.value.length*this.config.characterWidth+"px",b.setAttribute("title",s("inline-fold.closed.title","Unfold code"))),b.className=x,b.appendChild($),n.appendChild(b)}return l+v.length},t.prototype.renderIndentGuide=function(n,l,h){var v=l.search(this.$indentGuideRe);if(v<=0||v>=h)return l;if(l[0]==" "){v-=v%this.tabSize;for(var y=v/this.tabSize,C=0;C<y;C++)n.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),l.substr(v)}else if(l[0]=="	"){for(var C=0;C<v;C++)n.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),l.substr(v)}return this.$highlightIndentGuide(),l},t.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var n=this.session.doc.$lines;if(n){var l=this.session.selection.getCursor(),h=/^\s*/.exec(this.session.doc.getLine(l.row))[0].length,v=Math.floor(h/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:v,start:l.row};var y=this.session.$bracketHighlight;if(y){for(var C=this.session.$bracketHighlight.ranges,$=0;$<C.length;$++)if(l.row!==C[$].start.row){this.$highlightIndentGuideMarker.end=C[$].start.row+1,l.row>C[$].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&n[l.row]!==""&&l.column===n[l.row].length){this.$highlightIndentGuideMarker.dir=1;for(var $=l.row+1;$<n.length;$++){var S=n[$],w=/^\s*/.exec(S)[0].length;if(S!==""&&(this.$highlightIndentGuideMarker.end=$,w<=h))break}}this.$renderHighlightIndentGuide()}}},t.prototype.$clearActiveIndentGuide=function(){for(var n=this.element.querySelectorAll(".ace_indent-guide-active"),l=0;l<n.length;l++)n[l].classList.remove("ace_indent-guide-active")},t.prototype.$setIndentGuideActive=function(n,l){var h=this.session.doc.getLine(n.row);if(h!==""){var v=n.element;if(n.element.classList&&n.element.classList.contains("ace_line_group"))if(n.element.childNodes.length>0)v=n.element.childNodes[0];else return;var y=v.childNodes;if(y){var C=y[l-1];C&&C.classList&&C.classList.contains("ace_indent-guide")&&C.classList.add("ace_indent-guide-active")}}},t.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var n=this.$lines.cells;this.$clearActiveIndentGuide();var l=this.$highlightIndentGuideMarker.indentLevel;if(l!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var h=0;h<n.length;h++){var v=n[h];if(this.$highlightIndentGuideMarker.end&&v.row>=this.$highlightIndentGuideMarker.start+1){if(v.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,l)}}else for(var h=n.length-1;h>=0;h--){var v=n[h];if(this.$highlightIndentGuideMarker.end&&v.row<this.$highlightIndentGuideMarker.start){if(v.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,l)}}}},t.prototype.$createLineElement=function(n){var l=this.dom.createElement("div");return l.className="ace_line",l.style.height=this.config.lineHeight+"px",l},t.prototype.$renderWrappedLine=function(n,l,h){var v=0,y=0,C=h[0],$=0,S=this.$createLineElement();n.appendChild(S);for(var w=0;w<l.length;w++){var T=l[w],E=T.value;if(w==0&&this.displayIndentGuides){if(v=E.length,E=this.renderIndentGuide(S,E,C),!E)continue;v-=E.length}if(v+E.length<C)$=this.$renderToken(S,$,T,E),v+=E.length;else{for(;v+E.length>=C;)$=this.$renderToken(S,$,T,E.substring(0,C-v)),E=E.substring(C-v),v=C,S=this.$createLineElement(),n.appendChild(S),S.appendChild(this.dom.createTextNode(m.stringRepeat(" ",h.indent),this.element)),y++,$=0,C=h[y]||Number.MAX_VALUE;E.length!=0&&(v+=E.length,$=this.$renderToken(S,$,T,E))}}h[h.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(S,$,null,"",!0)},t.prototype.$renderSimpleLine=function(n,l){for(var h=0,v=0;v<l.length;v++){var y=l[v],C=y.value;if(!(v==0&&this.displayIndentGuides&&(C=this.renderIndentGuide(n,C),!C))){if(h+C.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(n,h,y,C);h=this.$renderToken(n,h,y,C)}}},t.prototype.$renderOverflowMessage=function(n,l,h,v,y){h&&this.$renderToken(n,l,h,v.slice(0,this.MAX_LINE_LENGTH-l));var C=this.dom.createElement("span");C.className="ace_inline_button ace_keyword ace_toggle_wrap",C.textContent=y?"<hide>":"<click to see more...>",n.appendChild(C)},t.prototype.$renderLine=function(n,l,h){if(!h&&h!=!1&&(h=this.session.getFoldLine(l)),h)var v=this.$getFoldLineTokens(l,h);else var v=this.session.getTokens(l);var y=n;if(v.length){var C=this.session.getRowSplitData(l);if(C&&C.length){this.$renderWrappedLine(n,v,C);var y=n.lastChild}else{var y=n;this.$useLineGroups()&&(y=this.$createLineElement(),n.appendChild(y)),this.$renderSimpleLine(y,v)}}else this.$useLineGroups()&&(y=this.$createLineElement(),n.appendChild(y));if(this.showEOL&&y){h&&(l=h.end.row);var $=this.dom.createElement("span");$.className="ace_invisible ace_invisible_eol",$.textContent=l==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,y.appendChild($)}},t.prototype.$getFoldLineTokens=function(n,l){var h=this.session,v=[];function y($,S,w){for(var T=0,E=0;E+$[T].value.length<S;)if(E+=$[T].value.length,T++,T==$.length)return;if(E!=S){var _=$[T].value.substring(S-E);_.length>w-S&&(_=_.substring(0,w-S)),v.push({type:$[T].type,value:_}),E=S+_.length,T+=1}for(;E<w&&T<$.length;){var _=$[T].value;_.length+E>w?v.push({type:$[T].type,value:_.substring(0,w-E)}):v.push($[T]),E+=_.length,T+=1}}var C=h.getTokens(n);return l.walk(function($,S,w,T,E){$!=null?v.push({type:"fold",value:$}):(E&&(C=h.getTokens(S)),C.length&&y(C,T,w))},l.end.row,this.session.getLine(l.end.row).length),v},t.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},t}();r.prototype.EOF_CHAR="¶",r.prototype.EOL_CHAR_LF="¬",r.prototype.EOL_CHAR_CRLF="¤",r.prototype.EOL_CHAR=r.prototype.EOL_CHAR_LF,r.prototype.TAB_CHAR="—",r.prototype.SPACE_CHAR="·",r.prototype.$padding=0,r.prototype.MAX_LINE_LENGTH=1e4,r.prototype.showInvisibles=!1,r.prototype.showSpaces=!1,r.prototype.showTabs=!1,r.prototype.showEOL=!1,r.prototype.displayIndentGuides=!0,r.prototype.$highlightIndentGuides=!0,r.prototype.$tabStrings=[],r.prototype.destroy={},r.prototype.onChangeTabSize=r.prototype.$computeTabString,d.implement(r.prototype,u),a.Text=r}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,a,p){var d=e("../lib/dom"),g=function(){function m(c){this.element=d.createElement("div"),this.element.className="ace_layer ace_cursor-layer",c.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),d.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return m.prototype.$updateOpacity=function(c){for(var u=this.cursors,s=u.length;s--;)d.setStyle(u[s].style,"opacity",c?"":"0")},m.prototype.$startCssAnimation=function(){for(var c=this.cursors,u=c.length;u--;)c[u].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&d.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},m.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,d.removeCssClass(this.element,"ace_animate-blinking")},m.prototype.setPadding=function(c){this.$padding=c},m.prototype.setSession=function(c){this.session=c},m.prototype.setBlinking=function(c){c!=this.isBlinking&&(this.isBlinking=c,this.restartTimer())},m.prototype.setBlinkInterval=function(c){c!=this.blinkInterval&&(this.blinkInterval=c,this.restartTimer())},m.prototype.setSmoothBlinking=function(c){c!=this.smoothBlinking&&(this.smoothBlinking=c,d.setCssClass(this.element,"ace_smooth-blinking",c),this.$updateCursors(!0),this.restartTimer())},m.prototype.addCursor=function(){var c=d.createElement("div");return c.className="ace_cursor",this.element.appendChild(c),this.cursors.push(c),c},m.prototype.removeCursor=function(){if(this.cursors.length>1){var c=this.cursors.pop();return c.parentNode.removeChild(c),c}},m.prototype.hideCursor=function(){this.isVisible=!1,d.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.showCursor=function(){this.isVisible=!0,d.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.restartTimer=function(){var c=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,d.removeCssClass(this.element,"ace_smooth-blinking")),c(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&d.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),d.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var u=(function(){this.timeoutId=setTimeout(function(){c(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){c(!0),u()},this.blinkInterval),u()}},m.prototype.getPixelPosition=function(c,u){if(!this.config||!this.session)return{left:0,top:0};c||(c=this.session.selection.getCursor());var s=this.session.documentToScreenPosition(c),i=this.$padding+(this.session.$bidiHandler.isBidiRow(s.row,c.row)?this.session.$bidiHandler.getPosLeft(s.column):s.column*this.config.characterWidth),r=(s.row-(u?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},m.prototype.isCursorInView=function(c,u){return c.top>=0&&c.top<u.maxHeight},m.prototype.update=function(c){this.config=c;var u=this.session.$selectionMarkers,s=0,i=0;(u===void 0||u.length===0)&&(u=[{cursor:null}]);for(var s=0,r=u.length;s<r;s++){var t=this.getPixelPosition(u[s].cursor,!0);if(!((t.top>c.height+c.offset||t.top<0)&&s>1)){var n=this.cursors[i++]||this.addCursor(),l=n.style;this.drawCursor?this.drawCursor(n,t,c,u[s],this.session):this.isCursorInView(t,c)?(d.setStyle(l,"display","block"),d.translate(n,t.left,t.top),d.setStyle(l,"width",Math.round(c.characterWidth)+"px"),d.setStyle(l,"height",c.lineHeight+"px")):d.setStyle(l,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var h=this.session.getOverwrite();this.$setOverwrite(h),this.$pixelPos=t,this.restartTimer()},m.prototype.$setOverwrite=function(c){c!=this.overwrite&&(this.overwrite=c,c?d.addCssClass(this.element,"ace_overwrite-cursors"):d.removeCssClass(this.element,"ace_overwrite-cursors"))},m.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},m}();g.prototype.$padding=0,g.prototype.drawCursor=null,a.Cursor=g}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,a,p){var d=this&&this.__extends||function(){var n=function(l,h){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(v[C]=y[C])},n(l,h)};return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");n(l,h);function v(){this.constructor=l}l.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),g=e("./lib/oop"),m=e("./lib/dom"),c=e("./lib/event"),u=e("./lib/event_emitter").EventEmitter,s=32768,i=function(){function n(l,h){this.element=m.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+h,this.inner=m.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),l.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,c.addListener(this.element,"scroll",this.onScroll.bind(this)),c.addListener(this.element,"mousedown",c.preventDefault)}return n.prototype.setVisible=function(l){this.element.style.display=l?"":"none",this.isVisible=l,this.coeff=1},n}();g.implement(i.prototype,u);var r=function(n){d(l,n);function l(h,v){var y=n.call(this,h,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,v.$scrollbarWidth=y.width=m.scrollbarWidth(h.ownerDocument),y.inner.style.width=y.element.style.width=(y.width||15)+5+"px",y.$minWidth=0,y}return l.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var h=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-h)/(this.coeff-h)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},l.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},l.prototype.setHeight=function(h){this.element.style.height=h+"px"},l.prototype.setScrollHeight=function(h){this.scrollHeight=h,h>s?(this.coeff=s/h,h=s):this.coeff!=1&&(this.coeff=1),this.inner.style.height=h+"px"},l.prototype.setScrollTop=function(h){this.scrollTop!=h&&(this.skipEvent=!0,this.scrollTop=h,this.element.scrollTop=h*this.coeff)},l}(i);r.prototype.setInnerHeight=r.prototype.setScrollHeight;var t=function(n){d(l,n);function l(h,v){var y=n.call(this,h,"-h")||this;return y.scrollLeft=0,y.height=v.$scrollbarWidth,y.inner.style.height=y.element.style.height=(y.height||15)+5+"px",y}return l.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},l.prototype.getHeight=function(){return this.isVisible?this.height:0},l.prototype.setWidth=function(h){this.element.style.width=h+"px"},l.prototype.setInnerWidth=function(h){this.inner.style.width=h+"px"},l.prototype.setScrollWidth=function(h){this.inner.style.width=h+"px"},l.prototype.setScrollLeft=function(h){this.scrollLeft!=h&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=h)},l}(i);a.ScrollBar=r,a.ScrollBarV=r,a.ScrollBarH=t,a.VScrollBar=r,a.HScrollBar=t}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,a,p){var d=this&&this.__extends||function(){var t=function(n,l){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y])},t(n,l)};return function(n,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");t(n,l);function h(){this.constructor=n}n.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}(),g=e("./lib/oop"),m=e("./lib/dom"),c=e("./lib/event"),u=e("./lib/event_emitter").EventEmitter;m.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var s=function(){function t(n,l){this.element=m.createElement("div"),this.element.className="ace_sb"+l,this.inner=m.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,n.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,c.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return t.prototype.setVisible=function(n){this.element.style.display=n?"":"none",this.isVisible=n,this.coeff=1},t}();g.implement(s.prototype,u);var i=function(t){d(n,t);function n(l,h){var v=t.call(this,l,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,v.parent=l,v.width=v.VScrollWidth,v.renderer=h,v.inner.style.width=v.element.style.width=(v.width||15)+"px",v.$minWidth=0,v}return n.prototype.onMouseDown=function(l,h){if(l==="mousedown"&&!(c.getButton(h)!==0||h.detail===2)){if(h.target===this.inner){var v=this,y=h.clientY,C=function(k){y=k.clientY},$=function(){clearInterval(E)},S=h.clientY,w=this.thumbTop,T=function(){if(y!==void 0){var k=v.scrollTopFromThumbTop(w+y-S);k!==v.scrollTop&&v._emit("scroll",{data:k})}};c.capture(this.inner,C,$);var E=setInterval(T,20);return c.preventDefault(h)}var _=h.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(_)}),c.preventDefault(h)}},n.prototype.getHeight=function(){return this.height},n.prototype.scrollTopFromThumbTop=function(l){var h=l*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return h=h>>0,h<0?h=0:h>this.pageHeight-this.viewHeight&&(h=this.pageHeight-this.viewHeight),h},n.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},n.prototype.setHeight=function(l){this.height=Math.max(0,l),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},n.prototype.setScrollHeight=function(l,h){this.pageHeight===l&&!h||(this.pageHeight=l,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},n.prototype.setScrollTop=function(l){this.scrollTop=l,l<0&&(l=0),this.thumbTop=l*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},n}(s);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var r=function(t){d(n,t);function n(l,h){var v=t.call(this,l,"-h")||this;return v.scrollLeft=0,v.scrollWidth=0,v.height=v.HScrollHeight,v.inner.style.height=v.element.style.height=(v.height||12)+"px",v.renderer=h,v}return n.prototype.onMouseDown=function(l,h){if(l==="mousedown"&&!(c.getButton(h)!==0||h.detail===2)){if(h.target===this.inner){var v=this,y=h.clientX,C=function(k){y=k.clientX},$=function(){clearInterval(E)},S=h.clientX,w=this.thumbLeft,T=function(){if(y!==void 0){var k=v.scrollLeftFromThumbLeft(w+y-S);k!==v.scrollLeft&&v._emit("scroll",{data:k})}};c.capture(this.inner,C,$);var E=setInterval(T,20);return c.preventDefault(h)}var _=h.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(_)}),c.preventDefault(h)}},n.prototype.getHeight=function(){return this.isVisible?this.height:0},n.prototype.scrollLeftFromThumbLeft=function(l){var h=l*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return h=h>>0,h<0?h=0:h>this.pageWidth-this.viewWidth&&(h=this.pageWidth-this.viewWidth),h},n.prototype.setWidth=function(l){this.width=Math.max(0,l),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},n.prototype.setScrollWidth=function(l,h){this.pageWidth===l&&!h||(this.pageWidth=l,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},n.prototype.setScrollLeft=function(l){this.scrollLeft=l,l<0&&(l=0),this.thumbLeft=l*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},n}(s);r.prototype.setInnerWidth=r.prototype.setScrollWidth,a.ScrollBar=i,a.ScrollBarV=i,a.ScrollBarH=r,a.VScrollBar=i,a.HScrollBar=r}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,a,p){var d=e("./lib/event"),g=function(){function m(c,u){this.onRender=c,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=u||window;var s=this;this._flush=function(i){s.pending=!1;var r=s.changes;if(r&&(d.blockIdle(100),s.changes=0,s.onRender(r)),s.changes){if(s.$recursionLimit--<0)return;s.schedule()}else s.$recursionLimit=2}}return m.prototype.schedule=function(c){this.changes=this.changes|c,this.changes&&!this.pending&&(d.nextFrame(this._flush),this.pending=!0)},m.prototype.clear=function(c){var u=this.changes;return this.changes=0,u},m}();a.RenderLoop=g}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,a,p){var d=e("../lib/oop"),g=e("../lib/dom"),m=e("../lib/lang"),c=e("../lib/event"),u=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,i=512,r=typeof ResizeObserver=="function",t=200,n=function(){function l(h){this.el=g.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=g.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=g.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),h.appendChild(this.el),this.$measureNode.textContent=m.stringRepeat("X",i),this.$characterSize={width:0,height:0},r?this.$addObserver():this.checkForSizeChanges()}return l.prototype.$setMeasureNodeStyles=function(h,v){h.width=h.height="auto",h.left=h.top="0px",h.visibility="hidden",h.position="absolute",h.whiteSpace="pre",u.isIE<8?h["font-family"]="inherit":h.font="inherit",h.overflow=v?"hidden":"visible"},l.prototype.checkForSizeChanges=function(h){if(h===void 0&&(h=this.$measureSizes()),h&&(this.$characterSize.width!==h.width||this.$characterSize.height!==h.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=h,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===h.width&&v.height===h.height,this._emit("changeCharacterSize",{data:h})}},l.prototype.$addObserver=function(){var h=this;this.$observer=new window.ResizeObserver(function(v){h.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},l.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var h=this;return this.$pollSizeChangesTimer=c.onIdle(function v(){h.checkForSizeChanges(),c.onIdle(v,500)},500)},l.prototype.setPolling=function(h){h?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},l.prototype.$measureSizes=function(h){var v={height:(h||this.$measureNode).clientHeight,width:(h||this.$measureNode).clientWidth/i};return v.width===0||v.height===0?null:v},l.prototype.$measureCharWidth=function(h){this.$main.textContent=m.stringRepeat(h,i);var v=this.$main.getBoundingClientRect();return v.width/i},l.prototype.getCharacterWidth=function(h){var v=this.charSizes[h];return v===void 0&&(v=this.charSizes[h]=this.$measureCharWidth(h)/this.$characterSize.width),v},l.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},l.prototype.$getZoom=function(h){return!h||!h.parentElement?1:(Number(window.getComputedStyle(h).zoom)||1)*this.$getZoom(h.parentElement)},l.prototype.$initTransformMeasureNodes=function(){var h=function(v,y){return["div",{style:"position: absolute;top:"+v+"px;left:"+y+"px;"}]};this.els=g.buildDom([h(0,0),h(t,0),h(0,t),h(t,t)],this.el)},l.prototype.transformCoordinates=function(h,v){if(h){var y=this.$getZoom(this.el);h=w(1/y,h)}function C(F,j,W){var P=F[1]*j[0]-F[0]*j[1];return[(-j[1]*W[0]+j[0]*W[1])/P,(+F[1]*W[0]-F[0]*W[1])/P]}function $(F,j){return[F[0]-j[0],F[1]-j[1]]}function S(F,j){return[F[0]+j[0],F[1]+j[1]]}function w(F,j){return[F*j[0],F*j[1]]}this.els||this.$initTransformMeasureNodes();function T(F){var j=F.getBoundingClientRect();return[j.left,j.top]}var E=T(this.els[0]),_=T(this.els[1]),k=T(this.els[2]),D=T(this.els[3]),A=C($(D,_),$(D,k),$(S(_,k),S(D,E))),R=w(1+A[0],$(_,E)),b=w(1+A[1],$(k,E));if(v){var x=v,M=A[0]*x[0]/t+A[1]*x[1]/t+1,L=S(w(x[0],R),w(x[1],b));return S(w(1/M/t,L),E)}var O=$(h,E),N=C($(R,w(A[0],O)),$(b,w(A[1],O)),O);return w(t,N)},l}();n.prototype.$characterSize={width:0,height:0},d.implement(n.prototype,s),a.FontMetrics=n}),ace.define("ace/css/editor-css",["require","exports","module"],function(e,a,p){p.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(e,a,p){var d=e("../lib/dom"),g=e("../lib/oop"),m=e("../lib/event_emitter").EventEmitter,c=function(){function u(s,i){this.canvas=d.createElement("canvas"),this.renderer=i,this.pixelRatio=1,this.maxHeight=i.layerConfig.maxHeight,this.lineHeight=i.layerConfig.lineHeight,this.canvasHeight=s.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=s.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},s.element.appendChild(this.canvas)}return u.prototype.$updateDecorators=function(s){var i=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(s){this.maxHeight=s.maxHeight,this.lineHeight=s.lineHeight,this.canvasHeight=s.height;var r=(s.lastRow+1)*this.lineHeight;r<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var t=this.canvas.getContext("2d");function n(D,A){return D.priority<A.priority?-1:D.priority>A.priority?1:0}var l=this.renderer.session.$annotations;if(t.clearRect(0,0,this.canvas.width,this.canvas.height),l){var h={info:1,warning:2,error:3};l.forEach(function(D){D.priority=h[D.type]||null}),l=l.sort(n);for(var v=this.renderer.session.$foldData,y=0;y<l.length;y++){var C=l[y].row,$=this.compensateFoldRows(C,v),S=Math.round((C-$)*this.lineHeight*this.heightRatio),w=Math.round((C-$)*this.lineHeight*this.heightRatio),T=Math.round(((C-$)*this.lineHeight+this.lineHeight)*this.heightRatio),E=T-w;if(E<this.minDecorationHeight){var _=(w+T)/2|0;_<this.halfMinDecorationHeight?_=this.halfMinDecorationHeight:_+this.halfMinDecorationHeight>this.canvasHeight&&(_=this.canvasHeight-this.halfMinDecorationHeight),w=Math.round(_-this.halfMinDecorationHeight),T=Math.round(_+this.halfMinDecorationHeight)}t.fillStyle=i[l[y].type]||null,t.fillRect(0,S,this.canvasWidth,T-w)}}var k=this.renderer.session.selection.getCursor();if(k){var $=this.compensateFoldRows(k.row,v),S=Math.round((k.row-$)*this.lineHeight*this.heightRatio);t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,S,this.canvasWidth,2)}},u.prototype.compensateFoldRows=function(s,i){var r=0;if(i&&i.length>0)for(var t=0;t<i.length;t++)s>i[t].start.row&&s<i[t].end.row?r+=s-i[t].start.row:s>=i[t].end.row&&(r+=i[t].end.row-i[t].start.row);return r},u}();g.implement(c.prototype,m),a.Decorator=c}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(e,a,p){var d=e("./lib/oop"),g=e("./lib/dom"),m=e("./lib/lang"),c=e("./config"),u=e("./layer/gutter").Gutter,s=e("./layer/marker").Marker,i=e("./layer/text").Text,r=e("./layer/cursor").Cursor,t=e("./scrollbar").HScrollBar,n=e("./scrollbar").VScrollBar,l=e("./scrollbar_custom").HScrollBar,h=e("./scrollbar_custom").VScrollBar,v=e("./renderloop").RenderLoop,y=e("./layer/font_metrics").FontMetrics,C=e("./lib/event_emitter").EventEmitter,$=e("./css/editor-css"),S=e("./layer/decorators").Decorator,w=e("./lib/useragent"),T=e("./layer/text_util").isTextToken;g.importCssString($,"ace_editor.css",!1);var E=function(){function _(k,D){var A=this;this.container=k||g.createElement("div"),g.addCssClass(this.container,"ace_editor"),g.HI_DPI&&g.addCssClass(this.container,"ace_hidpi"),this.setTheme(D),c.get("useStrictCSP")==null&&c.set("useStrictCSP",!1),this.$gutter=g.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=g.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=g.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var R=this.$textLayer=new i(this.content);this.canvas=R.element,this.$markerFront=new s(this.content),this.$cursorLayer=new r(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new n(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.on("scroll",function(b){A.$scrollAnimation||A.session.setScrollTop(b.data-A.scrollMargin.top)}),this.scrollBarH.on("scroll",function(b){A.$scrollAnimation||A.session.setScrollLeft(b.data-A.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new y(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(b){A.updateCharacterSize(),A.onResize(!0,A.gutterWidth,A.$size.width,A.$size.height),A._signal("changeCharacterSize",b)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!w.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),c.resetOptions(this),c._signal("renderer",this)}return _.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),g.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},_.prototype.setSession=function(k){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=k,k&&this.scrollMargin.top&&k.getScrollTop()<=0&&k.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(k),this.$markerBack.setSession(k),this.$markerFront.setSession(k),this.$gutterLayer.setSession(k),this.$textLayer.setSession(k),k&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},_.prototype.updateLines=function(k,D,A){if(D===void 0&&(D=1/0),this.$changedLines?(this.$changedLines.firstRow>k&&(this.$changedLines.firstRow=k),this.$changedLines.lastRow<D&&(this.$changedLines.lastRow=D)):this.$changedLines={firstRow:k,lastRow:D},this.$changedLines.lastRow<this.layerConfig.firstRow)if(A)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},_.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},_.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},_.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},_.prototype.updateFull=function(k){k?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},_.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},_.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},_.prototype.onResize=function(k,D,A,R){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=k?1:0;var b=this.container;R||(R=b.clientHeight||b.scrollHeight),!R&&this.$maxLines&&this.lineHeight>1&&(!b.style.height||b.style.height=="0px")&&(b.style.height="1px",R=b.clientHeight||b.scrollHeight),A||(A=b.clientWidth||b.scrollWidth);var x=this.$updateCachedSize(k,D,A,R);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!A&&!R)return this.resizing=0;k&&(this.$gutterLayer.$padding=null),k?this.$renderChanges(x|this.$changes,!0):this.$loop.schedule(x|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},_.prototype.$updateCachedSize=function(k,D,A,R){R-=this.$extraHeight||0;var b=0,x=this.$size,M={width:x.width,height:x.height,scrollerHeight:x.scrollerHeight,scrollerWidth:x.scrollerWidth};if(R&&(k||x.height!=R)&&(x.height=R,b|=this.CHANGE_SIZE,x.scrollerHeight=x.height,this.$horizScroll&&(x.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(x.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",b=b|this.CHANGE_SCROLL),A&&(k||x.width!=A)){b|=this.CHANGE_SIZE,x.width=A,D==null&&(D=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=D,g.setStyle(this.scrollBarH.element.style,"left",D+"px"),g.setStyle(this.scroller.style,"left",D+this.margin.left+"px"),x.scrollerWidth=Math.max(0,A-D-this.scrollBarV.getWidth()-this.margin.h),g.setStyle(this.$gutter.style,"left",this.margin.left+"px");var L=this.scrollBarV.getWidth()+"px";g.setStyle(this.scrollBarH.element.style,"right",L),g.setStyle(this.scroller.style,"right",L),g.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(x.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||k)&&(b|=this.CHANGE_FULL)}return x.$dirty=!A||!R,b&&this._signal("resize",M),b},_.prototype.onGutterResize=function(k){var D=this.$showGutter?k:0;D!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,D,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},_.prototype.adjustWrapLimit=function(){var k=this.$size.scrollerWidth-this.$padding*2,D=Math.floor(k/this.characterWidth);return this.session.adjustWrapLimit(D,this.$showPrintMargin&&this.$printMarginColumn)},_.prototype.setAnimatedScroll=function(k){this.setOption("animatedScroll",k)},_.prototype.getAnimatedScroll=function(){return this.$animatedScroll},_.prototype.setShowInvisibles=function(k){this.setOption("showInvisibles",k),this.session.$bidiHandler.setShowInvisibles(k)},_.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},_.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},_.prototype.setDisplayIndentGuides=function(k){this.setOption("displayIndentGuides",k)},_.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},_.prototype.setHighlightIndentGuides=function(k){this.setOption("highlightIndentGuides",k)},_.prototype.setShowPrintMargin=function(k){this.setOption("showPrintMargin",k)},_.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},_.prototype.setPrintMarginColumn=function(k){this.setOption("printMarginColumn",k)},_.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},_.prototype.getShowGutter=function(){return this.getOption("showGutter")},_.prototype.setShowGutter=function(k){return this.setOption("showGutter",k)},_.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},_.prototype.setFadeFoldWidgets=function(k){this.setOption("fadeFoldWidgets",k)},_.prototype.setHighlightGutterLine=function(k){this.setOption("highlightGutterLine",k)},_.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},_.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var k=g.createElement("div");k.className="ace_layer ace_print-margin-layer",this.$printMarginEl=g.createElement("div"),this.$printMarginEl.className="ace_print-margin",k.appendChild(this.$printMarginEl),this.content.insertBefore(k,this.content.firstChild)}var D=this.$printMarginEl.style;D.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",D.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},_.prototype.getContainerElement=function(){return this.container},_.prototype.getMouseEventTarget=function(){return this.scroller},_.prototype.getTextAreaContainer=function(){return this.container},_.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var k=this.textarea.style,D=this.$composition;if(!this.$keepTextAreaAtCursor&&!D){g.translate(this.textarea,-100,0);return}var A=this.$cursorLayer.$pixelPos;if(A){D&&D.markerRange&&(A=this.$cursorLayer.getPixelPosition(D.markerRange.start,!0));var R=this.layerConfig,b=A.top,x=A.left;b-=R.offset;var M=D&&D.useTextareaForIME||w.isMobile?this.lineHeight:1;if(b<0||b>R.height-M){g.translate(this.textarea,0,0);return}var L=1,O=this.$size.height-M;if(!D)b+=this.lineHeight;else if(D.useTextareaForIME){var N=this.textarea.value;L=this.characterWidth*this.session.$getStringScreenWidth(N)[0]}else b+=this.lineHeight+2;x-=this.scrollLeft,x>this.$size.scrollerWidth-L&&(x=this.$size.scrollerWidth-L),x+=this.gutterWidth+this.margin.left,g.setStyle(k,"height",M+"px"),g.setStyle(k,"width",L+"px"),g.translate(this.textarea,Math.min(x,this.$size.scrollerWidth-L),Math.min(b,O))}}},_.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},_.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},_.prototype.getLastFullyVisibleRow=function(){var k=this.layerConfig,D=k.lastRow,A=this.session.documentToScreenRow(D,0)*k.lineHeight;return A-this.session.getScrollTop()>k.height-k.lineHeight?D-1:D},_.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},_.prototype.setPadding=function(k){this.$padding=k,this.$textLayer.setPadding(k),this.$cursorLayer.setPadding(k),this.$markerFront.setPadding(k),this.$markerBack.setPadding(k),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},_.prototype.setScrollMargin=function(k,D,A,R){var b=this.scrollMargin;b.top=k|0,b.bottom=D|0,b.right=R|0,b.left=A|0,b.v=b.top+b.bottom,b.h=b.left+b.right,b.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-b.top),this.updateFull()},_.prototype.setMargin=function(k,D,A,R){var b=this.margin;b.top=k|0,b.bottom=D|0,b.right=R|0,b.left=A|0,b.v=b.top+b.bottom,b.h=b.left+b.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},_.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},_.prototype.setHScrollBarAlwaysVisible=function(k){this.setOption("hScrollBarAlwaysVisible",k)},_.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},_.prototype.setVScrollBarAlwaysVisible=function(k){this.setOption("vScrollBarAlwaysVisible",k)},_.prototype.$updateScrollBarV=function(){var k=this.layerConfig.maxHeight,D=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(k-=(D-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>k-D&&(k=this.scrollTop+D,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(k+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},_.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},_.prototype.freeze=function(){this.$frozen=!0},_.prototype.unfreeze=function(){this.$frozen=!1},_.prototype.$renderChanges=function(k,D){if(this.$changes&&(k|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!k&&!D){this.$changes|=k;return}if(this.$size.$dirty)return this.$changes|=k,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",k),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var A=this.layerConfig;if(k&this.CHANGE_FULL||k&this.CHANGE_SIZE||k&this.CHANGE_TEXT||k&this.CHANGE_LINES||k&this.CHANGE_SCROLL||k&this.CHANGE_H_SCROLL){if(k|=this.$computeLayerConfig()|this.$loop.clear(),A.firstRow!=this.layerConfig.firstRow&&A.firstRowScreen==this.layerConfig.firstRowScreen){var R=this.scrollTop+(A.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;R>0&&(this.scrollTop=R,k=k|this.CHANGE_SCROLL,k|=this.$computeLayerConfig()|this.$loop.clear())}A=this.layerConfig,this.$updateScrollBarV(),k&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),g.translate(this.content,-this.scrollLeft,-A.offset);var b=A.width+2*this.$padding+"px",x=A.minHeight+"px";g.setStyle(this.content.style,"width",b),g.setStyle(this.content.style,"height",x)}if(k&this.CHANGE_H_SCROLL&&(g.translate(this.content,-this.scrollLeft,-A.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),k&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(A),this.$showGutter&&this.$gutterLayer.update(A),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(A),this.$markerBack.update(A),this.$markerFront.update(A),this.$cursorLayer.update(A),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}if(k&this.CHANGE_SCROLL){this.$changedLines=null,k&this.CHANGE_TEXT||k&this.CHANGE_LINES?this.$textLayer.update(A):this.$textLayer.scrollLines(A),this.$showGutter&&(k&this.CHANGE_GUTTER||k&this.CHANGE_LINES?this.$gutterLayer.update(A):this.$gutterLayer.scrollLines(A)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(A),this.$markerBack.update(A),this.$markerFront.update(A),this.$cursorLayer.update(A),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}k&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(A),this.$showGutter&&this.$gutterLayer.update(A),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(A)):k&this.CHANGE_LINES?((this.$updateLines()||k&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(A),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(A)):k&this.CHANGE_TEXT||k&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(A),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(A)):k&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(A),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(A)),k&this.CHANGE_CURSOR&&(this.$cursorLayer.update(A),this.$moveTextAreaToCursor()),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(A),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(A),this._signal("afterRender",k)},_.prototype.$autosize=function(){var k=this.session.getScreenLength()*this.lineHeight,D=this.$maxLines*this.lineHeight,A=Math.min(D,Math.max((this.$minLines||1)*this.lineHeight,k))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(A+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&A>this.$maxPixelHeight&&(A=this.$maxPixelHeight);var R=A<=2*this.lineHeight,b=!R&&k>D;if(A!=this.desiredHeight||this.$size.height!=this.desiredHeight||b!=this.$vScroll){b!=this.$vScroll&&(this.$vScroll=b,this.scrollBarV.setVisible(b));var x=this.container.clientWidth;this.container.style.height=A+"px",this.$updateCachedSize(!0,this.$gutterWidth,x,A),this.desiredHeight=A,this._signal("autosize")}},_.prototype.$computeLayerConfig=function(){var k=this.session,D=this.$size,A=D.height<=2*this.lineHeight,R=this.session.getScreenLength(),b=R*this.lineHeight,x=this.$getLongestLine(),M=!A&&(this.$hScrollBarAlwaysVisible||D.scrollerWidth-x-2*this.$padding<0),L=this.$horizScroll!==M;L&&(this.$horizScroll=M,this.scrollBarH.setVisible(M));var O=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),A=D.height<=2*this.lineHeight);var N=D.scrollerHeight+this.lineHeight,F=!this.$maxLines&&this.$scrollPastEnd?(D.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;b+=F;var j=this.scrollMargin;this.session.setScrollTop(Math.max(-j.top,Math.min(this.scrollTop,b-D.scrollerHeight+j.bottom))),this.session.setScrollLeft(Math.max(-j.left,Math.min(this.scrollLeft,x+2*this.$padding-D.scrollerWidth+j.right)));var W=!A&&(this.$vScrollBarAlwaysVisible||D.scrollerHeight-b+F<0||this.scrollTop>j.top),P=O!==W;P&&(this.$vScroll=W,this.scrollBarV.setVisible(W));var z=this.scrollTop%this.lineHeight,H=Math.ceil(N/this.lineHeight)-1,G=Math.max(0,Math.round((this.scrollTop-z)/this.lineHeight)),V=G+H,Y,K,q=this.lineHeight;G=k.screenToDocumentRow(G,0);var J=k.getFoldLine(G);J&&(G=J.start.row),Y=k.documentToScreenRow(G,0),K=k.getRowLength(G)*q,V=Math.min(k.screenToDocumentRow(V,0),k.getLength()-1),N=D.scrollerHeight+k.getRowLength(V)*q+K,z=this.scrollTop-Y*q;var ne=0;return(this.layerConfig.width!=x||L)&&(ne=this.CHANGE_H_SCROLL),(L||P)&&(ne|=this.$updateCachedSize(!0,this.gutterWidth,D.width,D.height),this._signal("scrollbarVisibilityChanged"),P&&(x=this.$getLongestLine())),this.layerConfig={width:x,padding:this.$padding,firstRow:G,firstRowScreen:Y,lastRow:V,lineHeight:q,characterWidth:this.characterWidth,minHeight:N,maxHeight:b,offset:z,gutterOffset:q?Math.max(0,Math.ceil((z+D.height-D.scrollerHeight)/q)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(x-this.$padding),ne},_.prototype.$updateLines=function(){if(this.$changedLines){var k=this.$changedLines.firstRow,D=this.$changedLines.lastRow;this.$changedLines=null;var A=this.layerConfig;if(!(k>A.lastRow+1)&&!(D<A.firstRow)){if(D===1/0){this.$showGutter&&this.$gutterLayer.update(A),this.$textLayer.update(A);return}return this.$textLayer.updateLines(A,k,D),!0}}},_.prototype.$getLongestLine=function(){var k=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(k+=1),this.$textLayer&&k>this.$textLayer.MAX_LINE_LENGTH&&(k=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(k*this.characterWidth))},_.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},_.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},_.prototype.addGutterDecoration=function(k,D){this.$gutterLayer.addGutterDecoration(k,D)},_.prototype.removeGutterDecoration=function(k,D){this.$gutterLayer.removeGutterDecoration(k,D)},_.prototype.updateBreakpoints=function(k){this._rows=k,this.$loop.schedule(this.CHANGE_GUTTER)},_.prototype.setAnnotations=function(k){this.$gutterLayer.setAnnotations(k),this.$loop.schedule(this.CHANGE_GUTTER)},_.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},_.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},_.prototype.showCursor=function(){this.$cursorLayer.showCursor()},_.prototype.scrollSelectionIntoView=function(k,D,A){this.scrollCursorIntoView(k,A),this.scrollCursorIntoView(D,A)},_.prototype.scrollCursorIntoView=function(k,D,A){if(this.$size.scrollerHeight!==0){var R=this.$cursorLayer.getPixelPosition(k),b=R.left,x=R.top,M=A&&A.top||0,L=A&&A.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var O=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;O+M>x?(D&&O+M>x+this.lineHeight&&(x-=D*this.$size.scrollerHeight),x===0&&(x=-this.scrollMargin.top),this.session.setScrollTop(x)):O+this.$size.scrollerHeight-L<x+this.lineHeight&&(D&&O+this.$size.scrollerHeight-L<x-this.lineHeight&&(x+=D*this.$size.scrollerHeight),this.session.setScrollTop(x+this.lineHeight+L-this.$size.scrollerHeight));var N=this.scrollLeft,F=2*this.layerConfig.characterWidth;b-F<N?(b-=F,b<this.$padding+F&&(b=-this.scrollMargin.left),this.session.setScrollLeft(b)):(b+=F,N+this.$size.scrollerWidth<b+this.characterWidth?this.session.setScrollLeft(Math.round(b+this.characterWidth-this.$size.scrollerWidth)):N<=this.$padding&&b-N<this.characterWidth&&this.session.setScrollLeft(0))}},_.prototype.getScrollTop=function(){return this.session.getScrollTop()},_.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},_.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},_.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},_.prototype.scrollToRow=function(k){this.session.setScrollTop(k*this.lineHeight)},_.prototype.alignCursor=function(k,D){typeof k=="number"&&(k={row:k,column:0});var A=this.$cursorLayer.getPixelPosition(k),R=this.$size.scrollerHeight-this.lineHeight,b=A.top-R*(D||0);return this.session.setScrollTop(b),b},_.prototype.$calcSteps=function(k,D){var A=0,R=this.STEPS,b=[],x=function(M,L,O){return O*(Math.pow(M-1,3)+1)+L};for(A=0;A<R;++A)b.push(x(A/this.STEPS,k,D-k));return b},_.prototype.scrollToLine=function(k,D,A,R){var b=this.$cursorLayer.getPixelPosition({row:k,column:0}),x=b.top;D&&(x-=this.$size.scrollerHeight/2);var M=this.scrollTop;this.session.setScrollTop(x),A!==!1&&this.animateScrolling(M,R)},_.prototype.animateScrolling=function(k,D){var A=this.scrollTop;if(!this.$animatedScroll)return;var R=this;if(k==A)return;if(this.$scrollAnimation){var b=this.$scrollAnimation.steps;if(b.length&&(k=b[0],k==A))return}var x=R.$calcSteps(k,A);this.$scrollAnimation={from:k,to:A,steps:x},clearInterval(this.$timer),R.session.setScrollTop(x.shift()),R.session.$scrollTop=A;function M(){R.$timer=clearInterval(R.$timer),R.$scrollAnimation=null,R.$stopAnimation=!1,D&&D()}this.$timer=setInterval(function(){if(R.$stopAnimation){M();return}if(!R.session)return clearInterval(R.$timer);x.length?(R.session.setScrollTop(x.shift()),R.session.$scrollTop=A):A!=null?(R.session.$scrollTop=-1,R.session.setScrollTop(A),A=null):M()},10)},_.prototype.scrollToY=function(k){this.scrollTop!==k&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=k)},_.prototype.scrollToX=function(k){this.scrollLeft!==k&&(this.scrollLeft=k),this.$loop.schedule(this.CHANGE_H_SCROLL)},_.prototype.scrollTo=function(k,D){this.session.setScrollTop(D),this.session.setScrollLeft(k)},_.prototype.scrollBy=function(k,D){D&&this.session.setScrollTop(this.session.getScrollTop()+D),k&&this.session.setScrollLeft(this.session.getScrollLeft()+k)},_.prototype.isScrollableBy=function(k,D){if(D<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||D>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||k<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||k>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},_.prototype.pixelToScreenCoordinates=function(k,D){var A;if(this.$hasCssTransforms){A={top:0,left:0};var R=this.$fontMetrics.transformCoordinates([k,D]);k=R[1]-this.gutterWidth-this.margin.left,D=R[0]}else A=this.scroller.getBoundingClientRect();var b=k+this.scrollLeft-A.left-this.$padding,x=b/this.characterWidth,M=Math.floor((D+this.scrollTop-A.top)/this.lineHeight),L=this.$blockCursor?Math.floor(x):Math.round(x);return{row:M,column:L,side:x-L>0?1:-1,offsetX:b}},_.prototype.screenToTextCoordinates=function(k,D){var A;if(this.$hasCssTransforms){A={top:0,left:0};var R=this.$fontMetrics.transformCoordinates([k,D]);k=R[1]-this.gutterWidth-this.margin.left,D=R[0]}else A=this.scroller.getBoundingClientRect();var b=k+this.scrollLeft-A.left-this.$padding,x=b/this.characterWidth,M=this.$blockCursor?Math.floor(x):Math.round(x),L=Math.floor((D+this.scrollTop-A.top)/this.lineHeight);return this.session.screenToDocumentPosition(L,Math.max(M,0),b)},_.prototype.textToScreenCoordinates=function(k,D){var A=this.scroller.getBoundingClientRect(),R=this.session.documentToScreenPosition(k,D),b=this.$padding+(this.session.$bidiHandler.isBidiRow(R.row,k)?this.session.$bidiHandler.getPosLeft(R.column):Math.round(R.column*this.characterWidth)),x=R.row*this.lineHeight;return{pageX:A.left+b-this.scrollLeft,pageY:A.top+x-this.scrollTop}},_.prototype.visualizeFocus=function(){g.addCssClass(this.container,"ace_focus")},_.prototype.visualizeBlur=function(){g.removeCssClass(this.container,"ace_focus")},_.prototype.showComposition=function(k){this.$composition=k,k.cssText||(k.cssText=this.textarea.style.cssText),k.useTextareaForIME==null&&(k.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(g.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):k.markerId=this.session.addMarker(k.markerRange,"ace_composition_marker","text")},_.prototype.setCompositionText=function(k){var D=this.session.selection.cursor;this.addToken(k,"composition_placeholder",D.row,D.column),this.$moveTextAreaToCursor()},_.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),g.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var k=this.session.selection.cursor;this.removeExtraToken(k.row,k.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},_.prototype.setGhostText=function(k,D){var A=this.session.selection.cursor,R=D||{row:A.row,column:A.column};this.removeGhostText();var b=this.$calculateWrappedTextChunks(k,R);this.addToken(b[0].text,"ghost_text",R.row,R.column),this.$ghostText={text:k,position:{row:R.row,column:R.column}};var x=g.createElement("div");if(b.length>1){var M=this.hideTokensAfterPosition(R.row,R.column),L;b.slice(1).forEach(function(P){var z=g.createElement("div"),H=g.createElement("span");H.className="ace_ghost_text",P.wrapped&&(z.className="ghost_text_line_wrapped"),P.text.length===0&&(P.text=" "),H.appendChild(g.createTextNode(P.text)),z.appendChild(H),x.appendChild(z),L=z}),M.forEach(function(P){var z=g.createElement("span");T(P.type)||(z.className="ace_"+P.type.replace(/\./g," ace_")),z.appendChild(g.createTextNode(P.value)),L.appendChild(z)}),this.$ghostTextWidget={el:x,row:R.row,column:R.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var O=this.$cursorLayer.getPixelPosition(R,!0),N=this.container,F=N.getBoundingClientRect().height,j=b.length*this.lineHeight,W=j<F-O.top;if(W)return;j<F?this.scrollBy(0,(b.length-1)*this.lineHeight):this.scrollToRow(R.row)}},_.prototype.$calculateWrappedTextChunks=function(k,D){var A=this.$size.scrollerWidth-this.$padding*2,R=Math.floor(A/this.characterWidth)-2;R=R<=0?60:R;for(var b=k.split(/\r?\n/),x=[],M=0;M<b.length;M++){var L=this.session.$getDisplayTokens(b[M],D.column),O=this.session.$computeWrapSplits(L,R,this.session.$tabSize);if(O.length>0){var N=0;O.push(b[M].length);for(var F=0;F<O.length;F++){var j=b[M].slice(N,O[F]);x.push({text:j,wrapped:!0}),N=O[F]}}else x.push({text:b[M],wrapped:!1})}return x},_.prototype.removeGhostText=function(){if(this.$ghostText){var k=this.$ghostText.position;this.removeExtraToken(k.row,k.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},_.prototype.addToken=function(k,D,A,R){var b=this.session;b.bgTokenizer.lines[A]=null;var x={type:D,value:k},M=b.getTokens(A);if(R==null||!M.length)M.push(x);else for(var L=0,O=0;O<M.length;O++){var N=M[O];if(L+=N.value.length,R<=L){var F=N.value.length-(L-R),j=N.value.slice(0,F),W=N.value.slice(F);M.splice(O,1,{type:N.type,value:j},x,{type:N.type,value:W});break}}this.updateLines(A,A)},_.prototype.hideTokensAfterPosition=function(k,D){for(var A=this.session.getTokens(k),R=0,b=!1,x=[],M=0;M<A.length;M++){var L=A[M];if(R+=L.value.length,L.type!=="ghost_text"){if(b){x.push({type:L.type,value:L.value}),L.type="hidden_token";continue}R===D&&(b=!0)}}return this.updateLines(k,k),x},_.prototype.removeExtraToken=function(k,D){this.session.bgTokenizer.lines[k]=null,this.updateLines(k,k)},_.prototype.setTheme=function(k,D){var A=this;if(this.$themeId=k,A._dispatchEvent("themeChange",{theme:k}),!k||typeof k=="string"){var R=k||this.$options.theme.initialValue;c.loadModule(["theme",R],b)}else b(k);function b(x){if(A.$themeId!=k)return D&&D();if(!x||!x.cssClass)throw new Error("couldn't load module "+k+" or it didn't call define");x.$id&&(A.$themeId=x.$id),g.importCssString(x.cssText,x.cssClass,A.container),A.theme&&g.removeCssClass(A.container,A.theme.cssClass);var M="padding"in x?x.padding:"padding"in(A.theme||{})?4:A.$padding;A.$padding&&M!=A.$padding&&A.setPadding(M),A.$theme=x.cssClass,A.theme=x,g.addCssClass(A.container,x.cssClass),g.setCssClass(A.container,"ace_dark",x.isDark),A.$size&&(A.$size.width=0,A.$updateSizeAsync()),A._dispatchEvent("themeLoaded",{theme:x}),D&&D(),w.isSafari&&A.scroller&&(A.scroller.style.background="red",A.scroller.style.background="")}},_.prototype.getTheme=function(){return this.$themeId},_.prototype.setStyle=function(k,D){g.setCssClass(this.container,k,D!==!1)},_.prototype.unsetStyle=function(k){g.removeCssClass(this.container,k)},_.prototype.setCursorStyle=function(k){g.setStyle(this.scroller.style,"cursor",k)},_.prototype.setMouseCursor=function(k){g.setStyle(this.scroller.style,"cursor",k)},_.prototype.attachToShadowRoot=function(){g.importCssString($,"ace_editor.css",this.container)},_.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},_.prototype.$updateCustomScrollbar=function(k){var D=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,k===!0?(this.scrollBarV=new h(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(A){D.$scrollAnimation||D.session.setScrollTop(A.data-D.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(A){D.$scrollAnimation||D.session.setScrollLeft(A.data-D.scrollMargin.left)}),this.$scrollDecorator=new S(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new n(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.addEventListener("scroll",function(A){D.$scrollAnimation||D.session.setScrollTop(A.data-D.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(A){D.$scrollAnimation||D.session.setScrollLeft(A.data-D.scrollMargin.left)}))},_.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var k=this;this.$resizeTimer=m.delayedCall(function(){k.destroyed||k.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(D){var A=D[0].contentRect.width,R=D[0].contentRect.height;Math.abs(k.$size.width-A)>1||Math.abs(k.$size.height-R)>1?k.$resizeTimer.delay():k.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},_}();E.prototype.CHANGE_CURSOR=1,E.prototype.CHANGE_MARKER=2,E.prototype.CHANGE_GUTTER=4,E.prototype.CHANGE_SCROLL=8,E.prototype.CHANGE_LINES=16,E.prototype.CHANGE_TEXT=32,E.prototype.CHANGE_SIZE=64,E.prototype.CHANGE_MARKER_BACK=128,E.prototype.CHANGE_MARKER_FRONT=256,E.prototype.CHANGE_FULL=512,E.prototype.CHANGE_H_SCROLL=1024,E.prototype.$changes=0,E.prototype.$padding=null,E.prototype.$frozen=!1,E.prototype.STEPS=8,d.implement(E.prototype,C),c.defineOptions(E.prototype,"renderer",{useResizeObserver:{set:function(_){!_&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):_&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(_){this.$textLayer.setShowInvisibles(_)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(_){typeof _=="number"&&(this.$printMarginColumn=_),this.$showPrintMargin=!!_,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(_){this.$gutter.style.display=_?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(_){this.$gutterLayer.$useSvgGutterIcons=_},initialValue:!1},showFoldedAnnotations:{set:function(_){this.$gutterLayer.$showFoldedAnnotations=_},initialValue:!1},fadeFoldWidgets:{set:function(_){g.setCssClass(this.$gutter,"ace_fade-fold-widgets",_)},initialValue:!1},showFoldWidgets:{set:function(_){this.$gutterLayer.setShowFoldWidgets(_),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(_){this.$textLayer.setDisplayIndentGuides(_)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(_){this.$textLayer.setHighlightIndentGuides(_)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(_){this.$gutterLayer.setHighlightGutterLine(_),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(_){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(_){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(_){typeof _=="number"&&(_=_+"px"),this.container.style.fontSize=_,this.updateFontSize()},initialValue:12},fontFamily:{set:function(_){this.container.style.fontFamily=_,this.updateFontSize()}},maxLines:{set:function(_){this.updateFull()}},minLines:{set:function(_){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(_){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(_){_=+_||0,this.$scrollPastEnd!=_&&(this.$scrollPastEnd=_,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(_){this.$gutterLayer.$fixedWidth=!!_,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(_){this.$updateCustomScrollbar(_)},initialValue:!1},theme:{set:function(_){this.setTheme(_)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!w.isMobile&&!w.isIE}}),a.VirtualRenderer=E}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,a,p){var d=e("../lib/oop"),g=e("../lib/net"),m=e("../lib/event_emitter").EventEmitter,c=e("../config");function u(t){var n="importScripts('"+g.qualifyURL(t)+"');";try{return new Blob([n],{type:"application/javascript"})}catch{var l=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,h=new l;return h.append(n),h.getBlob("application/javascript")}}function s(t){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(c.get("loadWorkerFromBlob")){var n=u(t),l=window.URL||window.webkitURL,h=l.createObjectURL(n);return new Worker(h)}return new Worker(t)}var i=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){d.implement(this,m),this.$createWorkerFromOldConfig=function(t,n,l,h,v){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),c.get("packaged")||!e.toUrl)h=h||c.moduleUrl(n,"worker");else{var y=this.$normalizePath;h=h||y(e.toUrl("ace/worker/worker.js",null,"_"));var C={};t.forEach(function($){C[$]=y(e.toUrl($,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=s(h),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:C,module:n,classname:l}),this.$worker},this.onMessage=function(t){var n=t.data;switch(n.type){case"event":this._signal(n.name,{data:n.data});break;case"call":var l=this.callbacks[n.id];l&&(l(n.data),delete this.callbacks[n.id]);break;case"error":this.reportError(n.data);break;case"log":window.console&&console.log&&console.log.apply(console,n.data);break}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return g.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(t){t.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,n){this.$worker.postMessage({command:t,args:n})},this.call=function(t,n,l){if(l){var h=this.callbackId++;this.callbacks[h]=l,n.push(h)}this.send(t,n)},this.emit=function(t,n){try{n.data&&n.data.err&&(n.data.err={message:n.data.err.message,stack:n.data.err.stack,code:n.data.err.code}),this.$worker&&this.$worker.postMessage({event:t,data:{data:n.data}})}catch(l){console.error(l.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener,!0)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),t.action=="insert"?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(i.prototype);var r=function(t,n,l){var h=null,v=!1,y=Object.create(m),C=[],$=new i({messageBuffer:C,terminate:function(){},postMessage:function(w){C.push(w),h&&(v?setTimeout(S):S())}});$.setEmitSync=function(w){v=w};var S=function(){var w=C.shift();w.command?h[w.command].apply(h,w.args):w.event&&y._signal(w.event,w.data)};return y.postMessage=function(w){$.onMessage({data:w})},y.callback=function(w,T){this.postMessage({type:"call",id:T,data:w})},y.emit=function(w,T){this.postMessage({type:"event",name:w,data:T})},c.loadModule(["worker",n],function(w){for(h=new w[l](y);C.length;)S()}),$};a.UIWorkerClient=r,a.WorkerClient=i,a.createWorker=s}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,a,p){var d=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,m=e("./lib/oop"),c=function(){function u(s,i,r,t,n,l){var h=this;this.length=i,this.session=s,this.doc=s.getDocument(),this.mainClass=n,this.othersClass=l,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=t,this.$onCursorChange=function(){setTimeout(function(){h.onCursorChange()})},this.$pos=r;var v=s.getUndoManager().$undoStack||s.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),s.selection.on("changeCursor",this.$onCursorChange)}return u.prototype.setup=function(){var s=this,i=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var t=this.pos;t.$insertRight=!0,t.detach(),t.markerId=r.addMarker(new d(t.row,t.column,t.row,t.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var l=i.createAnchor(n.row,n.column);l.$insertRight=!0,l.detach(),s.others.push(l)}),r.setUndoSelect(!1)},u.prototype.showOtherMarkers=function(){if(!this.othersActive){var s=this.session,i=this;this.othersActive=!0,this.others.forEach(function(r){r.markerId=s.addMarker(new d(r.row,r.column,r.row,r.column+i.length),i.othersClass,null,!1)})}},u.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var s=0;s<this.others.length;s++)this.session.removeMarker(this.others[s].markerId)}},u.prototype.onUpdate=function(s){if(this.$updating)return this.updateAnchors(s);var i=s;if(i.start.row===i.end.row&&i.start.row===this.pos.row){this.$updating=!0;var r=s.action==="insert"?i.end.column-i.start.column:i.start.column-i.end.column,t=i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1,n=i.start.column-this.pos.column;if(this.updateAnchors(s),t&&(this.length+=r),t&&!this.session.$fromUndo){if(s.action==="insert")for(var l=this.others.length-1;l>=0;l--){var h=this.others[l],v={row:h.row,column:h.column+n};this.doc.insertMergedLines(v,s.lines)}else if(s.action==="remove")for(var l=this.others.length-1;l>=0;l--){var h=this.others[l],v={row:h.row,column:h.column+n};this.doc.remove(new d(v.row,v.column,v.row,v.column-r))}}this.$updating=!1,this.updateMarkers()}},u.prototype.updateAnchors=function(s){this.pos.onChange(s);for(var i=this.others.length;i--;)this.others[i].onChange(s);this.updateMarkers()},u.prototype.updateMarkers=function(){if(!this.$updating){var s=this,i=this.session,r=function(n,l){i.removeMarker(n.markerId),n.markerId=i.addMarker(new d(n.row,n.column,n.row,n.column+s.length),l,null,!1)};r(this.pos,this.mainClass);for(var t=this.others.length;t--;)r(this.others[t],this.othersClass)}},u.prototype.onCursorChange=function(s){if(!(this.$updating||!this.session)){var i=this.session.selection.getCursor();i.row===this.pos.row&&i.column>=this.pos.column&&i.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",s)):(this.hideOtherMarkers(),this._emit("cursorLeave",s))}},u.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},u.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var s=this.session.getUndoManager(),i=(s.$undoStack||s.$undostack).length-this.$undoStackDepth,r=0;r<i;r++)s.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},u}();m.implement(c.prototype,g),a.PlaceHolder=c}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,a,p){var d=e("../lib/event"),g=e("../lib/useragent");function m(u,s){return u.row==s.row&&u.column==s.column}function c(u){var s=u.domEvent,i=s.altKey,r=s.shiftKey,t=s.ctrlKey,n=u.getAccelKey(),l=u.getButton();if(t&&g.isMac&&(l=s.button),u.editor.inMultiSelectMode&&l==2){u.editor.textInput.onContextMenu(u.domEvent);return}if(!t&&!i&&!n){l===0&&u.editor.inMultiSelectMode&&u.editor.exitMultiSelectMode();return}if(l===0){var h=u.editor,v=h.selection,y=h.inMultiSelectMode,C=u.getDocumentPosition(),$=v.getCursor(),S=u.inSelection()||v.isEmpty()&&m(C,$),w=u.x,T=u.y,E=function(j){w=j.clientX,T=j.clientY},_=h.session,k=h.renderer.pixelToScreenCoordinates(w,T),D=k,A;if(h.$mouseHandler.$enableJumpToDef)t&&i||n&&i?A=r?"block":"add":i&&h.$blockSelectEnabled&&(A="block");else if(n&&!i){if(A="add",!y&&r)return}else i&&h.$blockSelectEnabled&&(A="block");if(A&&g.isMac&&s.ctrlKey&&h.$mouseHandler.cancelContextMenu(),A=="add"){if(!y&&S)return;if(!y){var R=v.toOrientedRange();h.addSelectionMarker(R)}var b=v.rangeList.rangeAtPoint(C);h.inVirtualSelectionMode=!0,r&&(b=null,R=v.ranges[0]||R,h.removeSelectionMarker(R)),h.once("mouseup",function(){var j=v.toOrientedRange();b&&j.isEmpty()&&m(b.cursor,j.cursor)?v.substractPoint(j.cursor):(r?v.substractPoint(R.cursor):R&&(h.removeSelectionMarker(R),v.addRange(R)),v.addRange(j)),h.inVirtualSelectionMode=!1})}else if(A=="block"){u.stop(),h.inVirtualSelectionMode=!0;var x,M=[],L=function(){var j=h.renderer.pixelToScreenCoordinates(w,T),W=_.screenToDocumentPosition(j.row,j.column,j.offsetX);m(D,j)&&m(W,v.lead)||(D=j,h.selection.moveToPosition(W),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(M),M=v.rectangularRangeBlock(D,k),h.$mouseHandler.$clickSelection&&M.length==1&&M[0].isEmpty()&&(M[0]=h.$mouseHandler.$clickSelection.clone()),M.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};y&&!n?v.toSingleRange():!y&&n&&(x=v.toOrientedRange(),h.addSelectionMarker(x)),r?k=_.documentToScreenPosition(v.lead):v.moveToPosition(C),D={row:-1,column:-1};var O=function(j){L(),clearInterval(F),h.removeSelectionMarkers(M),M.length||(M=[v.toOrientedRange()]),x&&(h.removeSelectionMarker(x),v.toSingleRange(x));for(var W=0;W<M.length;W++)v.addRange(M[W]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null},N=L;d.capture(h.container,E,O);var F=setInterval(function(){N()},20);return u.preventDefault()}}}a.onMouseDown=c}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,a,p){a.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(g){g.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(g){g.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(g){g.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(g){g.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(g){g.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(g){g.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(g){g.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(g){g.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(g){g.multiSelect.rangeCount>1?g.multiSelect.joinSelections():g.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(g){g.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(g){g.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(g){g.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],a.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(g){g.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(g){return g&&g.inMultiSelectMode}}];var d=e("../keyboard/hash_handler").HashHandler;a.keyboardHandler=new d(a.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,a,p){var d=e("./range_list").RangeList,g=e("./range").Range,m=e("./selection").Selection,c=e("./mouse/multi_select_handler").onMouseDown,u=e("./lib/event"),s=e("./lib/lang"),i=e("./commands/multi_select_commands");a.commands=i.defaultCommands.concat(i.multiSelectCommands);var r=e("./search").Search,t=new r;function n($,S,w){return t.$options.wrap=!0,t.$options.needle=S,t.$options.backwards=w==-1,t.find($)}var l=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(l.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function($,S){if($){if(!this.inMultiSelectMode&&this.rangeCount===0){var w=this.toOrientedRange();if(this.rangeList.add(w),this.rangeList.add($),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),S||this.fromOrientedRange($);this.rangeList.removeAll(),this.rangeList.add(w),this.$onAddRange(w)}$.cursor||($.cursor=$.end);var T=this.rangeList.add($);return this.$onAddRange($),T.length&&this.$onRemoveRange(T),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),S||this.fromOrientedRange($)}},this.toSingleRange=function($){$=$||this.ranges[0];var S=this.rangeList.removeAll();S.length&&this.$onRemoveRange(S),$&&this.fromOrientedRange($)},this.substractPoint=function($){var S=this.rangeList.substractPoint($);if(S)return this.$onRemoveRange(S),S[0]},this.mergeOverlappingRanges=function(){var $=this.rangeList.merge();$.length&&this.$onRemoveRange($)},this.$onAddRange=function($){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift($),this._signal("addRange",{range:$})},this.$onRemoveRange=function($){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var S=this.rangeList.ranges.pop();$.push(S),this.rangeCount=0}for(var w=$.length;w--;){var T=this.ranges.indexOf($[w]);this.ranges.splice(T,1)}this._signal("removeRange",{ranges:$}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),S=S||this.ranges[0],S&&!S.isEqual(this.getRange())&&this.fromOrientedRange(S)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new d,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var $=this.ranges.length?this.ranges:[this.getRange()],S=[],w=0;w<$.length;w++){var T=$[w],E=T.start.row,_=T.end.row;if(E===_)S.push(T.clone());else{for(S.push(new g(E,T.start.column,E,this.session.getLine(E).length));++E<_;)S.push(this.getLineRange(E,!0));S.push(new g(_,0,_,T.end.column))}w==0&&!this.isBackwards()&&(S=S.reverse())}this.toSingleRange();for(var w=S.length;w--;)this.addRange(S[w])},this.joinSelections=function(){var $=this.rangeList.ranges,S=$[$.length-1],w=g.fromPoints($[0].start,S.end);this.toSingleRange(),this.setSelectionRange(w,S.cursor==S.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var $=this.rangeList.ranges,S=$[$.length-1],w=g.fromPoints($[0].start,S.end);this.toSingleRange(),this.setSelectionRange(w,S.cursor==S.start)}else{var T=this.session.documentToScreenPosition(this.cursor),E=this.session.documentToScreenPosition(this.anchor),_=this.rectangularRangeBlock(T,E);_.forEach(this.addRange,this)}},this.rectangularRangeBlock=function($,S,w){var T=[],E=$.column<S.column;if(E)var _=$.column,k=S.column,D=$.offsetX,A=S.offsetX;else var _=S.column,k=$.column,D=S.offsetX,A=$.offsetX;var R=$.row<S.row;if(R)var b=$.row,x=S.row;else var b=S.row,x=$.row;_<0&&(_=0),b<0&&(b=0),b==x&&(w=!0);for(var M,L=b;L<=x;L++){var O=g.fromPoints(this.session.screenToDocumentPosition(L,_,D),this.session.screenToDocumentPosition(L,k,A));if(O.isEmpty()){if(M&&v(O.end,M))break;M=O.end}O.cursor=E?O.start:O.end,T.push(O)}if(R&&T.reverse(),!w){for(var N=T.length-1;T[N].isEmpty()&&N>0;)N--;if(N>0)for(var F=0;T[F].isEmpty();)F++;for(var j=N;j>=F;j--)T[j].isEmpty()&&T.splice(j,1)}return T}}).call(m.prototype);var h=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function($){$.cursor||($.cursor=$.end);var S=this.getSelectionStyle();return $.marker=this.session.addMarker($,"ace_selection",S),this.session.$selectionMarkers.push($),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,$},this.removeSelectionMarker=function($){if($.marker){this.session.removeMarker($.marker);var S=this.session.$selectionMarkers.indexOf($);S!=-1&&this.session.$selectionMarkers.splice(S,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function($){for(var S=this.session.$selectionMarkers,w=$.length;w--;){var T=$[w];if(T.marker){this.session.removeMarker(T.marker);var E=S.indexOf(T);E!=-1&&S.splice(E,1)}}this.session.selectionMarkerCount=S.length},this.$onAddRange=function($){this.addSelectionMarker($.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function($){this.removeSelectionMarkers($.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function($){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(i.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function($){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(i.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function($){var S=$.command,w=$.editor;if(w.multiSelect){if(S.multiSelectAction)S.multiSelectAction=="forEach"?T=w.forEachSelection(S,$.args):S.multiSelectAction=="forEachLine"?T=w.forEachSelection(S,$.args,!0):S.multiSelectAction=="single"?(w.exitMultiSelectMode(),T=S.exec(w,$.args||{})):T=S.multiSelectAction(w,$.args||{});else{var T=S.exec(w,$.args||{});w.multiSelect.addRange(w.multiSelect.toOrientedRange()),w.multiSelect.mergeOverlappingRanges()}return T}},this.forEachSelection=function($,S,w){if(!this.inVirtualSelectionMode){var T=w&&w.keepOrder,E=w==!0||w&&w.$byLines,_=this.session,k=this.selection,D=k.rangeList,A=(T?k:D).ranges,R;if(!A.length)return $.exec?$.exec(this,S||{}):$(this,S||{});var b=k._eventRegistry;k._eventRegistry={};var x=new m(_);this.inVirtualSelectionMode=!0;for(var M=A.length;M--;){if(E)for(;M>0&&A[M].start.row==A[M-1].end.row;)M--;x.fromOrientedRange(A[M]),x.index=M,this.selection=_.selection=x;var L=$.exec?$.exec(this,S||{}):$(this,S||{});!R&&L!==void 0&&(R=L),x.toOrientedRange(A[M])}x.detach(),this.selection=_.selection=k,this.inVirtualSelectionMode=!1,k._eventRegistry=b,k.mergeOverlappingRanges(),k.ranges[0]&&k.fromOrientedRange(k.ranges[0]);var O=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),O&&O.from==O.to&&this.renderer.animateScrolling(O.from),R}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var $="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var S=this.multiSelect.rangeList.ranges,w=[],T=0;T<S.length;T++)w.push(this.session.getTextRange(S[T]));var E=this.session.getDocument().getNewLineCharacter();$=w.join(E),$.length==(w.length-1)*E.length&&($="")}else this.selection.isEmpty()||($=this.session.getTextRange(this.getSelectionRange()));return $},this.$checkMultiselectChange=function($,S){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var w=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&S==this.multiSelect.anchor)return;var T=S==this.multiSelect.anchor?w.cursor==w.start?w.end:w.start:w.cursor;T.row!=S.row||this.session.$clipPositionToDocument(T.row,T.column).column!=S.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function($,S,w){if(S=S||{},S.needle=$||S.needle,S.needle==null){var T=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();S.needle=this.session.getTextRange(T)}this.$search.set(S);var E=this.$search.findAll(this.session);if(!E.length)return 0;var _=this.multiSelect;w||_.toSingleRange(E[0]);for(var k=E.length;k--;)_.addRange(E[k],!0);return T&&_.rangeList.rangeAtPoint(T.start)&&_.addRange(T,!0),E.length},this.selectMoreLines=function($,S){var w=this.selection.toOrientedRange(),T=w.cursor==w.end,E=this.session.documentToScreenPosition(w.cursor);this.selection.$desiredColumn&&(E.column=this.selection.$desiredColumn);var _=this.session.screenToDocumentPosition(E.row+$,E.column);if(w.isEmpty())var D=_;else var k=this.session.documentToScreenPosition(T?w.end:w.start),D=this.session.screenToDocumentPosition(k.row+$,k.column);if(T){var A=g.fromPoints(_,D);A.cursor=A.start}else{var A=g.fromPoints(D,_);A.cursor=A.end}if(A.desiredColumn=E.column,!this.selection.inMultiSelectMode)this.selection.addRange(w);else if(S)var R=w.cursor;this.selection.addRange(A),R&&this.selection.substractPoint(R)},this.transposeSelections=function($){for(var S=this.session,w=S.multiSelect,T=w.ranges,E=T.length;E--;){var _=T[E];if(_.isEmpty()){var k=S.getWordRange(_.start.row,_.start.column);_.start.row=k.start.row,_.start.column=k.start.column,_.end.row=k.end.row,_.end.column=k.end.column}}w.mergeOverlappingRanges();for(var D=[],E=T.length;E--;){var _=T[E];D.unshift(S.getTextRange(_))}$<0?D.unshift(D.pop()):D.push(D.shift());for(var E=T.length;E--;){var _=T[E],A=_.clone();S.replace(_,D[E]),_.start.row=A.start.row,_.start.column=A.start.column}w.fromOrientedRange(w.ranges[0])},this.selectMore=function($,S,w){var T=this.session,E=T.multiSelect,_=E.toOrientedRange();if(!(_.isEmpty()&&(_=T.getWordRange(_.start.row,_.start.column),_.cursor=$==-1?_.start:_.end,this.multiSelect.addRange(_),w))){var k=T.getTextRange(_),D=n(T,k,$);D&&(D.cursor=$==-1?D.start:D.end,this.session.unfold(D),this.multiSelect.addRange(D),this.renderer.scrollCursorIntoView(null,.5)),S&&this.multiSelect.substractPoint(_.cursor)}},this.alignCursors=function(){var $=this.session,S=$.multiSelect,w=S.ranges,T=-1,E=w.filter(function(N){if(N.cursor.row==T)return!0;T=N.cursor.row});if(!w.length||E.length==w.length-1){var _=this.selection.getRange(),k=_.start.row,D=_.end.row,A=k==D;if(A){var R=this.session.getLength(),b;do b=this.session.getLine(D);while(/[=:]/.test(b)&&++D<R);do b=this.session.getLine(k);while(/[=:]/.test(b)&&--k>0);k<0&&(k=0),D>=R&&(D=R-1)}var x=this.session.removeFullLines(k,D);x=this.$reAlignText(x,A),this.session.insert({row:k,column:0},x.join(`
`)+`
`),A||(_.start.column=0,_.end.column=x[x.length-1].length),this.selection.setRange(_)}else{E.forEach(function(N){S.substractPoint(N.cursor)});var M=0,L=1/0,O=w.map(function(N){var F=N.cursor,j=$.getLine(F.row),W=j.substr(F.column).search(/\S/g);return W==-1&&(W=0),F.column>M&&(M=F.column),W<L&&(L=W),W});w.forEach(function(N,F){var j=N.cursor,W=M-j.column,P=O[F]-L;W>P?$.insert(j,s.stringRepeat(" ",W-P)):$.remove(new g(j.row,j.column,j.row,j.column-W+P)),N.start.column=N.end.column=M,N.start.row=N.end.row=j.row,N.cursor=N.end}),S.fromOrientedRange(w[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function($,S){var w=!0,T=!0,E,_,k;return $.map(function(x){var M=x.match(/(\s*)(.*?)(\s*)([=:].*)/);return M?E==null?(E=M[1].length,_=M[2].length,k=M[3].length,M):(E+_+k!=M[1].length+M[2].length+M[3].length&&(T=!1),E!=M[1].length&&(w=!1),E>M[1].length&&(E=M[1].length),_<M[2].length&&(_=M[2].length),k>M[3].length&&(k=M[3].length),M):[x]}).map(S?A:w?T?R:A:b);function D(x){return s.stringRepeat(" ",x)}function A(x){return x[2]?D(E)+x[2]+D(_-x[2].length+k)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]}function R(x){return x[2]?D(E+_-x[2].length)+x[2]+D(k)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]}function b(x){return x[2]?D(E)+x[2]+D(k)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]}}}).call(h.prototype);function v($,S){return $.row==S.row&&$.column==S.column}a.onSessionChange=function($){var S=$.session;S&&!S.multiSelect&&(S.$selectionMarkers=[],S.selection.$initRangeList(),S.multiSelect=S.selection),this.multiSelect=S&&S.multiSelect;var w=$.oldSession;w&&(w.multiSelect.off("addRange",this.$onAddRange),w.multiSelect.off("removeRange",this.$onRemoveRange),w.multiSelect.off("multiSelect",this.$onMultiSelect),w.multiSelect.off("singleSelect",this.$onSingleSelect),w.multiSelect.lead.off("change",this.$checkMultiselectChange),w.multiSelect.anchor.off("change",this.$checkMultiselectChange)),S&&(S.multiSelect.on("addRange",this.$onAddRange),S.multiSelect.on("removeRange",this.$onRemoveRange),S.multiSelect.on("multiSelect",this.$onMultiSelect),S.multiSelect.on("singleSelect",this.$onSingleSelect),S.multiSelect.lead.on("change",this.$checkMultiselectChange),S.multiSelect.anchor.on("change",this.$checkMultiselectChange)),S&&this.inMultiSelectMode!=S.selection.inMultiSelectMode&&(S.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function y($){$.$multiselectOnSessionChange||($.$onAddRange=$.$onAddRange.bind($),$.$onRemoveRange=$.$onRemoveRange.bind($),$.$onMultiSelect=$.$onMultiSelect.bind($),$.$onSingleSelect=$.$onSingleSelect.bind($),$.$multiselectOnSessionChange=a.onSessionChange.bind($),$.$checkMultiselectChange=$.$checkMultiselectChange.bind($),$.$multiselectOnSessionChange($),$.on("changeSession",$.$multiselectOnSessionChange),$.on("mousedown",c),$.commands.addCommands(i.defaultCommands),C($))}function C($){if(!$.textInput)return;var S=$.textInput.getElement(),w=!1;u.addListener(S,"keydown",function(E){var _=E.keyCode==18&&!(E.ctrlKey||E.shiftKey||E.metaKey);$.$blockSelectEnabled&&_?w||($.renderer.setMouseCursor("crosshair"),w=!0):w&&T()},$),u.addListener(S,"keyup",T,$),u.addListener(S,"blur",T,$);function T(E){w&&($.renderer.setMouseCursor(""),w=!1)}}a.MultiSelect=y,e("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function($){y(this),$?this.on("mousedown",c):this.off("mousedown",c)},value:!0},enableBlockSelect:{set:function($){this.$blockSelectEnabled=$},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,a,p){var d=e("../../range").Range,g=a.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(m,c,u){var s=m.getLine(u);return this.foldingStartMarker.test(s)?"start":c=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(s)?"end":""},this.getFoldWidgetRange=function(m,c,u){return null},this.indentationBlock=function(m,c,u){var s=/\S/,i=m.getLine(c),r=i.search(s);if(r!=-1){for(var t=u||i.length,n=m.getLength(),l=c,h=c;++c<n;){var v=m.getLine(c).search(s);if(v!=-1){if(v<=r){var y=m.getTokenAt(c,0);if(!y||y.type!=="string")break}h=c}}if(h>l){var C=m.getLine(h).length;return new d(l,t,h,C)}}},this.openingBracketBlock=function(m,c,u,s,i){var r={row:u,column:s+1},t=m.$findClosingBracket(c,r,i);if(t){var n=m.foldWidgets[t.row];return n==null&&(n=m.getFoldWidget(t.row)),n=="start"&&t.row>r.row&&(t.row--,t.column=m.getLine(t.row).length),d.fromPoints(r,t)}},this.closingBracketBlock=function(m,c,u,s,i){var r={row:u,column:s},t=m.$findOpeningBracket(c,r);if(t)return t.column++,r.column--,d.fromPoints(t,r)}}).call(g.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(e,a,p){var d=e("../lib/dom"),g=e("../range").Range,m=e("../config").nls;function c(s,i,r){for(var t=0,n=s.length-1;t<=n;){var l=t+n>>1,h=r(i,s[l]);if(h>0)t=l+1;else if(h<0)n=l-1;else return l}return-(t+1)}function u(s,i,r){var t=s.getAnnotations().sort(g.comparePoints);if(t.length){var n=c(t,{row:i,column:-1},g.comparePoints);n<0&&(n=-n-1),n>=t.length?n=r>0?0:t.length-1:n===0&&r<0&&(n=t.length-1);var l=t[n];if(!(!l||!r)){if(l.row===i){do l=t[n+=r];while(l&&l.row===i);if(!l)return t.slice()}var h=[];i=l.row;do h[r<0?"unshift":"push"](l),l=t[n+=r];while(l&&l.row==i);return h.length&&h}}}a.showErrorMarker=function(s,i){var r=s.session,t=s.getCursorPosition(),n=t.row,l=r.widgetManager.getWidgetsAtRow(n).filter(function(E){return E.type=="errorMarker"})[0];l?l.destroy():n-=i;var h=u(r,n,i),v;if(h){var y=h[0];t.column=(y.pos&&typeof y.column!="number"?y.pos.sc:y.column)||0,t.row=y.row,v=s.renderer.$gutterLayer.$annotations[t.row]}else{if(l)return;v={displayText:[m("error-marker.good-state","Looks good!")],className:"ace_ok"}}s.session.unfold(t.row),s.selection.moveToPosition(t);var C={row:t.row,fixedWidth:!0,coverGutter:!0,el:d.createElement("div"),type:"errorMarker"},$=C.el.appendChild(d.createElement("div")),S=C.el.appendChild(d.createElement("div"));S.className="error_widget_arrow "+v.className;var w=s.renderer.$cursorLayer.getPixelPosition(t).left;S.style.left=w+s.renderer.gutterWidth-5+"px",C.el.className="error_widget_wrapper",$.className="error_widget "+v.className,v.displayText.forEach(function(E,_){$.appendChild(d.createTextNode(E)),_<v.displayText.length-1&&$.appendChild(d.createElement("br"))}),$.appendChild(d.createElement("div"));var T=function(E,_,k){if(_===0&&(k==="esc"||k==="return"))return C.destroy(),{command:"null"}};C.destroy=function(){s.$mouseHandler.isMousePressed||(s.keyBinding.removeKeyboardHandler(T),r.widgetManager.removeLineWidget(C),s.off("changeSelection",C.destroy),s.off("changeSession",C.destroy),s.off("mouseup",C.destroy),s.off("change",C.destroy))},s.keyBinding.addKeyboardHandler(T),s.on("changeSelection",C.destroy),s.on("changeSession",C.destroy),s.on("mouseup",C.destroy),s.on("change",C.destroy),s.session.widgetManager.addLineWidget(C),C.el.onmousedown=s.focus.bind(s),s.renderer.scrollCursorIntoView(null,.5,{bottom:C.el.offsetHeight})},d.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(e,a,p){e("./loader_build")(a);var d=e("./lib/dom"),g=e("./range").Range,m=e("./editor").Editor,c=e("./edit_session").EditSession,u=e("./undomanager").UndoManager,s=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),a.config=e("./config"),a.edit=function(r,t){if(typeof r=="string"){var n=r;if(r=document.getElementById(n),!r)throw new Error("ace.edit can't find div #"+n)}if(r&&r.env&&r.env.editor instanceof m)return r.env.editor;var l="";if(r&&/input|textarea/i.test(r.tagName)){var h=r;l=h.value,r=d.createElement("pre"),h.parentNode.replaceChild(r,h)}else r&&(l=r.textContent,r.innerHTML="");var v=a.createEditSession(l),y=new m(new s(r),v,t),C={document:v,editor:y,onResize:y.resize.bind(y,null)};return h&&(C.textarea=h),y.on("destroy",function(){C.editor.container.env=null}),y.container.env=y.env=C,y},a.createEditSession=function(r,t){var n=new c(r,t);return n.setUndoManager(new u),n},a.Range=g,a.Editor=m,a.EditSession=c,a.UndoManager=u,a.VirtualRenderer=s;var i=a.config.version;a.version=i}),function(){ace.require(["ace/ace"],function(e){e&&(e.config.init(!0),e.define=ace.define);var a=function(){return this}();!a&&typeof window<"u"&&(a=window),!a&&typeof self<"u"&&(a=self),a.ace||(a.ace=e);for(var p in e)e.hasOwnProperty(p)&&(a.ace[p]=e[p]);a.ace.default=a.ace,o&&(o.exports=a.ace)})}()}(mi)),mi.exports}var vi={exports:{}},yi,Er;function Nu(){if(Er)return yi;Er=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yi=o,yi}var wi,Tr;function Pu(){if(Tr)return wi;Tr=1;var o=Nu();function f(){}function e(){}return e.resetWarningCache=f,wi=function(){function a(g,m,c,u,s,i){if(i!==o){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}a.isRequired=a;function p(){return a}var d={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:p,element:a,elementType:a,instanceOf:p,node:a,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:e,resetWarningCache:f};return d.PropTypes=d,d},wi}var Lr;function or(){return Lr||(Lr=1,vi.exports=Pu()()),vi.exports}var yn={exports:{}};yn.exports;var Ir;function Cs(){return Ir||(Ir=1,function(o,f){var e=200,a="__lodash_hash_undefined__",p=1,d=2,g=9007199254740991,m="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",s="[object Boolean]",i="[object Date]",r="[object Error]",t="[object Function]",n="[object GeneratorFunction]",l="[object Map]",h="[object Number]",v="[object Null]",y="[object Object]",C="[object Promise]",$="[object Proxy]",S="[object RegExp]",w="[object Set]",T="[object String]",E="[object Symbol]",_="[object Undefined]",k="[object WeakMap]",D="[object ArrayBuffer]",A="[object DataView]",R="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",M="[object Int16Array]",L="[object Int32Array]",O="[object Uint8Array]",N="[object Uint8ClampedArray]",F="[object Uint16Array]",j="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,P=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,H={};H[R]=H[b]=H[x]=H[M]=H[L]=H[O]=H[N]=H[F]=H[j]=!0,H[m]=H[c]=H[D]=H[s]=H[A]=H[i]=H[r]=H[t]=H[l]=H[h]=H[y]=H[S]=H[w]=H[T]=H[k]=!1;var G=typeof gt=="object"&&gt&&gt.Object===Object&&gt,V=typeof self=="object"&&self&&self.Object===Object&&self,Y=G||V||Function("return this")(),K=f&&!f.nodeType&&f,q=K&&!0&&o&&!o.nodeType&&o,J=q&&q.exports===K,ne=J&&G.process,ce=function(){try{return ne&&ne.binding&&ne.binding("util")}catch{}}(),se=ce&&ce.isTypedArray;function le(B,Q){for(var ee=-1,ae=B==null?0:B.length,De=0,we=[];++ee<ae;){var je=B[ee];Q(je,ee,B)&&(we[De++]=je)}return we}function ue(B,Q){for(var ee=-1,ae=Q.length,De=B.length;++ee<ae;)B[De+ee]=Q[ee];return B}function ke(B,Q){for(var ee=-1,ae=B==null?0:B.length;++ee<ae;)if(Q(B[ee],ee,B))return!0;return!1}function de(B,Q){for(var ee=-1,ae=Array(B);++ee<B;)ae[ee]=Q(ee);return ae}function $e(B){return function(Q){return B(Q)}}function Ke(B,Q){return B.has(Q)}function rt(B,Q){return B==null?void 0:B[Q]}function Ve(B){var Q=-1,ee=Array(B.size);return B.forEach(function(ae,De){ee[++Q]=[De,ae]}),ee}function Je(B,Q){return function(ee){return B(Q(ee))}}function Ne(B){var Q=-1,ee=Array(B.size);return B.forEach(function(ae){ee[++Q]=ae}),ee}var Qe=Array.prototype,Z=Function.prototype,ie=Object.prototype,oe=Y["__core-js_shared__"],me=Z.toString,ye=ie.hasOwnProperty,Ce=function(){var B=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return B?"Symbol(src)_1."+B:""}(),xe=ie.toString,Me=RegExp("^"+me.call(ye).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=J?Y.Buffer:void 0,Se=Y.Symbol,X=Y.Uint8Array,te=ie.propertyIsEnumerable,he=Qe.splice,_e=Se?Se.toStringTag:void 0,yt=Object.getOwnPropertySymbols,Dt=Ae?Ae.isBuffer:void 0,Tn=Je(Object.keys,Object),ni=Kt(Y,"DataView"),ln=Kt(Y,"Map"),ii=Kt(Y,"Promise"),ri=Kt(Y,"Set"),oi=Kt(Y,"WeakMap"),cn=Kt(Object,"create"),la=Pt(ni),ca=Pt(ln),ua=Pt(ii),ha=Pt(ri),da=Pt(oi),dr=Se?Se.prototype:void 0,si=dr?dr.valueOf:void 0;function Ot(B){var Q=-1,ee=B==null?0:B.length;for(this.clear();++Q<ee;){var ae=B[Q];this.set(ae[0],ae[1])}}function fa(){this.__data__=cn?cn(null):{},this.size=0}function ga(B){var Q=this.has(B)&&delete this.__data__[B];return this.size-=Q?1:0,Q}function pa(B){var Q=this.__data__;if(cn){var ee=Q[B];return ee===a?void 0:ee}return ye.call(Q,B)?Q[B]:void 0}function ma(B){var Q=this.__data__;return cn?Q[B]!==void 0:ye.call(Q,B)}function va(B,Q){var ee=this.__data__;return this.size+=this.has(B)?0:1,ee[B]=cn&&Q===void 0?a:Q,this}Ot.prototype.clear=fa,Ot.prototype.delete=ga,Ot.prototype.get=pa,Ot.prototype.has=ma,Ot.prototype.set=va;function pt(B){var Q=-1,ee=B==null?0:B.length;for(this.clear();++Q<ee;){var ae=B[Q];this.set(ae[0],ae[1])}}function ya(){this.__data__=[],this.size=0}function wa(B){var Q=this.__data__,ee=In(Q,B);if(ee<0)return!1;var ae=Q.length-1;return ee==ae?Q.pop():he.call(Q,ee,1),--this.size,!0}function ba(B){var Q=this.__data__,ee=In(Q,B);return ee<0?void 0:Q[ee][1]}function xa(B){return In(this.__data__,B)>-1}function Sa(B,Q){var ee=this.__data__,ae=In(ee,B);return ae<0?(++this.size,ee.push([B,Q])):ee[ae][1]=Q,this}pt.prototype.clear=ya,pt.prototype.delete=wa,pt.prototype.get=ba,pt.prototype.has=xa,pt.prototype.set=Sa;function Nt(B){var Q=-1,ee=B==null?0:B.length;for(this.clear();++Q<ee;){var ae=B[Q];this.set(ae[0],ae[1])}}function Ca(){this.size=0,this.__data__={hash:new Ot,map:new(ln||pt),string:new Ot}}function $a(B){var Q=Dn(this,B).delete(B);return this.size-=Q?1:0,Q}function Ma(B){return Dn(this,B).get(B)}function _a(B){return Dn(this,B).has(B)}function Aa(B,Q){var ee=Dn(this,B),ae=ee.size;return ee.set(B,Q),this.size+=ee.size==ae?0:1,this}Nt.prototype.clear=Ca,Nt.prototype.delete=$a,Nt.prototype.get=Ma,Nt.prototype.has=_a,Nt.prototype.set=Aa;function Ln(B){var Q=-1,ee=B==null?0:B.length;for(this.__data__=new Nt;++Q<ee;)this.add(B[Q])}function ka(B){return this.__data__.set(B,a),this}function Ra(B){return this.__data__.has(B)}Ln.prototype.add=Ln.prototype.push=ka,Ln.prototype.has=Ra;function wt(B){var Q=this.__data__=new pt(B);this.size=Q.size}function Ea(){this.__data__=new pt,this.size=0}function Ta(B){var Q=this.__data__,ee=Q.delete(B);return this.size=Q.size,ee}function La(B){return this.__data__.get(B)}function Ia(B){return this.__data__.has(B)}function Da(B,Q){var ee=this.__data__;if(ee instanceof pt){var ae=ee.__data__;if(!ln||ae.length<e-1)return ae.push([B,Q]),this.size=++ee.size,this;ee=this.__data__=new Nt(ae)}return ee.set(B,Q),this.size=ee.size,this}wt.prototype.clear=Ea,wt.prototype.delete=Ta,wt.prototype.get=La,wt.prototype.has=Ia,wt.prototype.set=Da;function Oa(B,Q){var ee=On(B),ae=!ee&&qa(B),De=!ee&&!ae&&ai(B),we=!ee&&!ae&&!De&&xr(B),je=ee||ae||De||we,Ge=je?de(B.length,String):[],Ye=Ge.length;for(var Pe in B)ye.call(B,Pe)&&!(je&&(Pe=="length"||De&&(Pe=="offset"||Pe=="parent")||we&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||Ga(Pe,Ye)))&&Ge.push(Pe);return Ge}function In(B,Q){for(var ee=B.length;ee--;)if(vr(B[ee][0],Q))return ee;return-1}function Na(B,Q,ee){var ae=Q(B);return On(B)?ae:ue(ae,ee(B))}function un(B){return B==null?B===void 0?_:v:_e&&_e in Object(B)?Ba(B):Qa(B)}function fr(B){return hn(B)&&un(B)==m}function gr(B,Q,ee,ae,De){return B===Q?!0:B==null||Q==null||!hn(B)&&!hn(Q)?B!==B&&Q!==Q:Pa(B,Q,ee,ae,gr,De)}function Pa(B,Q,ee,ae,De,we){var je=On(B),Ge=On(Q),Ye=je?c:bt(B),Pe=Ge?c:bt(Q);Ye=Ye==m?y:Ye,Pe=Pe==m?y:Pe;var tt=Ye==y,at=Pe==y,qe=Ye==Pe;if(qe&&ai(B)){if(!ai(Q))return!1;je=!0,tt=!1}if(qe&&!tt)return we||(we=new wt),je||xr(B)?pr(B,Q,ee,ae,De,we):Wa(B,Q,Ye,ee,ae,De,we);if(!(ee&p)){var ot=tt&&ye.call(B,"__wrapped__"),st=at&&ye.call(Q,"__wrapped__");if(ot||st){var xt=ot?B.value():B,mt=st?Q.value():Q;return we||(we=new wt),De(xt,mt,ee,ae,we)}}return qe?(we||(we=new wt),za(B,Q,ee,ae,De,we)):!1}function Fa(B){if(!br(B)||Ya(B))return!1;var Q=yr(B)?Me:P;return Q.test(Pt(B))}function ja(B){return hn(B)&&wr(B.length)&&!!H[un(B)]}function Ha(B){if(!Ka(B))return Tn(B);var Q=[];for(var ee in Object(B))ye.call(B,ee)&&ee!="constructor"&&Q.push(ee);return Q}function pr(B,Q,ee,ae,De,we){var je=ee&p,Ge=B.length,Ye=Q.length;if(Ge!=Ye&&!(je&&Ye>Ge))return!1;var Pe=we.get(B);if(Pe&&we.get(Q))return Pe==Q;var tt=-1,at=!0,qe=ee&d?new Ln:void 0;for(we.set(B,Q),we.set(Q,B);++tt<Ge;){var ot=B[tt],st=Q[tt];if(ae)var xt=je?ae(st,ot,tt,Q,B,we):ae(ot,st,tt,B,Q,we);if(xt!==void 0){if(xt)continue;at=!1;break}if(qe){if(!ke(Q,function(mt,Ft){if(!Ke(qe,Ft)&&(ot===mt||De(ot,mt,ee,ae,we)))return qe.push(Ft)})){at=!1;break}}else if(!(ot===st||De(ot,st,ee,ae,we))){at=!1;break}}return we.delete(B),we.delete(Q),at}function Wa(B,Q,ee,ae,De,we,je){switch(ee){case A:if(B.byteLength!=Q.byteLength||B.byteOffset!=Q.byteOffset)return!1;B=B.buffer,Q=Q.buffer;case D:return!(B.byteLength!=Q.byteLength||!we(new X(B),new X(Q)));case s:case i:case h:return vr(+B,+Q);case r:return B.name==Q.name&&B.message==Q.message;case S:case T:return B==Q+"";case l:var Ge=Ve;case w:var Ye=ae&p;if(Ge||(Ge=Ne),B.size!=Q.size&&!Ye)return!1;var Pe=je.get(B);if(Pe)return Pe==Q;ae|=d,je.set(B,Q);var tt=pr(Ge(B),Ge(Q),ae,De,we,je);return je.delete(B),tt;case E:if(si)return si.call(B)==si.call(Q)}return!1}function za(B,Q,ee,ae,De,we){var je=ee&p,Ge=mr(B),Ye=Ge.length,Pe=mr(Q),tt=Pe.length;if(Ye!=tt&&!je)return!1;for(var at=Ye;at--;){var qe=Ge[at];if(!(je?qe in Q:ye.call(Q,qe)))return!1}var ot=we.get(B);if(ot&&we.get(Q))return ot==Q;var st=!0;we.set(B,Q),we.set(Q,B);for(var xt=je;++at<Ye;){qe=Ge[at];var mt=B[qe],Ft=Q[qe];if(ae)var Sr=je?ae(Ft,mt,qe,Q,B,we):ae(mt,Ft,qe,B,Q,we);if(!(Sr===void 0?mt===Ft||De(mt,Ft,ee,ae,we):Sr)){st=!1;break}xt||(xt=qe=="constructor")}if(st&&!xt){var Nn=B.constructor,Pn=Q.constructor;Nn!=Pn&&"constructor"in B&&"constructor"in Q&&!(typeof Nn=="function"&&Nn instanceof Nn&&typeof Pn=="function"&&Pn instanceof Pn)&&(st=!1)}return we.delete(B),we.delete(Q),st}function mr(B){return Na(B,Ja,Va)}function Dn(B,Q){var ee=B.__data__;return Ua(Q)?ee[typeof Q=="string"?"string":"hash"]:ee.map}function Kt(B,Q){var ee=rt(B,Q);return Fa(ee)?ee:void 0}function Ba(B){var Q=ye.call(B,_e),ee=B[_e];try{B[_e]=void 0;var ae=!0}catch{}var De=xe.call(B);return ae&&(Q?B[_e]=ee:delete B[_e]),De}var Va=yt?function(B){return B==null?[]:(B=Object(B),le(yt(B),function(Q){return te.call(B,Q)}))}:el,bt=un;(ni&&bt(new ni(new ArrayBuffer(1)))!=A||ln&&bt(new ln)!=l||ii&&bt(ii.resolve())!=C||ri&&bt(new ri)!=w||oi&&bt(new oi)!=k)&&(bt=function(B){var Q=un(B),ee=Q==y?B.constructor:void 0,ae=ee?Pt(ee):"";if(ae)switch(ae){case la:return A;case ca:return l;case ua:return C;case ha:return w;case da:return k}return Q});function Ga(B,Q){return Q=Q??g,!!Q&&(typeof B=="number"||z.test(B))&&B>-1&&B%1==0&&B<Q}function Ua(B){var Q=typeof B;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?B!=="__proto__":B===null}function Ya(B){return!!Ce&&Ce in B}function Ka(B){var Q=B&&B.constructor,ee=typeof Q=="function"&&Q.prototype||ie;return B===ee}function Qa(B){return xe.call(B)}function Pt(B){if(B!=null){try{return me.call(B)}catch{}try{return B+""}catch{}}return""}function vr(B,Q){return B===Q||B!==B&&Q!==Q}var qa=fr(function(){return arguments}())?fr:function(B){return hn(B)&&ye.call(B,"callee")&&!te.call(B,"callee")},On=Array.isArray;function Xa(B){return B!=null&&wr(B.length)&&!yr(B)}var ai=Dt||tl;function Za(B,Q){return gr(B,Q)}function yr(B){if(!br(B))return!1;var Q=un(B);return Q==t||Q==n||Q==u||Q==$}function wr(B){return typeof B=="number"&&B>-1&&B%1==0&&B<=g}function br(B){var Q=typeof B;return B!=null&&(Q=="object"||Q=="function")}function hn(B){return B!=null&&typeof B=="object"}var xr=se?$e(se):ja;function Ja(B){return Xa(B)?Oa(B):Ha(B)}function el(){return[]}function tl(){return!1}o.exports=Za}(yn,yn.exports)),yn.exports}var lt={},Dr;function $s(){if(Dr)return lt;Dr=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.getAceInstance=lt.debounce=lt.editorEvents=lt.editorOptions=void 0;var o=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];lt.editorOptions=o;var f=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];lt.editorEvents=f;var e=function(){var p;return typeof window>"u"?(gt.window={},p=Bn(),delete gt.window):window.ace?(p=window.ace,p.acequire=window.ace.require||window.ace.acequire):p=Bn(),p};lt.getAceInstance=e;var a=function(p,d){var g=null;return function(){var m=this,c=arguments;clearTimeout(g),g=setTimeout(function(){p.apply(m,c)},d)}};return lt.debounce=a,lt}var Or;function Fu(){if(Or)return Ct;Or=1;var o=Ct&&Ct.__extends||function(){var u=function(s,i){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])},u(s,i)};return function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");u(s,i);function r(){this.constructor=s}s.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),f=Ct&&Ct.__assign||function(){return f=Object.assign||function(u){for(var s,i=1,r=arguments.length;i<r;i++){s=arguments[i];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(u[t]=s[t])}return u},f.apply(this,arguments)};Object.defineProperty(Ct,"__esModule",{value:!0});var e=Bn(),a=or(),p=Yi(),d=Cs(),g=$s(),m=(0,g.getAceInstance)(),c=function(u){o(s,u);function s(i){var r=u.call(this,i)||this;return g.editorEvents.forEach(function(t){r[t]=r[t].bind(r)}),r.debounce=g.debounce,r}return s.prototype.isInShadow=function(i){for(var r=i&&i.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},s.prototype.componentDidMount=function(){var i=this,r=this.props,t=r.className,n=r.onBeforeLoad,l=r.onValidate,h=r.mode,v=r.focus,y=r.theme,C=r.fontSize,$=r.lineHeight,S=r.value,w=r.defaultValue,T=r.showGutter,E=r.wrapEnabled,_=r.showPrintMargin,k=r.scrollMargin,D=k===void 0?[0,0,0,0]:k,A=r.keyboardHandler,R=r.onLoad,b=r.commands,x=r.annotations,M=r.markers,L=r.placeholder;this.editor=m.edit(this.refEditor),n&&n(m);for(var O=Object.keys(this.props.editorProps),N=0;N<O.length;N++)this.editor[O[N]]=this.props.editorProps[O[N]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(D[0],D[1],D[2],D[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof h=="string"?"ace/mode/".concat(h):h),y&&y!==""&&this.editor.setTheme("ace/theme/".concat(y)),this.editor.setFontSize(typeof C=="number"?"".concat(C,"px"):C),$&&(this.editor.container.style.lineHeight=typeof $=="number"?"".concat($,"px"):"".concat($),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(w||S||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(T),this.editor.getSession().setUseWrapMode(E),this.editor.setShowPrintMargin(_),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),L&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),l&&this.editor.getSession().on("changeAnnotation",function(){var j=i.editor.getSession().getAnnotations();i.props.onValidate(j)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(x||[]),M&&M.length>0&&this.handleMarkers(M);var F=this.editor.$options;g.editorOptions.forEach(function(j){F.hasOwnProperty(j)?i.editor.setOption(j,i.props[j]):i.props[j]&&console.warn("ReactAce: editor option ".concat(j," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(b)&&b.forEach(function(j){typeof j.exec=="string"?i.editor.commands.bindKey(j.bindKey,j.exec):i.editor.commands.addCommand(j)}),A&&this.editor.setKeyboardHandler("ace/keyboard/"+A),t&&(this.refEditor.className+=" "+t),R&&R(this.editor),this.editor.resize(),v&&this.editor.focus()},s.prototype.componentDidUpdate=function(i){for(var r=i,t=this.props,n=0;n<g.editorOptions.length;n++){var l=g.editorOptions[n];t[l]!==r[l]&&this.editor.setOption(l,t[l])}if(t.className!==r.className){var h=this.refEditor.className,v=h.trim().split(" "),y=r.className.trim().split(" ");y.forEach(function(S){var w=v.indexOf(S);v.splice(w,1)}),this.refEditor.className=" "+t.className+" "+v.join(" ")}var C=this.editor&&t.value!=null&&this.editor.getValue()!==t.value;if(C){this.silent=!0;var $=this.editor.session.selection.toJSON();this.editor.setValue(t.value,t.cursorStart),this.editor.session.selection.fromJSON($),this.silent=!1}t.placeholder!==r.placeholder&&this.updatePlaceholder(),t.mode!==r.mode&&this.editor.getSession().setMode(typeof t.mode=="string"?"ace/mode/".concat(t.mode):t.mode),t.theme!==r.theme&&this.editor.setTheme("ace/theme/"+t.theme),t.keyboardHandler!==r.keyboardHandler&&(t.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+t.keyboardHandler):this.editor.setKeyboardHandler(null)),t.fontSize!==r.fontSize&&this.editor.setFontSize(typeof t.fontSize=="number"?"".concat(t.fontSize,"px"):t.fontSize),t.lineHeight!==r.lineHeight&&(this.editor.container.style.lineHeight=typeof t.lineHeight=="number"?"".concat(t.lineHeight,"px"):t.lineHeight,this.editor.renderer.updateFontSize()),t.wrapEnabled!==r.wrapEnabled&&this.editor.getSession().setUseWrapMode(t.wrapEnabled),t.showPrintMargin!==r.showPrintMargin&&this.editor.setShowPrintMargin(t.showPrintMargin),t.showGutter!==r.showGutter&&this.editor.renderer.setShowGutter(t.showGutter),d(t.setOptions,r.setOptions)||this.handleOptions(t),(C||!d(t.annotations,r.annotations))&&this.editor.getSession().setAnnotations(t.annotations||[]),!d(t.markers,r.markers)&&Array.isArray(t.markers)&&this.handleMarkers(t.markers),d(t.scrollMargin,r.scrollMargin)||this.handleScrollMargins(t.scrollMargin),(i.height!==this.props.height||i.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!i.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(i){i===void 0&&(i=[0,0,0,0]),this.editor.renderer.setScrollMargin(i[0],i[1],i[2],i[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(i){if(this.editor&&this.props.onChange&&!this.silent){var r=this.editor.getValue();this.props.onChange(r,i)}},s.prototype.onSelectionChange=function(i){if(this.props.onSelectionChange){var r=this.editor.getSelection();this.props.onSelectionChange(r,i)}},s.prototype.onCursorChange=function(i){if(this.props.onCursorChange){var r=this.editor.getSelection();this.props.onCursorChange(r,i)}},s.prototype.onInput=function(i){this.props.onInput&&this.props.onInput(i),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(i){this.props.onFocus&&this.props.onFocus(i,this.editor)},s.prototype.onBlur=function(i){this.props.onBlur&&this.props.onBlur(i,this.editor)},s.prototype.onCopy=function(i){var r=i.text;this.props.onCopy&&this.props.onCopy(r)},s.prototype.onPaste=function(i){var r=i.text;this.props.onPaste&&this.props.onPaste(r)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(i){for(var r=Object.keys(i.setOptions),t=0;t<r.length;t++)this.editor.setOption(r[t],i.setOptions[r[t]])},s.prototype.handleMarkers=function(i){var r=this,t=this.editor.getSession().getMarkers(!0);for(var n in t)t.hasOwnProperty(n)&&this.editor.getSession().removeMarker(t[n].id);t=this.editor.getSession().getMarkers(!1);for(var n in t)t.hasOwnProperty(n)&&t[n].clazz!=="ace_active-line"&&t[n].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(t[n].id);i.forEach(function(l){var h=l.startRow,v=l.startCol,y=l.endRow,C=l.endCol,$=l.className,S=l.type,w=l.inFront,T=w===void 0?!1:w,E=new e.Range(h,v,y,C);r.editor.getSession().addMarker(E,$,S,T)})},s.prototype.updatePlaceholder=function(){var i=this.editor,r=this.props.placeholder,t=!i.session.getValue().length,n=i.renderer.placeholderNode;!t&&n?(i.renderer.scroller.removeChild(i.renderer.placeholderNode),i.renderer.placeholderNode=null):t&&!n?(n=i.renderer.placeholderNode=document.createElement("div"),n.textContent=r||"",n.className="ace_comment ace_placeholder",n.style.padding="0 9px",n.style.position="absolute",n.style.zIndex="3",i.renderer.scroller.appendChild(n)):t&&n&&(n.textContent=r)},s.prototype.updateRef=function(i){this.refEditor=i},s.prototype.render=function(){var i=this.props,r=i.name,t=i.width,n=i.height,l=i.style,h=f({width:t,height:n},l);return p.createElement("div",{ref:this.updateRef,id:r,style:h})},s.propTypes={mode:a.oneOfType([a.string,a.object]),focus:a.bool,theme:a.string,name:a.string,className:a.string,height:a.string,width:a.string,fontSize:a.oneOfType([a.number,a.string]),lineHeight:a.oneOfType([a.number,a.string]),showGutter:a.bool,onChange:a.func,onCopy:a.func,onPaste:a.func,onFocus:a.func,onInput:a.func,onBlur:a.func,onScroll:a.func,value:a.string,defaultValue:a.string,onLoad:a.func,onSelectionChange:a.func,onCursorChange:a.func,onBeforeLoad:a.func,onValidate:a.func,minLines:a.number,maxLines:a.number,readOnly:a.bool,highlightActiveLine:a.bool,tabSize:a.number,showPrintMargin:a.bool,cursorStart:a.number,debounceChangePeriod:a.number,editorProps:a.object,setOptions:a.object,style:a.object,scrollMargin:a.array,annotations:a.array,markers:a.array,keyboardHandler:a.string,wrapEnabled:a.bool,enableSnippets:a.bool,enableBasicAutocompletion:a.oneOfType([a.bool,a.array]),enableLiveAutocompletion:a.oneOfType([a.bool,a.array]),navigateToFileEnd:a.bool,commands:a.array,placeholder:a.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s}(p.Component);return Ct.default=c,Ct}var Qt={},$t={},bi={exports:{}},Nr;function ju(){return Nr||(Nr=1,function(o,f){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(e,a,p){var d=e("./lib/oop");e("./lib/lang");var g=e("./lib/event_emitter").EventEmitter,m=e("./editor").Editor,c=e("./virtual_renderer").VirtualRenderer,u=e("./edit_session").EditSession,s;s=function(i,r,t){this.BELOW=1,this.BESIDE=0,this.$container=i,this.$theme=r,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(t||1),this.$cEditor=this.$editors[0],this.on("focus",(function(n){this.$cEditor=n}).bind(this))},(function(){d.implement(this,g),this.$createEditor=function(){var i=document.createElement("div");i.className=this.$editorCSS,i.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(i);var r=new m(new c(i,this.$theme));return r.on("focus",(function(){this._emit("focus",r)}).bind(this)),this.$editors.push(r),r.setFontSize(this.$fontSize),r},this.setSplits=function(i){var r;if(i<1)throw"The number of splits have to be > 0!";if(i!=this.$splits){if(i>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<i;)r=this.$editors[this.$splits],this.$container.appendChild(r.container),r.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<i;)this.$createEditor(),this.$splits++}else for(;this.$splits>i;)r=this.$editors[this.$splits-1],this.$container.removeChild(r.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(i){return this.$editors[i]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(i){this.$editors.forEach(function(r){r.setTheme(i)})},this.setKeyboardHandler=function(i){this.$editors.forEach(function(r){r.setKeyboardHandler(i)})},this.forEach=function(i,r){this.$editors.forEach(i,r)},this.$fontSize="",this.setFontSize=function(i){this.$fontSize=i,this.forEach(function(r){r.setFontSize(i)})},this.$cloneSession=function(i){var r=new u(i.getDocument(),i.getMode()),t=i.getUndoManager();return r.setUndoManager(t),r.setTabSize(i.getTabSize()),r.setUseSoftTabs(i.getUseSoftTabs()),r.setOverwrite(i.getOverwrite()),r.setBreakpoints(i.getBreakpoints()),r.setUseWrapMode(i.getUseWrapMode()),r.setUseWorker(i.getUseWorker()),r.setWrapLimitRange(i.$wrapLimitRange.min,i.$wrapLimitRange.max),r.$foldData=i.$cloneFoldData(),r},this.setSession=function(i,r){var t;r==null?t=this.$cEditor:t=this.$editors[r];var n=this.$editors.some(function(l){return l.session===i});return n&&(i=this.$cloneSession(i)),t.setSession(i),i},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(i){this.$orientation!=i&&(this.$orientation=i,this.resize())},this.resize=function(){var i=this.$container.clientWidth,r=this.$container.clientHeight,t;if(this.$orientation==this.BESIDE)for(var n=i/this.$splits,l=0;l<this.$splits;l++)t=this.$editors[l],t.container.style.width=n+"px",t.container.style.top="0px",t.container.style.left=l*n+"px",t.container.style.height=r+"px",t.resize();else for(var h=r/this.$splits,l=0;l<this.$splits;l++)t=this.$editors[l],t.container.style.width=i+"px",t.container.style.top=l*h+"px",t.container.style.left="0px",t.container.style.height=h+"px",t.resize()}}).call(s.prototype),a.Split=s}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(e,a,p){p.exports=e("../split")}),function(){ace.require(["ace/ext/split"],function(e){o&&(o.exports=e)})}()}(bi)),bi.exports}var xi,Pr;function Hu(){if(Pr)return xi;Pr=1;var o="Expected a function",f="__lodash_hash_undefined__",e="[object Function]",a="[object GeneratorFunction]",p="[object Symbol]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/,m=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/[\\^$.*+?()[\]{}|]/g,s=/\\(\\)?/g,i=/^\[object .+?Constructor\]$/,r=typeof gt=="object"&&gt&&gt.Object===Object&&gt,t=typeof self=="object"&&self&&self.Object===Object&&self,n=r||t||Function("return this")();function l(X,te){return X==null?void 0:X[te]}function h(X){var te=!1;if(X!=null&&typeof X.toString!="function")try{te=!!(X+"")}catch{}return te}var v=Array.prototype,y=Function.prototype,C=Object.prototype,$=n["__core-js_shared__"],S=function(){var X=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}(),w=y.toString,T=C.hasOwnProperty,E=C.toString,_=RegExp("^"+w.call(T).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=n.Symbol,D=v.splice,A=Ke(n,"Map"),R=Ke(Object,"create"),b=k?k.prototype:void 0,x=b?b.toString:void 0;function M(X){var te=-1,he=X?X.length:0;for(this.clear();++te<he;){var _e=X[te];this.set(_e[0],_e[1])}}function L(){this.__data__=R?R(null):{}}function O(X){return this.has(X)&&delete this.__data__[X]}function N(X){var te=this.__data__;if(R){var he=te[X];return he===f?void 0:he}return T.call(te,X)?te[X]:void 0}function F(X){var te=this.__data__;return R?te[X]!==void 0:T.call(te,X)}function j(X,te){var he=this.__data__;return he[X]=R&&te===void 0?f:te,this}M.prototype.clear=L,M.prototype.delete=O,M.prototype.get=N,M.prototype.has=F,M.prototype.set=j;function W(X){var te=-1,he=X?X.length:0;for(this.clear();++te<he;){var _e=X[te];this.set(_e[0],_e[1])}}function P(){this.__data__=[]}function z(X){var te=this.__data__,he=se(te,X);if(he<0)return!1;var _e=te.length-1;return he==_e?te.pop():D.call(te,he,1),!0}function H(X){var te=this.__data__,he=se(te,X);return he<0?void 0:te[he][1]}function G(X){return se(this.__data__,X)>-1}function V(X,te){var he=this.__data__,_e=se(he,X);return _e<0?he.push([X,te]):he[_e][1]=te,this}W.prototype.clear=P,W.prototype.delete=z,W.prototype.get=H,W.prototype.has=G,W.prototype.set=V;function Y(X){var te=-1,he=X?X.length:0;for(this.clear();++te<he;){var _e=X[te];this.set(_e[0],_e[1])}}function K(){this.__data__={hash:new M,map:new(A||W),string:new M}}function q(X){return $e(this,X).delete(X)}function J(X){return $e(this,X).get(X)}function ne(X){return $e(this,X).has(X)}function ce(X,te){return $e(this,X).set(X,te),this}Y.prototype.clear=K,Y.prototype.delete=q,Y.prototype.get=J,Y.prototype.has=ne,Y.prototype.set=ce;function se(X,te){for(var he=X.length;he--;)if(oe(X[he][0],te))return he;return-1}function le(X,te){te=rt(te,X)?[te]:de(te);for(var he=0,_e=te.length;X!=null&&he<_e;)X=X[Qe(te[he++])];return he&&he==_e?X:void 0}function ue(X){if(!Ce(X)||Je(X))return!1;var te=ye(X)||h(X)?_:i;return te.test(Z(X))}function ke(X){if(typeof X=="string")return X;if(Me(X))return x?x.call(X):"";var te=X+"";return te=="0"&&1/X==-1/0?"-0":te}function de(X){return me(X)?X:Ne(X)}function $e(X,te){var he=X.__data__;return Ve(te)?he[typeof te=="string"?"string":"hash"]:he.map}function Ke(X,te){var he=l(X,te);return ue(he)?he:void 0}function rt(X,te){if(me(X))return!1;var he=typeof X;return he=="number"||he=="symbol"||he=="boolean"||X==null||Me(X)?!0:g.test(X)||!d.test(X)||te!=null&&X in Object(te)}function Ve(X){var te=typeof X;return te=="string"||te=="number"||te=="symbol"||te=="boolean"?X!=="__proto__":X===null}function Je(X){return!!S&&S in X}var Ne=ie(function(X){X=Ae(X);var te=[];return m.test(X)&&te.push(""),X.replace(c,function(he,_e,yt,Dt){te.push(yt?Dt.replace(s,"$1"):_e||he)}),te});function Qe(X){if(typeof X=="string"||Me(X))return X;var te=X+"";return te=="0"&&1/X==-1/0?"-0":te}function Z(X){if(X!=null){try{return w.call(X)}catch{}try{return X+""}catch{}}return""}function ie(X,te){if(typeof X!="function"||te&&typeof te!="function")throw new TypeError(o);var he=function(){var _e=arguments,yt=te?te.apply(this,_e):_e[0],Dt=he.cache;if(Dt.has(yt))return Dt.get(yt);var Tn=X.apply(this,_e);return he.cache=Dt.set(yt,Tn),Tn};return he.cache=new(ie.Cache||Y),he}ie.Cache=Y;function oe(X,te){return X===te||X!==X&&te!==te}var me=Array.isArray;function ye(X){var te=Ce(X)?E.call(X):"";return te==e||te==a}function Ce(X){var te=typeof X;return!!X&&(te=="object"||te=="function")}function xe(X){return!!X&&typeof X=="object"}function Me(X){return typeof X=="symbol"||xe(X)&&E.call(X)==p}function Ae(X){return X==null?"":ke(X)}function Se(X,te,he){var _e=X==null?void 0:le(X,te);return _e===void 0?he:_e}return xi=Se,xi}var Fr;function Ms(){if(Fr)return $t;Fr=1;var o=$t&&$t.__extends||function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(n[h]=l[h])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),f=$t&&$t.__assign||function(){return f=Object.assign||function(i){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(i[l]=r[l])}return i},f.apply(this,arguments)};Object.defineProperty($t,"__esModule",{value:!0});var e=$s(),a=(0,e.getAceInstance)(),p=Bn(),d=ju(),g=or(),m=Yi(),c=Cs(),u=Hu(),s=function(i){o(r,i);function r(t){var n=i.call(this,t)||this;return e.editorEvents.forEach(function(l){n[l]=n[l].bind(n)}),n.debounce=e.debounce,n}return r.prototype.isInShadow=function(t){for(var n=t&&t.parentNode;n;){if(n.toString()==="[object ShadowRoot]")return!0;n=n.parentNode}return!1},r.prototype.componentDidMount=function(){var t=this,n=this.props,l=n.className,h=n.onBeforeLoad,v=n.mode,y=n.focus,C=n.theme,$=n.fontSize,S=n.value,w=n.defaultValue,T=n.cursorStart,E=n.showGutter,_=n.wrapEnabled,k=n.showPrintMargin,D=n.scrollMargin,A=D===void 0?[0,0,0,0]:D,R=n.keyboardHandler,b=n.onLoad,x=n.commands,M=n.annotations,L=n.markers,O=n.splits;this.editor=a.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(C)),h&&h(a);var N=Object.keys(this.props.editorProps),F=new d.Split(this.editor.container,"ace/theme/".concat(C),O);this.editor.env.split=F,this.splitEditor=F.getEditor(0),this.split=F,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var j=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),F.forEach(function(P,z){for(var H=0;H<N.length;H++)P[N[H]]=t.props.editorProps[N[H]];var G=u(w,z),V=u(S,z,"");P.session.setUndoManager(new a.UndoManager),P.setTheme("ace/theme/".concat(C)),P.renderer.setScrollMargin(A[0],A[1],A[2],A[3]),P.getSession().setMode("ace/mode/".concat(v)),P.setFontSize($),P.renderer.setShowGutter(E),P.getSession().setUseWrapMode(_),P.setShowPrintMargin(k),P.on("focus",t.onFocus),P.on("blur",t.onBlur),P.on("input",t.onInput),P.on("copy",t.onCopy),P.on("paste",t.onPaste),P.on("change",t.onChange),P.getSession().selection.on("changeSelection",t.onSelectionChange),P.getSession().selection.on("changeCursor",t.onCursorChange),P.session.on("changeScrollTop",t.onScroll),P.setValue(G===void 0?V:G,T);var Y=u(M,z,[]),K=u(L,z,[]);P.getSession().setAnnotations(Y),K&&K.length>0&&t.handleMarkers(K,P);for(var H=0;H<e.editorOptions.length;H++){var q=e.editorOptions[H];j.hasOwnProperty(q)?P.setOption(q,t.props[q]):t.props[q]&&console.warn("ReaceAce: editor option ".concat(q," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}t.handleOptions(t.props,P),Array.isArray(x)&&x.forEach(function(J){typeof J.exec=="string"?P.commands.bindKey(J.bindKey,J.exec):P.commands.addCommand(J)}),R&&P.setKeyboardHandler("ace/keyboard/"+R)}),l&&(this.refEditor.className+=" "+l),y&&this.splitEditor.focus();var W=this.editor.env.split;W.setOrientation(this.props.orientation==="below"?W.BELOW:W.BESIDE),W.resize(!0),b&&b(W)},r.prototype.componentDidUpdate=function(t){var n=this,l=t,h=this.props,v=this.editor.env.split;if(h.splits!==l.splits&&v.setSplits(h.splits),h.orientation!==l.orientation&&v.setOrientation(h.orientation==="below"?v.BELOW:v.BESIDE),v.forEach(function(S,w){h.mode!==l.mode&&S.getSession().setMode("ace/mode/"+h.mode),h.keyboardHandler!==l.keyboardHandler&&(h.keyboardHandler?S.setKeyboardHandler("ace/keyboard/"+h.keyboardHandler):S.setKeyboardHandler(null)),h.fontSize!==l.fontSize&&S.setFontSize(h.fontSize),h.wrapEnabled!==l.wrapEnabled&&S.getSession().setUseWrapMode(h.wrapEnabled),h.showPrintMargin!==l.showPrintMargin&&S.setShowPrintMargin(h.showPrintMargin),h.showGutter!==l.showGutter&&S.renderer.setShowGutter(h.showGutter);for(var T=0;T<e.editorOptions.length;T++){var E=e.editorOptions[T];h[E]!==l[E]&&S.setOption(E,h[E])}c(h.setOptions,l.setOptions)||n.handleOptions(h,S);var _=u(h.value,w,"");if(S.getValue()!==_){n.silent=!0;var k=S.session.selection.toJSON();S.setValue(_,h.cursorStart),S.session.selection.fromJSON(k),n.silent=!1}var D=u(h.annotations,w,[]),A=u(l.annotations,w,[]);c(D,A)||S.getSession().setAnnotations(D);var R=u(h.markers,w,[]),b=u(l.markers,w,[]);!c(R,b)&&Array.isArray(R)&&n.handleMarkers(R,S)}),h.className!==l.className){var y=this.refEditor.className,C=y.trim().split(" "),$=l.className.trim().split(" ");$.forEach(function(S){var w=C.indexOf(S);C.splice(w,1)}),this.refEditor.className=" "+h.className+" "+C.join(" ")}h.theme!==l.theme&&v.setTheme("ace/theme/"+h.theme),h.focus&&!l.focus&&this.splitEditor.focus(),(h.height!==this.props.height||h.width!==this.props.width)&&this.editor.resize()},r.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},r.prototype.onChange=function(t){if(this.props.onChange&&!this.silent){var n=[];this.editor.env.split.forEach(function(l){n.push(l.getValue())}),this.props.onChange(n,t)}},r.prototype.onSelectionChange=function(t){if(this.props.onSelectionChange){var n=[];this.editor.env.split.forEach(function(l){n.push(l.getSelection())}),this.props.onSelectionChange(n,t)}},r.prototype.onCursorChange=function(t){if(this.props.onCursorChange){var n=[];this.editor.env.split.forEach(function(l){n.push(l.getSelection())}),this.props.onCursorChange(n,t)}},r.prototype.onFocus=function(t){this.props.onFocus&&this.props.onFocus(t)},r.prototype.onInput=function(t){this.props.onInput&&this.props.onInput(t)},r.prototype.onBlur=function(t){this.props.onBlur&&this.props.onBlur(t)},r.prototype.onCopy=function(t){this.props.onCopy&&this.props.onCopy(t)},r.prototype.onPaste=function(t){this.props.onPaste&&this.props.onPaste(t)},r.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},r.prototype.handleOptions=function(t,n){for(var l=Object.keys(t.setOptions),h=0;h<l.length;h++)n.setOption(l[h],t.setOptions[l[h]])},r.prototype.handleMarkers=function(t,n){var l=n.getSession().getMarkers(!0);for(var h in l)l.hasOwnProperty(h)&&n.getSession().removeMarker(l[h].id);l=n.getSession().getMarkers(!1);for(var h in l)l.hasOwnProperty(h)&&n.getSession().removeMarker(l[h].id);t.forEach(function(v){var y=v.startRow,C=v.startCol,$=v.endRow,S=v.endCol,w=v.className,T=v.type,E=v.inFront,_=E===void 0?!1:E,k=new p.Range(y,C,$,S);n.getSession().addMarker(k,w,T,_)})},r.prototype.updateRef=function(t){this.refEditor=t},r.prototype.render=function(){var t=this.props,n=t.name,l=t.width,h=t.height,v=t.style,y=f({width:l,height:h},v);return m.createElement("div",{ref:this.updateRef,id:n,style:y})},r.propTypes={className:g.string,debounceChangePeriod:g.number,defaultValue:g.arrayOf(g.string),focus:g.bool,fontSize:g.oneOfType([g.number,g.string]),height:g.string,mode:g.string,name:g.string,onBlur:g.func,onChange:g.func,onCopy:g.func,onFocus:g.func,onInput:g.func,onLoad:g.func,onPaste:g.func,onScroll:g.func,orientation:g.string,showGutter:g.bool,splits:g.number,theme:g.string,value:g.arrayOf(g.string),width:g.string,onSelectionChange:g.func,onCursorChange:g.func,onBeforeLoad:g.func,minLines:g.number,maxLines:g.number,readOnly:g.bool,highlightActiveLine:g.bool,tabSize:g.number,showPrintMargin:g.bool,cursorStart:g.number,editorProps:g.object,setOptions:g.object,style:g.object,scrollMargin:g.array,annotations:g.array,markers:g.array,keyboardHandler:g.string,wrapEnabled:g.bool,enableBasicAutocompletion:g.oneOfType([g.bool,g.array]),enableLiveAutocompletion:g.oneOfType([g.bool,g.array]),commands:g.array},r.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},r}(m.Component);return $t.default=s,$t}var Si={exports:{}},jr;function Wu(){return jr||(jr=1,function(o){var f=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},e=-1,a=1,p=0;f.Diff=function(d,g){return[d,g]},f.prototype.diff_main=function(d,g,m,c){typeof c>"u"&&(this.Diff_Timeout<=0?c=Number.MAX_VALUE:c=new Date().getTime()+this.Diff_Timeout*1e3);var u=c;if(d==null||g==null)throw new Error("Null input. (diff_main)");if(d==g)return d?[new f.Diff(p,d)]:[];typeof m>"u"&&(m=!0);var s=m,i=this.diff_commonPrefix(d,g),r=d.substring(0,i);d=d.substring(i),g=g.substring(i),i=this.diff_commonSuffix(d,g);var t=d.substring(d.length-i);d=d.substring(0,d.length-i),g=g.substring(0,g.length-i);var n=this.diff_compute_(d,g,s,u);return r&&n.unshift(new f.Diff(p,r)),t&&n.push(new f.Diff(p,t)),this.diff_cleanupMerge(n),n},f.prototype.diff_compute_=function(d,g,m,c){var u;if(!d)return[new f.Diff(a,g)];if(!g)return[new f.Diff(e,d)];var s=d.length>g.length?d:g,i=d.length>g.length?g:d,r=s.indexOf(i);if(r!=-1)return u=[new f.Diff(a,s.substring(0,r)),new f.Diff(p,i),new f.Diff(a,s.substring(r+i.length))],d.length>g.length&&(u[0][0]=u[2][0]=e),u;if(i.length==1)return[new f.Diff(e,d),new f.Diff(a,g)];var t=this.diff_halfMatch_(d,g);if(t){var n=t[0],l=t[1],h=t[2],v=t[3],y=t[4],C=this.diff_main(n,h,m,c),$=this.diff_main(l,v,m,c);return C.concat([new f.Diff(p,y)],$)}return m&&d.length>100&&g.length>100?this.diff_lineMode_(d,g,c):this.diff_bisect_(d,g,c)},f.prototype.diff_lineMode_=function(d,g,m){var c=this.diff_linesToChars_(d,g);d=c.chars1,g=c.chars2;var u=c.lineArray,s=this.diff_main(d,g,!1,m);this.diff_charsToLines_(s,u),this.diff_cleanupSemantic(s),s.push(new f.Diff(p,""));for(var i=0,r=0,t=0,n="",l="";i<s.length;){switch(s[i][0]){case a:t++,l+=s[i][1];break;case e:r++,n+=s[i][1];break;case p:if(r>=1&&t>=1){s.splice(i-r-t,r+t),i=i-r-t;for(var h=this.diff_main(n,l,!1,m),v=h.length-1;v>=0;v--)s.splice(i,0,h[v]);i=i+h.length}t=0,r=0,n="",l="";break}i++}return s.pop(),s},f.prototype.diff_bisect_=function(d,g,m){for(var c=d.length,u=g.length,s=Math.ceil((c+u)/2),i=s,r=2*s,t=new Array(r),n=new Array(r),l=0;l<r;l++)t[l]=-1,n[l]=-1;t[i+1]=0,n[i+1]=0;for(var h=c-u,v=h%2!=0,y=0,C=0,$=0,S=0,w=0;w<s&&!(new Date().getTime()>m);w++){for(var T=-w+y;T<=w-C;T+=2){var E=i+T,_;T==-w||T!=w&&t[E-1]<t[E+1]?_=t[E+1]:_=t[E-1]+1;for(var k=_-T;_<c&&k<u&&d.charAt(_)==g.charAt(k);)_++,k++;if(t[E]=_,_>c)C+=2;else if(k>u)y+=2;else if(v){var D=i+h-T;if(D>=0&&D<r&&n[D]!=-1){var A=c-n[D];if(_>=A)return this.diff_bisectSplit_(d,g,_,k,m)}}}for(var R=-w+$;R<=w-S;R+=2){var D=i+R,A;R==-w||R!=w&&n[D-1]<n[D+1]?A=n[D+1]:A=n[D-1]+1;for(var b=A-R;A<c&&b<u&&d.charAt(c-A-1)==g.charAt(u-b-1);)A++,b++;if(n[D]=A,A>c)S+=2;else if(b>u)$+=2;else if(!v){var E=i+h-R;if(E>=0&&E<r&&t[E]!=-1){var _=t[E],k=i+_-E;if(A=c-A,_>=A)return this.diff_bisectSplit_(d,g,_,k,m)}}}}return[new f.Diff(e,d),new f.Diff(a,g)]},f.prototype.diff_bisectSplit_=function(d,g,m,c,u){var s=d.substring(0,m),i=g.substring(0,c),r=d.substring(m),t=g.substring(c),n=this.diff_main(s,i,!1,u),l=this.diff_main(r,t,!1,u);return n.concat(l)},f.prototype.diff_linesToChars_=function(d,g){var m=[],c={};m[0]="";function u(t){for(var n="",l=0,h=-1,v=m.length;h<t.length-1;){h=t.indexOf(`
`,l),h==-1&&(h=t.length-1);var y=t.substring(l,h+1);(c.hasOwnProperty?c.hasOwnProperty(y):c[y]!==void 0)?n+=String.fromCharCode(c[y]):(v==s&&(y=t.substring(l),h=t.length),n+=String.fromCharCode(v),c[y]=v,m[v++]=y),l=h+1}return n}var s=4e4,i=u(d);s=65535;var r=u(g);return{chars1:i,chars2:r,lineArray:m}},f.prototype.diff_charsToLines_=function(d,g){for(var m=0;m<d.length;m++){for(var c=d[m][1],u=[],s=0;s<c.length;s++)u[s]=g[c.charCodeAt(s)];d[m][1]=u.join("")}},f.prototype.diff_commonPrefix=function(d,g){if(!d||!g||d.charAt(0)!=g.charAt(0))return 0;for(var m=0,c=Math.min(d.length,g.length),u=c,s=0;m<u;)d.substring(s,u)==g.substring(s,u)?(m=u,s=m):c=u,u=Math.floor((c-m)/2+m);return u},f.prototype.diff_commonSuffix=function(d,g){if(!d||!g||d.charAt(d.length-1)!=g.charAt(g.length-1))return 0;for(var m=0,c=Math.min(d.length,g.length),u=c,s=0;m<u;)d.substring(d.length-u,d.length-s)==g.substring(g.length-u,g.length-s)?(m=u,s=m):c=u,u=Math.floor((c-m)/2+m);return u},f.prototype.diff_commonOverlap_=function(d,g){var m=d.length,c=g.length;if(m==0||c==0)return 0;m>c?d=d.substring(m-c):m<c&&(g=g.substring(0,m));var u=Math.min(m,c);if(d==g)return u;for(var s=0,i=1;;){var r=d.substring(u-i),t=g.indexOf(r);if(t==-1)return s;i+=t,(t==0||d.substring(u-i)==g.substring(0,i))&&(s=i,i++)}},f.prototype.diff_halfMatch_=function(d,g){if(this.Diff_Timeout<=0)return null;var m=d.length>g.length?d:g,c=d.length>g.length?g:d;if(m.length<4||c.length*2<m.length)return null;var u=this;function s(C,$,S){for(var w=C.substring(S,S+Math.floor(C.length/4)),T=-1,E="",_,k,D,A;(T=$.indexOf(w,T+1))!=-1;){var R=u.diff_commonPrefix(C.substring(S),$.substring(T)),b=u.diff_commonSuffix(C.substring(0,S),$.substring(0,T));E.length<b+R&&(E=$.substring(T-b,T)+$.substring(T,T+R),_=C.substring(0,S-b),k=C.substring(S+R),D=$.substring(0,T-b),A=$.substring(T+R))}return E.length*2>=C.length?[_,k,D,A,E]:null}var i=s(m,c,Math.ceil(m.length/4)),r=s(m,c,Math.ceil(m.length/2)),t;if(!i&&!r)return null;r?i?t=i[4].length>r[4].length?i:r:t=r:t=i;var n,l,h,v;d.length>g.length?(n=t[0],l=t[1],h=t[2],v=t[3]):(h=t[0],v=t[1],n=t[2],l=t[3]);var y=t[4];return[n,l,h,v,y]},f.prototype.diff_cleanupSemantic=function(d){for(var g=!1,m=[],c=0,u=null,s=0,i=0,r=0,t=0,n=0;s<d.length;)d[s][0]==p?(m[c++]=s,i=t,r=n,t=0,n=0,u=d[s][1]):(d[s][0]==a?t+=d[s][1].length:n+=d[s][1].length,u&&u.length<=Math.max(i,r)&&u.length<=Math.max(t,n)&&(d.splice(m[c-1],0,new f.Diff(e,u)),d[m[c-1]+1][0]=a,c--,c--,s=c>0?m[c-1]:-1,i=0,r=0,t=0,n=0,u=null,g=!0)),s++;for(g&&this.diff_cleanupMerge(d),this.diff_cleanupSemanticLossless(d),s=1;s<d.length;){if(d[s-1][0]==e&&d[s][0]==a){var l=d[s-1][1],h=d[s][1],v=this.diff_commonOverlap_(l,h),y=this.diff_commonOverlap_(h,l);v>=y?(v>=l.length/2||v>=h.length/2)&&(d.splice(s,0,new f.Diff(p,h.substring(0,v))),d[s-1][1]=l.substring(0,l.length-v),d[s+1][1]=h.substring(v),s++):(y>=l.length/2||y>=h.length/2)&&(d.splice(s,0,new f.Diff(p,l.substring(0,y))),d[s-1][0]=a,d[s-1][1]=h.substring(0,h.length-y),d[s+1][0]=e,d[s+1][1]=l.substring(y),s++),s++}s++}},f.prototype.diff_cleanupSemanticLossless=function(d){function g(y,C){if(!y||!C)return 6;var $=y.charAt(y.length-1),S=C.charAt(0),w=$.match(f.nonAlphaNumericRegex_),T=S.match(f.nonAlphaNumericRegex_),E=w&&$.match(f.whitespaceRegex_),_=T&&S.match(f.whitespaceRegex_),k=E&&$.match(f.linebreakRegex_),D=_&&S.match(f.linebreakRegex_),A=k&&y.match(f.blanklineEndRegex_),R=D&&C.match(f.blanklineStartRegex_);return A||R?5:k||D?4:w&&!E&&_?3:E||_?2:w||T?1:0}for(var m=1;m<d.length-1;){if(d[m-1][0]==p&&d[m+1][0]==p){var c=d[m-1][1],u=d[m][1],s=d[m+1][1],i=this.diff_commonSuffix(c,u);if(i){var r=u.substring(u.length-i);c=c.substring(0,c.length-i),u=r+u.substring(0,u.length-i),s=r+s}for(var t=c,n=u,l=s,h=g(c,u)+g(u,s);u.charAt(0)===s.charAt(0);){c+=u.charAt(0),u=u.substring(1)+s.charAt(0),s=s.substring(1);var v=g(c,u)+g(u,s);v>=h&&(h=v,t=c,n=u,l=s)}d[m-1][1]!=t&&(t?d[m-1][1]=t:(d.splice(m-1,1),m--),d[m][1]=n,l?d[m+1][1]=l:(d.splice(m+1,1),m--))}m++}},f.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,f.whitespaceRegex_=/\s/,f.linebreakRegex_=/[\r\n]/,f.blanklineEndRegex_=/\n\r?\n$/,f.blanklineStartRegex_=/^\r?\n\r?\n/,f.prototype.diff_cleanupEfficiency=function(d){for(var g=!1,m=[],c=0,u=null,s=0,i=!1,r=!1,t=!1,n=!1;s<d.length;)d[s][0]==p?(d[s][1].length<this.Diff_EditCost&&(t||n)?(m[c++]=s,i=t,r=n,u=d[s][1]):(c=0,u=null),t=n=!1):(d[s][0]==e?n=!0:t=!0,u&&(i&&r&&t&&n||u.length<this.Diff_EditCost/2&&i+r+t+n==3)&&(d.splice(m[c-1],0,new f.Diff(e,u)),d[m[c-1]+1][0]=a,c--,u=null,i&&r?(t=n=!0,c=0):(c--,s=c>0?m[c-1]:-1,t=n=!1),g=!0)),s++;g&&this.diff_cleanupMerge(d)},f.prototype.diff_cleanupMerge=function(d){d.push(new f.Diff(p,""));for(var g=0,m=0,c=0,u="",s="",i;g<d.length;)switch(d[g][0]){case a:c++,s+=d[g][1],g++;break;case e:m++,u+=d[g][1],g++;break;case p:m+c>1?(m!==0&&c!==0&&(i=this.diff_commonPrefix(s,u),i!==0&&(g-m-c>0&&d[g-m-c-1][0]==p?d[g-m-c-1][1]+=s.substring(0,i):(d.splice(0,0,new f.Diff(p,s.substring(0,i))),g++),s=s.substring(i),u=u.substring(i)),i=this.diff_commonSuffix(s,u),i!==0&&(d[g][1]=s.substring(s.length-i)+d[g][1],s=s.substring(0,s.length-i),u=u.substring(0,u.length-i))),g-=m+c,d.splice(g,m+c),u.length&&(d.splice(g,0,new f.Diff(e,u)),g++),s.length&&(d.splice(g,0,new f.Diff(a,s)),g++),g++):g!==0&&d[g-1][0]==p?(d[g-1][1]+=d[g][1],d.splice(g,1)):g++,c=0,m=0,u="",s="";break}d[d.length-1][1]===""&&d.pop();var r=!1;for(g=1;g<d.length-1;)d[g-1][0]==p&&d[g+1][0]==p&&(d[g][1].substring(d[g][1].length-d[g-1][1].length)==d[g-1][1]?(d[g][1]=d[g-1][1]+d[g][1].substring(0,d[g][1].length-d[g-1][1].length),d[g+1][1]=d[g-1][1]+d[g+1][1],d.splice(g-1,1),r=!0):d[g][1].substring(0,d[g+1][1].length)==d[g+1][1]&&(d[g-1][1]+=d[g+1][1],d[g][1]=d[g][1].substring(d[g+1][1].length)+d[g+1][1],d.splice(g+1,1),r=!0)),g++;r&&this.diff_cleanupMerge(d)},f.prototype.diff_xIndex=function(d,g){var m=0,c=0,u=0,s=0,i;for(i=0;i<d.length&&(d[i][0]!==a&&(m+=d[i][1].length),d[i][0]!==e&&(c+=d[i][1].length),!(m>g));i++)u=m,s=c;return d.length!=i&&d[i][0]===e?s:s+(g-u)},f.prototype.diff_prettyHtml=function(d){for(var g=[],m=/&/g,c=/</g,u=/>/g,s=/\n/g,i=0;i<d.length;i++){var r=d[i][0],t=d[i][1],n=t.replace(m,"&amp;").replace(c,"&lt;").replace(u,"&gt;").replace(s,"&para;<br>");switch(r){case a:g[i]='<ins style="background:#e6ffe6;">'+n+"</ins>";break;case e:g[i]='<del style="background:#ffe6e6;">'+n+"</del>";break;case p:g[i]="<span>"+n+"</span>";break}}return g.join("")},f.prototype.diff_text1=function(d){for(var g=[],m=0;m<d.length;m++)d[m][0]!==a&&(g[m]=d[m][1]);return g.join("")},f.prototype.diff_text2=function(d){for(var g=[],m=0;m<d.length;m++)d[m][0]!==e&&(g[m]=d[m][1]);return g.join("")},f.prototype.diff_levenshtein=function(d){for(var g=0,m=0,c=0,u=0;u<d.length;u++){var s=d[u][0],i=d[u][1];switch(s){case a:m+=i.length;break;case e:c+=i.length;break;case p:g+=Math.max(m,c),m=0,c=0;break}}return g+=Math.max(m,c),g},f.prototype.diff_toDelta=function(d){for(var g=[],m=0;m<d.length;m++)switch(d[m][0]){case a:g[m]="+"+encodeURI(d[m][1]);break;case e:g[m]="-"+d[m][1].length;break;case p:g[m]="="+d[m][1].length;break}return g.join("	").replace(/%20/g," ")},f.prototype.diff_fromDelta=function(d,g){for(var m=[],c=0,u=0,s=g.split(/\t/g),i=0;i<s.length;i++){var r=s[i].substring(1);switch(s[i].charAt(0)){case"+":try{m[c++]=new f.Diff(a,decodeURI(r))}catch{throw new Error("Illegal escape in diff_fromDelta: "+r)}break;case"-":case"=":var t=parseInt(r,10);if(isNaN(t)||t<0)throw new Error("Invalid number in diff_fromDelta: "+r);var n=d.substring(u,u+=t);s[i].charAt(0)=="="?m[c++]=new f.Diff(p,n):m[c++]=new f.Diff(e,n);break;default:if(s[i])throw new Error("Invalid diff operation in diff_fromDelta: "+s[i])}}if(u!=d.length)throw new Error("Delta length ("+u+") does not equal source text length ("+d.length+").");return m},f.prototype.match_main=function(d,g,m){if(d==null||g==null||m==null)throw new Error("Null input. (match_main)");return m=Math.max(0,Math.min(m,d.length)),d==g?0:d.length?d.substring(m,m+g.length)==g?m:this.match_bitap_(d,g,m):-1},f.prototype.match_bitap_=function(d,g,m){if(g.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var c=this.match_alphabet_(g),u=this;function s(_,k){var D=_/g.length,A=Math.abs(m-k);return u.Match_Distance?D+A/u.Match_Distance:A?1:D}var i=this.Match_Threshold,r=d.indexOf(g,m);r!=-1&&(i=Math.min(s(0,r),i),r=d.lastIndexOf(g,m+g.length),r!=-1&&(i=Math.min(s(0,r),i)));var t=1<<g.length-1;r=-1;for(var n,l,h=g.length+d.length,v,y=0;y<g.length;y++){for(n=0,l=h;n<l;)s(y,m+l)<=i?n=l:h=l,l=Math.floor((h-n)/2+n);h=l;var C=Math.max(1,m-l+1),$=Math.min(m+l,d.length)+g.length,S=Array($+2);S[$+1]=(1<<y)-1;for(var w=$;w>=C;w--){var T=c[d.charAt(w-1)];if(y===0?S[w]=(S[w+1]<<1|1)&T:S[w]=(S[w+1]<<1|1)&T|((v[w+1]|v[w])<<1|1)|v[w+1],S[w]&t){var E=s(y,w-1);if(E<=i)if(i=E,r=w-1,r>m)C=Math.max(1,2*m-r);else break}}if(s(y+1,m)>i)break;v=S}return r},f.prototype.match_alphabet_=function(d){for(var g={},m=0;m<d.length;m++)g[d.charAt(m)]=0;for(var m=0;m<d.length;m++)g[d.charAt(m)]|=1<<d.length-m-1;return g},f.prototype.patch_addContext_=function(d,g){if(g.length!=0){if(d.start2===null)throw Error("patch not initialized");for(var m=g.substring(d.start2,d.start2+d.length1),c=0;g.indexOf(m)!=g.lastIndexOf(m)&&m.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)c+=this.Patch_Margin,m=g.substring(d.start2-c,d.start2+d.length1+c);c+=this.Patch_Margin;var u=g.substring(d.start2-c,d.start2);u&&d.diffs.unshift(new f.Diff(p,u));var s=g.substring(d.start2+d.length1,d.start2+d.length1+c);s&&d.diffs.push(new f.Diff(p,s)),d.start1-=u.length,d.start2-=u.length,d.length1+=u.length+s.length,d.length2+=u.length+s.length}},f.prototype.patch_make=function(d,g,m){var c,u;if(typeof d=="string"&&typeof g=="string"&&typeof m>"u")c=d,u=this.diff_main(c,g,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(d&&typeof d=="object"&&typeof g>"u"&&typeof m>"u")u=d,c=this.diff_text1(u);else if(typeof d=="string"&&g&&typeof g=="object"&&typeof m>"u")c=d,u=g;else if(typeof d=="string"&&typeof g=="string"&&m&&typeof m=="object")c=d,u=m;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var s=[],i=new f.patch_obj,r=0,t=0,n=0,l=c,h=c,v=0;v<u.length;v++){var y=u[v][0],C=u[v][1];switch(!r&&y!==p&&(i.start1=t,i.start2=n),y){case a:i.diffs[r++]=u[v],i.length2+=C.length,h=h.substring(0,n)+C+h.substring(n);break;case e:i.length1+=C.length,i.diffs[r++]=u[v],h=h.substring(0,n)+h.substring(n+C.length);break;case p:C.length<=2*this.Patch_Margin&&r&&u.length!=v+1?(i.diffs[r++]=u[v],i.length1+=C.length,i.length2+=C.length):C.length>=2*this.Patch_Margin&&r&&(this.patch_addContext_(i,l),s.push(i),i=new f.patch_obj,r=0,l=h,t=n);break}y!==a&&(t+=C.length),y!==e&&(n+=C.length)}return r&&(this.patch_addContext_(i,l),s.push(i)),s},f.prototype.patch_deepCopy=function(d){for(var g=[],m=0;m<d.length;m++){var c=d[m],u=new f.patch_obj;u.diffs=[];for(var s=0;s<c.diffs.length;s++)u.diffs[s]=new f.Diff(c.diffs[s][0],c.diffs[s][1]);u.start1=c.start1,u.start2=c.start2,u.length1=c.length1,u.length2=c.length2,g[m]=u}return g},f.prototype.patch_apply=function(d,g){if(d.length==0)return[g,[]];d=this.patch_deepCopy(d);var m=this.patch_addPadding(d);g=m+g+m,this.patch_splitMax(d);for(var c=0,u=[],s=0;s<d.length;s++){var i=d[s].start2+c,r=this.diff_text1(d[s].diffs),t,n=-1;if(r.length>this.Match_MaxBits?(t=this.match_main(g,r.substring(0,this.Match_MaxBits),i),t!=-1&&(n=this.match_main(g,r.substring(r.length-this.Match_MaxBits),i+r.length-this.Match_MaxBits),(n==-1||t>=n)&&(t=-1))):t=this.match_main(g,r,i),t==-1)u[s]=!1,c-=d[s].length2-d[s].length1;else{u[s]=!0,c=t-i;var l;if(n==-1?l=g.substring(t,t+r.length):l=g.substring(t,n+this.Match_MaxBits),r==l)g=g.substring(0,t)+this.diff_text2(d[s].diffs)+g.substring(t+r.length);else{var h=this.diff_main(r,l,!1);if(r.length>this.Match_MaxBits&&this.diff_levenshtein(h)/r.length>this.Patch_DeleteThreshold)u[s]=!1;else{this.diff_cleanupSemanticLossless(h);for(var v=0,y,C=0;C<d[s].diffs.length;C++){var $=d[s].diffs[C];$[0]!==p&&(y=this.diff_xIndex(h,v)),$[0]===a?g=g.substring(0,t+y)+$[1]+g.substring(t+y):$[0]===e&&(g=g.substring(0,t+y)+g.substring(t+this.diff_xIndex(h,v+$[1].length))),$[0]!==e&&(v+=$[1].length)}}}}}return g=g.substring(m.length,g.length-m.length),[g,u]},f.prototype.patch_addPadding=function(d){for(var g=this.Patch_Margin,m="",c=1;c<=g;c++)m+=String.fromCharCode(c);for(var c=0;c<d.length;c++)d[c].start1+=g,d[c].start2+=g;var u=d[0],s=u.diffs;if(s.length==0||s[0][0]!=p)s.unshift(new f.Diff(p,m)),u.start1-=g,u.start2-=g,u.length1+=g,u.length2+=g;else if(g>s[0][1].length){var i=g-s[0][1].length;s[0][1]=m.substring(s[0][1].length)+s[0][1],u.start1-=i,u.start2-=i,u.length1+=i,u.length2+=i}if(u=d[d.length-1],s=u.diffs,s.length==0||s[s.length-1][0]!=p)s.push(new f.Diff(p,m)),u.length1+=g,u.length2+=g;else if(g>s[s.length-1][1].length){var i=g-s[s.length-1][1].length;s[s.length-1][1]+=m.substring(0,i),u.length1+=i,u.length2+=i}return m},f.prototype.patch_splitMax=function(d){for(var g=this.Match_MaxBits,m=0;m<d.length;m++)if(!(d[m].length1<=g)){var c=d[m];d.splice(m--,1);for(var u=c.start1,s=c.start2,i="";c.diffs.length!==0;){var r=new f.patch_obj,t=!0;for(r.start1=u-i.length,r.start2=s-i.length,i!==""&&(r.length1=r.length2=i.length,r.diffs.push(new f.Diff(p,i)));c.diffs.length!==0&&r.length1<g-this.Patch_Margin;){var n=c.diffs[0][0],l=c.diffs[0][1];n===a?(r.length2+=l.length,s+=l.length,r.diffs.push(c.diffs.shift()),t=!1):n===e&&r.diffs.length==1&&r.diffs[0][0]==p&&l.length>2*g?(r.length1+=l.length,u+=l.length,t=!1,r.diffs.push(new f.Diff(n,l)),c.diffs.shift()):(l=l.substring(0,g-r.length1-this.Patch_Margin),r.length1+=l.length,u+=l.length,n===p?(r.length2+=l.length,s+=l.length):t=!1,r.diffs.push(new f.Diff(n,l)),l==c.diffs[0][1]?c.diffs.shift():c.diffs[0][1]=c.diffs[0][1].substring(l.length))}i=this.diff_text2(r.diffs),i=i.substring(i.length-this.Patch_Margin);var h=this.diff_text1(c.diffs).substring(0,this.Patch_Margin);h!==""&&(r.length1+=h.length,r.length2+=h.length,r.diffs.length!==0&&r.diffs[r.diffs.length-1][0]===p?r.diffs[r.diffs.length-1][1]+=h:r.diffs.push(new f.Diff(p,h))),t||d.splice(++m,0,r)}}},f.prototype.patch_toText=function(d){for(var g=[],m=0;m<d.length;m++)g[m]=d[m];return g.join("")},f.prototype.patch_fromText=function(d){var g=[];if(!d)return g;for(var m=d.split(`
`),c=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;c<m.length;){var s=m[c].match(u);if(!s)throw new Error("Invalid patch string: "+m[c]);var i=new f.patch_obj;for(g.push(i),i.start1=parseInt(s[1],10),s[2]===""?(i.start1--,i.length1=1):s[2]=="0"?i.length1=0:(i.start1--,i.length1=parseInt(s[2],10)),i.start2=parseInt(s[3],10),s[4]===""?(i.start2--,i.length2=1):s[4]=="0"?i.length2=0:(i.start2--,i.length2=parseInt(s[4],10)),c++;c<m.length;){var r=m[c].charAt(0);try{var t=decodeURI(m[c].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+t)}if(r=="-")i.diffs.push(new f.Diff(e,t));else if(r=="+")i.diffs.push(new f.Diff(a,t));else if(r==" ")i.diffs.push(new f.Diff(p,t));else{if(r=="@")break;if(r!=="")throw new Error('Invalid patch mode "'+r+'" in: '+t)}c++}}return g},f.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},f.patch_obj.prototype.toString=function(){var d,g;this.length1===0?d=this.start1+",0":this.length1==1?d=this.start1+1:d=this.start1+1+","+this.length1,this.length2===0?g=this.start2+",0":this.length2==1?g=this.start2+1:g=this.start2+1+","+this.length2;for(var m=["@@ -"+d+" +"+g+` @@
`],c,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case a:c="+";break;case e:c="-";break;case p:c=" ";break}m[u+1]=c+encodeURI(this.diffs[u][1])+`
`}return m.join("").replace(/%20/g," ")},o.exports=f,o.exports.diff_match_patch=f,o.exports.DIFF_DELETE=e,o.exports.DIFF_INSERT=a,o.exports.DIFF_EQUAL=p}(Si)),Si.exports}var Hr;function zu(){if(Hr)return Qt;Hr=1;var o=Qt&&Qt.__extends||function(){var g=function(m,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,s){u.__proto__=s}||function(u,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(u[i]=s[i])},g(m,c)};return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");g(m,c);function u(){this.constructor=m}m.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}();Object.defineProperty(Qt,"__esModule",{value:!0});var f=or(),e=Yi(),a=Ms(),p=Wu(),d=function(g){o(m,g);function m(c){var u=g.call(this,c)||this;return u.state={value:u.props.value},u.onChange=u.onChange.bind(u),u.diff=u.diff.bind(u),u}return m.prototype.componentDidUpdate=function(){var c=this.props.value;c!==this.state.value&&this.setState({value:c})},m.prototype.onChange=function(c){this.setState({value:c}),this.props.onChange&&this.props.onChange(c)},m.prototype.diff=function(){var c=new p,u=this.state.value[0],s=this.state.value[1];if(u.length===0&&s.length===0)return[];var i=c.diff_main(u,s);c.diff_cleanupSemantic(i);var r=this.generateDiffedLines(i),t=this.setCodeMarkers(r);return t},m.prototype.generateDiffedLines=function(c){var u={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},s={left:[],right:[]},i={left:1,right:1};return c.forEach(function(r){var t=r[0],n=r[1],l=n.split(`
`).length-1;if(n.length!==0){var h=n[0],v=n[n.length-1],y=0;switch(t){case u.DIFF_EQUAL:i.left+=l,i.right+=l;break;case u.DIFF_DELETE:h===`
`&&(i.left++,l--),y=l,y===0&&s.right.push({startLine:i.right,endLine:i.right}),v===`
`&&(y-=1),s.left.push({startLine:i.left,endLine:i.left+y}),i.left+=l;break;case u.DIFF_INSERT:h===`
`&&(i.right++,l--),y=l,y===0&&s.left.push({startLine:i.left,endLine:i.left}),v===`
`&&(y-=1),s.right.push({startLine:i.right,endLine:i.right+y}),i.right+=l;break;default:throw new Error("Diff type was not defined.")}}}),s},m.prototype.setCodeMarkers=function(c){c===void 0&&(c={left:[],right:[]});for(var u=[],s={left:[],right:[]},i=0;i<c.left.length;i++){var r={startRow:c.left[i].startLine-1,endRow:c.left[i].endLine,type:"text",className:"codeMarker"};s.left.push(r)}for(var i=0;i<c.right.length;i++){var r={startRow:c.right[i].startLine-1,endRow:c.right[i].endLine,type:"text",className:"codeMarker"};s.right.push(r)}return u[0]=s.left,u[1]=s.right,u},m.prototype.render=function(){var c=this.diff();return e.createElement(a.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:c})},m.propTypes={cursorStart:f.number,editorProps:f.object,enableBasicAutocompletion:f.bool,enableLiveAutocompletion:f.bool,focus:f.bool,fontSize:f.number,height:f.string,highlightActiveLine:f.bool,maxLines:f.number,minLines:f.number,mode:f.string,name:f.string,className:f.string,onLoad:f.func,onPaste:f.func,onScroll:f.func,onChange:f.func,orientation:f.string,readOnly:f.bool,scrollMargin:f.array,setOptions:f.object,showGutter:f.bool,showPrintMargin:f.bool,splits:f.number,style:f.object,tabSize:f.number,theme:f.string,value:f.array,width:f.string,wrapEnabled:f.bool},m.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},m}(e.Component);return Qt.default=d,Qt}var Wr;function Bu(){if(Wr)return St;Wr=1,Object.defineProperty(St,"__esModule",{value:!0}),St.diff=St.split=void 0;var o=Fu(),f=zu();St.diff=f.default;var e=Ms();return St.split=e.default,St.default=o.default,St}var Vu=Bu();const _s=ro(Vu);var Ci={exports:{}},zr;function Gu(){return zr||(zr=1,function(o,f){ace.define("ace/theme/xcode-css",["require","exports","module"],function(e,a,p){p.exports=`/* THIS THEME WAS AUTOGENERATED BY Theme.tmpl.css (UUID: EE3AD170-2B7F-4DE1-B724-C75F13FE0085) */

.ace-xcode .ace_gutter {
  background: #e8e8e8;
  color: #333
}

.ace-xcode .ace_print-margin {
  width: 1px;
  background: #e8e8e8
}

.ace-xcode {
  background-color: #FFFFFF;
  color: #000000
}

.ace-xcode .ace_cursor {
  color: #000000
}

.ace-xcode .ace_marker-layer .ace_selection {
  background: #B5D5FF
}

.ace-xcode.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-xcode .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174)
}

.ace-xcode .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #BFBFBF
}

.ace-xcode .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.071)
}

.ace-xcode .ace_gutter-active-line {
  background-color: rgba(0, 0, 0, 0.071)
}

.ace-xcode .ace_marker-layer .ace_selected-word {
  border: 1px solid #B5D5FF
}

.ace-xcode .ace_constant.ace_language,
.ace-xcode .ace_keyword,
.ace-xcode .ace_meta,
.ace-xcode .ace_variable.ace_language {
  color: #C800A4
}

.ace-xcode .ace_invisible {
  color: #BFBFBF
}

.ace-xcode .ace_constant.ace_character,
.ace-xcode .ace_constant.ace_other {
  color: #275A5E
}

.ace-xcode .ace_constant.ace_numeric {
  color: #3A00DC
}

.ace-xcode .ace_entity.ace_other.ace_attribute-name,
.ace-xcode .ace_support.ace_constant,
.ace-xcode .ace_support.ace_function {
  color: #450084
}

.ace-xcode .ace_fold {
  background-color: #C800A4;
  border-color: #000000
}

.ace-xcode .ace_entity.ace_name.ace_tag,
.ace-xcode .ace_support.ace_class,
.ace-xcode .ace_support.ace_type {
  color: #790EAD
}

.ace-xcode .ace_storage {
  color: #C900A4
}

.ace-xcode .ace_string {
  color: #DF0002
}

.ace-xcode .ace_comment {
  color: #008E00
}

.ace-xcode .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==) right repeat-y
}

.ace-xcode .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/xcode",["require","exports","module","ace/theme/xcode-css","ace/lib/dom"],function(e,a,p){a.isDark=!1,a.cssClass="ace-xcode",a.cssText=e("./xcode-css");var d=e("../lib/dom");d.importCssString(a.cssText,a.cssClass,!1)}),function(){ace.require(["ace/theme/xcode"],function(e){o&&(o.exports=e)})}()}(Ci)),Ci.exports}Gu();var $i={exports:{}},Br;function Uu(){return Br||(Br=1,function(o,f){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,a,p){var d=e("../lib/oop"),g=e("./text_highlight_rules").TextHighlightRules,m=function(){var c="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",u="True|False|None|NotImplemented|Ellipsis|__debug__",s="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",i=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":s,"variable.language":"self|cls","constant.language":u,keyword:c},"identifier"),r="[uU]?",t="[rR]",n="[fF]",l="(?:[rR][fF]|[fF][rR])",h="(?:(?:[1-9]\\d*)|(?:0))",v="(?:0[oO]?[0-7]+)",y="(?:0[xX][\\dA-Fa-f]+)",C="(?:0[bB][01]+)",$="(?:"+h+"|"+v+"|"+y+"|"+C+")",S="(?:[eE][+-]?\\d+)",w="(?:\\.\\d+)",T="(?:\\d+)",E="(?:(?:"+T+"?"+w+")|(?:"+T+"\\.))",_="(?:(?:"+E+"|"+T+")"+S+")",k="(?:"+_+"|"+E+")",D=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:r+'"{3}',next:"qqstring3"},{token:"string",regex:r+'"(?=.)',next:"qqstring"},{token:"string",regex:r+"'{3}",next:"qstring3"},{token:"string",regex:r+"'(?=.)",next:"qstring"},{token:"string",regex:t+'"{3}',next:"rawqqstring3"},{token:"string",regex:t+'"(?=.)',next:"rawqqstring"},{token:"string",regex:t+"'{3}",next:"rawqstring3"},{token:"string",regex:t+"'(?=.)",next:"rawqstring"},{token:"string",regex:n+'"{3}',next:"fqqstring3"},{token:"string",regex:n+'"(?=.)',next:"fqqstring"},{token:"string",regex:n+"'{3}",next:"fqstring3"},{token:"string",regex:n+"'(?=.)",next:"fqstring"},{token:"string",regex:l+'"{3}',next:"rfqqstring3"},{token:"string",regex:l+'"(?=.)',next:"rfqqstring"},{token:"string",regex:l+"'{3}",next:"rfqstring3"},{token:"string",regex:l+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:D},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:D},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:D},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:D},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:D},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:D},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:D},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:D},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+k+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:k},{token:"constant.numeric",regex:$+"[lL]\\b"},{token:"constant.numeric",regex:$+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:i,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};d.inherits(m,g),a.PythonHighlightRules=m}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,a,p){var d=e("../../lib/oop"),g=e("./fold_mode").FoldMode,m=a.FoldMode=function(c){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+c+")(?:\\s*)(?:#.*)?$")};d.inherits(m,g),(function(){this.getFoldWidgetRange=function(c,u,s){var i=c.getLine(s),r=i.match(this.foldingStartMarker);if(r)return r[1]?this.openingBracketBlock(c,r[1],s,r.index):r[2]?this.indentationBlock(c,s,r.index+r[2].length):this.indentationBlock(c,s)}}).call(m.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(e,a,p){var d=e("../lib/oop"),g=e("./text").Mode,m=e("./python_highlight_rules").PythonHighlightRules,c=e("./folding/pythonic").FoldMode,u=e("../range").Range,s=function(){this.HighlightRules=m,this.foldingRules=new c("\\:"),this.$behaviour=this.$defaultBehaviour};d.inherits(s,g),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(r,t,n){var l=this.$getIndent(t),h=this.getTokenizer().getLineTokens(t,r),v=h.tokens;if(v.length&&v[v.length-1].type=="comment")return l;if(r=="start"){var y=t.match(/^.*[\{\(\[:]\s*$/);y&&(l+=n)}return l};var i={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(r,t,n){if(n!==`\r
`&&n!=="\r"&&n!==`
`)return!1;var l=this.getTokenizer().getLineTokens(t.trim(),r).tokens;if(!l)return!1;do var h=l.pop();while(h&&(h.type=="comment"||h.type=="text"&&h.value.match(/^\s+$/)));return h?h.type=="keyword"&&i[h.value]:!1},this.autoOutdent=function(r,t,n){n+=1;var l=this.$getIndent(t.getLine(n)),h=t.getTabString();l.slice(-h.length)==h&&t.remove(new u(n,l.length-h.length,n,l.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(s.prototype),a.Mode=s}),function(){ace.require(["ace/mode/python"],function(e){o&&(o.exports=e)})}()}($i)),$i.exports}Uu();var Mi={exports:{}},Vr;function Yu(){return Vr||(Vr=1,function(o,f){ace.define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,a,p){var d=e("../lib/oop"),g=e("./text_highlight_rules").TextHighlightRules,m=function(){var c="select|insert|update|delete|from|where|and|or|group|by|order|limit|offset|having|as|case|when|then|else|end|type|left|right|join|on|outer|desc|asc|union|create|table|primary|key|if|foreign|not|references|default|null|inner|cross|natural|database|drop|grant|distinct|is|in|all|alter|any|array|at|authorization|between|both|cast|check|collate|column|commit|constraint|cube|current|current_date|current_time|current_timestamp|current_user|describe|escape|except|exists|external|extract|fetch|filter|for|full|function|global|grouping|intersect|interval|into|leading|like|local|no|of|only|out|overlaps|partition|position|range|revoke|rollback|rollup|row|rows|session_user|set|some|start|tablesample|time|to|trailing|truncate|unique|unknown|user|using|values|window|with",u="true|false",s="avg|count|first|last|max|min|sum|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl",i="int|numeric|decimal|date|varchar|char|bigint|float|double|bit|binary|text|set|timestamp|money|real|number|integer|string",r=this.createKeywordMapper({"support.function":s,keyword:c,"constant.language":u,"storage.type":i},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:r,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};d.inherits(m,g),a.SqlHighlightRules=m}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,a,p){var d=e("../../lib/oop"),g=e("../../range").Range,m=e("./fold_mode").FoldMode,c=a.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};d.inherits(c,m),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,s,i){var r=u.getLine(i);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var t=this._getFoldWidgetBase(u,s,i);return!t&&this.startRegionRe.test(r)?"start":t},this.getFoldWidgetRange=function(u,s,i,r){var t=u.getLine(i);if(this.startRegionRe.test(t))return this.getCommentRegionBlock(u,t,i);var h=t.match(this.foldingStartMarker);if(h){var n=h.index;if(h[1])return this.openingBracketBlock(u,h[1],i,n);var l=u.getCommentFoldRange(i,n+h[0].length,1);return l&&!l.isMultiLine()&&(r?l=this.getSectionRange(u,i):s!="all"&&(l=null)),l}if(s!=="markbegin"){var h=t.match(this.foldingStopMarker);if(h){var n=h.index+h[0].length;return h[1]?this.closingBracketBlock(u,h[1],i,n):u.getCommentFoldRange(i,n,-1)}}},this.getSectionRange=function(u,s){var i=u.getLine(s),r=i.search(/\S/),t=s,n=i.length;s=s+1;for(var l=s,h=u.getLength();++s<h;){i=u.getLine(s);var v=i.search(/\S/);if(v!==-1){if(r>v)break;var y=this.getFoldWidgetRange(u,"all",s);if(y){if(y.start.row<=t)break;if(y.isMultiLine())s=y.end.row;else if(r==v)break}l=s}}return new g(t,n,l,u.getLine(l).length)},this.getCommentRegionBlock=function(u,s,i){for(var r=s.search(/\s*$/),t=u.getLength(),n=i,l=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,h=1;++i<t;){s=u.getLine(i);var v=l.exec(s);if(v&&(v[1]?h--:h++,!h))break}var y=i;if(y>n)return new g(n,r,y,s.length)}}).call(c.prototype)}),ace.define("ace/mode/folding/sql",["require","exports","module","ace/lib/oop","ace/mode/folding/cstyle"],function(e,a,p){var d=e("../../lib/oop"),g=e("./cstyle").FoldMode,m=a.FoldMode=function(){};d.inherits(m,g),(function(){}).call(m.prototype)}),ace.define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules","ace/mode/folding/sql"],function(e,a,p){var d=e("../lib/oop"),g=e("./text").Mode,m=e("./sql_highlight_rules").SqlHighlightRules,c=e("./folding/sql").FoldMode,u=function(){this.HighlightRules=m,this.foldingRules=new c,this.$behaviour=this.$defaultBehaviour};d.inherits(u,g),(function(){this.lineCommentStart="--",this.blockComment={start:"/*",end:"*/"},this.$id="ace/mode/sql",this.snippetFileId="ace/snippets/sql"}).call(u.prototype),a.Mode=u}),function(){ace.require(["ace/mode/sql"],function(e){o&&(o.exports=e)})}()}(Mi)),Mi.exports}Yu();const Ku=({open:o,onClose:f,onSave:e,initialDataSource:a=null,engineChoices:p,existingAliases:d,aliasRelianceMap:g})=>{var l,h,v,y,C,$,S,w,T;const m={id:"",name:"数据名称",description:"",alias:"df_",executor:{type:"sql",engine:"default",code:"select 1",updateMode:{type:"manual"}}};if(!o)return;const[c,u]=U.useState(m);U.useEffect(()=>{u(a||m)},[o]);const s=()=>{var E,_,k;if(!c.name){fe.error("请输入数据源名称");return}if(["python","sql"].includes(((E=c.executor)==null?void 0:E.type)||"")){if(!c.executor.code){fe.error("请输入代码");return}}else if(((_=c.executor)==null?void 0:_.type)==="csv_data"){if(!c.executor.data){fe.error("请上传CSV数据");return}}else if(((k=c.executor)==null?void 0:k.type)==="csv_uploader"&&!c.executor.demoData){fe.error("请上传示例CSV数据");return}if(d.includes(c.alias)){fe.error("别名不能重复");return}if(c.alias==="df_"){fe.error("请修改别名，别名不能为df_");return}e(c),f()},i=((l=c.executor)==null?void 0:l.type)||"sql",r=["python","sql"].includes(i),t=["csv_data","csv_uploader"].includes(i),n=r&&((h=c.executor.updateMode)==null?void 0:h.type)||"manual";return I.jsx(Wt,{open:o,onOpenChange:f,children:I.jsxs(zt,{className:"max-w-3xl h-[80vh] max-h-[90vh] flex flex-col overflow-hidden",children:[I.jsx(Bt,{children:I.jsx(Vt,{children:a?"编辑数据源":"新建数据源"})}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex items-center space-x-6",children:[I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx("label",{className:"whitespace-nowrap min-w-8 mr-4 flex items-center",children:"名称"}),I.jsx(Ie,{value:c.name||"",onChange:E=>u(_=>({..._,name:E.target.value})),placeholder:"输入数据源名称"})]}),I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx("label",{className:"whitespace-nowrap min-w-8 mr-4 flex items-center",children:"别名"}),I.jsx(Ie,{value:c.alias||"df_",onChange:E=>{if(g.aliasToArtifacts[c.alias]&&c.id===g.aliasToDataSourceId[c.alias]){fe.error("存在依赖不能修改");return}if(!E.target.value.startsWith("df_")){fe.error("别名必须以df_开头");return}u(_=>({..._,alias:E.target.value}))},placeholder:"输入数据源别名"})]})]}),I.jsxs("div",{className:"flex items-center",children:[I.jsx("label",{className:"block mb-2 w-30 h-10 flex items-center",children:"描述（可选）"}),I.jsx(Ie,{value:c.description||"",onChange:E=>u(_=>({..._,description:E.target.value})),placeholder:"输入数据源描述",className:"h-10"})]}),I.jsxs("div",{className:"flex space-x-10",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block mb-2",children:"执行器类型"}),I.jsxs(Cn,{value:i,onValueChange:E=>u(Gl(c,E)),children:[I.jsx(Mn,{className:"w-45",children:I.jsx($n,{placeholder:"选择执行器类型"})}),I.jsxs(_n,{children:[I.jsx(Ze,{value:"python",children:"Python"}),I.jsx(Ze,{value:"sql",children:"SQL"}),I.jsx(Ze,{value:"csv_data",children:"CSV 固定数据集"}),I.jsx(Ze,{value:"csv_uploader",children:"CSV 上传器"})]})]})]}),I.jsx("div",{className:"flex-1"}),r&&I.jsxs("div",{children:[I.jsx("label",{className:"block mb-2",children:"计算引擎"}),I.jsxs(Cn,{value:((v=c.executor)==null?void 0:v.engine)||p[i][0],onValueChange:E=>{u(Vl(c,E))},children:[I.jsx(Mn,{className:"w-45",children:I.jsx($n,{placeholder:"选择引擎"})}),I.jsx(_n,{children:p[i].map(E=>I.jsx(Ze,{value:E,children:E}))})]})]}),t&&I.jsxs("div",{children:[I.jsx("label",{className:"block mb-2",children:"上传"}),I.jsx("button",{type:"button",className:"py-1 h-8 w-45 shadow-sm  rounded-sm hover:bg-blue-100 transition-colors",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept=".csv",E.onchange=_=>{const k=_.target.files[0];if(!k)return;const D=10*1024*1024;if(k.size>D){fe.error("文件大小不能超过 10MB");return}zi.parse(k,{complete:A=>{if(A.errors.length>0){fe.error("CSV 文件解析出错"),console.error(A.errors);return}if(A.data.length<=1){fe.error("CSV 文件内容不能为空");return}i==="csv_uploader"&&(A.data=A.data.slice(0,11));const R=zi.unparse(A.data);u(b=>({...b,executor:{...b.executor,...i==="csv_data"?{data:R}:{demoData:R}}})),fe.success("CSV 文件上传成功")},error:A=>{fe.error("CSV 文件解析失败"),console.error(A)},skipEmptyLines:!0})},E.click()},children:i==="csv_data"?" CSV 数据":" 示例 CSV 数据 "})]})]}),r&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{children:[I.jsx("label",{className:"block mb-2",children:"代码"}),I.jsx(_s,{mode:i==="python"?"python":"sql",theme:"xcode",name:"codeEditor",height:"200px",width:"100%",onChange:E=>{u(_=>({..._,executor:{..._.executor,code:E}}))},value:(i==="python"||i==="sql")&&c.executor.code||""})]}),I.jsxs("div",{className:"flex space-x-10",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block mb-2",children:"更新模式"}),I.jsxs(Ni,{value:n,onValueChange:E=>u(Bl(c,E)),className:"flex gap-4 h-10",children:[I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(Jt,{value:"manual",id:"manual"}),I.jsx(ve,{htmlFor:"manual",children:"手动更新"})]}),I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(Jt,{value:"auto",id:"auto"}),I.jsx(ve,{htmlFor:"auto",children:"自动更新"})]})]})]}),I.jsx("div",{className:"flex-1"}),n==="auto"&&I.jsxs("div",{className:"justify-center items-center",children:[I.jsx("label",{className:"block mb-2",children:"更新间隔 (秒)"}),I.jsx(Ie,{type:"number",className:"w-40 h-10",value:((y=c.executor.updateMode)==null?void 0:y.type)==="auto"&&((C=c.executor.updateMode)==null?void 0:C.interval)||300,onChange:E=>{const _=parseInt(E.target.value)||60;u(k=>({...k,executor:{...k.executor,updateMode:{type:"auto",interval:_}}}))},min:60,step:60})]})]})]}),t&&I.jsxs("div",{children:[I.jsxs("label",{className:"block mb-2 flex items-center justify-between",children:[I.jsxs("span",{children:[i==="csv_data"?"CSV 数据":"示例 CSV 数据"," "," (仅显示前5行)"]}),(i==="csv_data"&&(($=c.executor)==null?void 0:$.type)==="csv_data"&&c.executor.data.length>0||i==="csv_uploader"&&((S=c.executor)==null?void 0:S.type)==="csv_uploader"&&c.executor.demoData.length>0)&&I.jsxs(be,{variant:"outline",size:"sm",onClick:()=>{const E=i==="csv_data"?c.executor.data:c.executor.demoData,_=new Blob([E],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),D=URL.createObjectURL(_),A=`${c.name||"data"}_${i==="csv_data"?"dataset":"demo"}.csv`;k.setAttribute("href",D),k.setAttribute("download",A),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)},children:[I.jsx(_l,{className:"h-4 w-4 mr-2"}),"下载 CSV"]})]}),I.jsx("div",{className:"px-2",children:((w=c.executor)==null?void 0:w.type)==="csv_data"&&c.executor.data.length===0||((T=c.executor)==null?void 0:T.type)==="csv_uploader"&&c.executor.demoData.length===0?I.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:I.jsx("div",{className:"flex flex-col items-center justify-center space-y-4",children:I.jsx("p",{className:"text-gray-600",children:i==="csv_data"?"请上传 CSV 文件":"暂无示例 CSV 数据"})})}):I.jsx("div",{className:"flex justify-center items-center",children:I.jsx(Ou,{csvData:c.executor.type==="csv_data"?c.executor.data:c.executor.demoData})})})]})]}),I.jsxs(Gt,{className:"mt-auto",children:[I.jsx(be,{variant:"outline",onClick:f,children:"取消"}),I.jsx(be,{onClick:s,disabled:!c.name||c.alias==="df_"||c.executor.type==="sql"&&!c.executor.code||c.executor.type==="python"&&!c.executor.code||c.executor.type==="csv_data"&&!c.executor.data||c.executor.type==="csv_uploader"&&!c.executor.demoData,children:"保存"})]})]})})},Qu=({dataSources:o,engineChoices:f,aliasRelianceMap:e,handleAddDataSource:a,handleEditDataSource:p,handleDeleteDataSource:d,confirmDelete:g})=>{const[m,c]=U.useState(!1),[u,s]=U.useState(null);return I.jsxs("div",{children:[I.jsx(qn,{value:"data",className:"p-4",children:I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"space-y-3",children:o.map((i,r)=>I.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsx("h4",{className:"font-medium",children:i.name}),I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsxs("p",{className:"text-sm text-gray-500 w-25",children:["type: ",i.executor.type]}),I.jsxs("p",{className:"text-sm text-gray-500",children:["alias: ",i.alias]})]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-80",onClick:()=>{console.log("clickdataSource",i),s(i),c(!0)},children:I.jsx(xn,{className:"h-4 w-4"})}),I.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive opacity-80",onClick:()=>g(()=>d(i),`您确定要删除数据源 ${i.name} 吗？`),children:I.jsx(tn,{className:"h-4 w-4"})})]})]})},i.id))}),I.jsx("div",{className:"mt-6",children:I.jsxs(be,{variant:"outline",className:"w-full border-dashed",onClick:()=>c(!0),children:[I.jsx(en,{className:"h-4 w-4 mr-2"}),"添加数据源"]})})]})}),I.jsx(Ku,{open:m,onClose:()=>{c(!1),s(null)},onSave:i=>{u?p(u,i):a(i),c(!1),s(null)},initialDataSource:u,engineChoices:f,existingAliases:o.filter(i=>u?i.id!==u.id:!0).map(i=>i.alias),aliasRelianceMap:e})]})};var Gr=1,qu=.9,Xu=.8,Zu=.17,_i=.1,Ai=.999,Ju=.9999,eh=.99,th=/[\\\/_+.#"@\[\(\{&]/,nh=/[\\\/_+.#"@\[\(\{&]/g,ih=/[\s-]/,As=/[\s-]/g;function Bi(o,f,e,a,p,d,g){if(d===f.length)return p===o.length?Gr:eh;var m=`${p},${d}`;if(g[m]!==void 0)return g[m];for(var c=a.charAt(d),u=e.indexOf(c,p),s=0,i,r,t,n;u>=0;)i=Bi(o,f,e,a,u+1,d+1,g),i>s&&(u===p?i*=Gr:th.test(o.charAt(u-1))?(i*=Xu,t=o.slice(p,u-1).match(nh),t&&p>0&&(i*=Math.pow(Ai,t.length))):ih.test(o.charAt(u-1))?(i*=qu,n=o.slice(p,u-1).match(As),n&&p>0&&(i*=Math.pow(Ai,n.length))):(i*=Zu,p>0&&(i*=Math.pow(Ai,u-p))),o.charAt(u)!==f.charAt(d)&&(i*=Ju)),(i<_i&&e.charAt(u-1)===a.charAt(d+1)||a.charAt(d+1)===a.charAt(d)&&e.charAt(u-1)!==a.charAt(d))&&(r=Bi(o,f,e,a,u+1,d+2,g),r*_i>i&&(i=r*_i)),i>s&&(s=i),u=e.indexOf(c,u+1);return g[m]=s,s}function Ur(o){return o.toLowerCase().replace(As," ")}function rh(o,f,e){return o=e&&e.length>0?`${o+" "+e.join(" ")}`:o,Bi(o,f,Ur(o),Ur(f),0,0,{})}var gn='[cmdk-group=""]',ki='[cmdk-group-items=""]',oh='[cmdk-group-heading=""]',ks='[cmdk-item=""]',Yr=`${ks}:not([aria-disabled="true"])`,Vi="cmdk-item-select",Xt="data-value",sh=(o,f,e)=>rh(o,f,e),Rs=U.createContext(void 0),Rn=()=>U.useContext(Rs),Es=U.createContext(void 0),sr=()=>U.useContext(Es),Ts=U.createContext(void 0),Ls=U.forwardRef((o,f)=>{let e=Zt(()=>{var W,P;return{search:"",value:(P=(W=o.value)!=null?W:o.defaultValue)!=null?P:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Zt(()=>new Set),p=Zt(()=>new Map),d=Zt(()=>new Map),g=Zt(()=>new Set),m=Is(o),{label:c,children:u,value:s,onValueChange:i,filter:r,shouldFilter:t,loop:n,disablePointerSelection:l=!1,vimBindings:h=!0,...v}=o,y=ut(),C=ut(),$=ut(),S=U.useRef(null),w=vh();Yt(()=>{if(s!==void 0){let W=s.trim();e.current.value=W,T.emit()}},[s]),Yt(()=>{w(6,R)},[]);let T=U.useMemo(()=>({subscribe:W=>(g.current.add(W),()=>g.current.delete(W)),snapshot:()=>e.current,setState:(W,P,z)=>{var H,G,V,Y;if(!Object.is(e.current[W],P)){if(e.current[W]=P,W==="search")A(),k(),w(1,D);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let K=document.getElementById($);K?K.focus():(H=document.getElementById(y))==null||H.focus()}if(w(7,()=>{var K;e.current.selectedItemId=(K=b())==null?void 0:K.id,T.emit()}),z||w(5,R),((G=m.current)==null?void 0:G.value)!==void 0){let K=P??"";(Y=(V=m.current).onValueChange)==null||Y.call(V,K);return}}T.emit()}},emit:()=>{g.current.forEach(W=>W())}}),[]),E=U.useMemo(()=>({value:(W,P,z)=>{var H;P!==((H=d.current.get(W))==null?void 0:H.value)&&(d.current.set(W,{value:P,keywords:z}),e.current.filtered.items.set(W,_(P,z)),w(2,()=>{k(),T.emit()}))},item:(W,P)=>(a.current.add(W),P&&(p.current.has(P)?p.current.get(P).add(W):p.current.set(P,new Set([W]))),w(3,()=>{A(),k(),e.current.value||D(),T.emit()}),()=>{d.current.delete(W),a.current.delete(W),e.current.filtered.items.delete(W);let z=b();w(4,()=>{A(),(z==null?void 0:z.getAttribute("id"))===W&&D(),T.emit()})}),group:W=>(p.current.has(W)||p.current.set(W,new Set),()=>{d.current.delete(W),p.current.delete(W)}),filter:()=>m.current.shouldFilter,label:c||o["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:y,inputId:$,labelId:C,listInnerRef:S}),[]);function _(W,P){var z,H;let G=(H=(z=m.current)==null?void 0:z.filter)!=null?H:sh;return W?G(W,e.current.search,P):0}function k(){if(!e.current.search||m.current.shouldFilter===!1)return;let W=e.current.filtered.items,P=[];e.current.filtered.groups.forEach(H=>{let G=p.current.get(H),V=0;G.forEach(Y=>{let K=W.get(Y);V=Math.max(K,V)}),P.push([H,V])});let z=S.current;x().sort((H,G)=>{var V,Y;let K=H.getAttribute("id"),q=G.getAttribute("id");return((V=W.get(q))!=null?V:0)-((Y=W.get(K))!=null?Y:0)}).forEach(H=>{let G=H.closest(ki);G?G.appendChild(H.parentElement===G?H:H.closest(`${ki} > *`)):z.appendChild(H.parentElement===z?H:H.closest(`${ki} > *`))}),P.sort((H,G)=>G[1]-H[1]).forEach(H=>{var G;let V=(G=S.current)==null?void 0:G.querySelector(`${gn}[${Xt}="${encodeURIComponent(H[0])}"]`);V==null||V.parentElement.appendChild(V)})}function D(){let W=x().find(z=>z.getAttribute("aria-disabled")!=="true"),P=W==null?void 0:W.getAttribute(Xt);T.setState("value",P||void 0)}function A(){var W,P,z,H;if(!e.current.search||m.current.shouldFilter===!1){e.current.filtered.count=a.current.size;return}e.current.filtered.groups=new Set;let G=0;for(let V of a.current){let Y=(P=(W=d.current.get(V))==null?void 0:W.value)!=null?P:"",K=(H=(z=d.current.get(V))==null?void 0:z.keywords)!=null?H:[],q=_(Y,K);e.current.filtered.items.set(V,q),q>0&&G++}for(let[V,Y]of p.current)for(let K of Y)if(e.current.filtered.items.get(K)>0){e.current.filtered.groups.add(V);break}e.current.filtered.count=G}function R(){var W,P,z;let H=b();H&&(((W=H.parentElement)==null?void 0:W.firstChild)===H&&((z=(P=H.closest(gn))==null?void 0:P.querySelector(oh))==null||z.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function b(){var W;return(W=S.current)==null?void 0:W.querySelector(`${ks}[aria-selected="true"]`)}function x(){var W;return Array.from(((W=S.current)==null?void 0:W.querySelectorAll(Yr))||[])}function M(W){let P=x()[W];P&&T.setState("value",P.getAttribute(Xt))}function L(W){var P;let z=b(),H=x(),G=H.findIndex(Y=>Y===z),V=H[G+W];(P=m.current)!=null&&P.loop&&(V=G+W<0?H[H.length-1]:G+W===H.length?H[0]:H[G+W]),V&&T.setState("value",V.getAttribute(Xt))}function O(W){let P=b(),z=P==null?void 0:P.closest(gn),H;for(;z&&!H;)z=W>0?ph(z,gn):mh(z,gn),H=z==null?void 0:z.querySelector(Yr);H?T.setState("value",H.getAttribute(Xt)):L(W)}let N=()=>M(x().length-1),F=W=>{W.preventDefault(),W.metaKey?N():W.altKey?O(1):L(1)},j=W=>{W.preventDefault(),W.metaKey?M(0):W.altKey?O(-1):L(-1)};return U.createElement(Re.div,{ref:f,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:W=>{var P;(P=v.onKeyDown)==null||P.call(v,W);let z=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||z))switch(W.key){case"n":case"j":{h&&W.ctrlKey&&F(W);break}case"ArrowDown":{F(W);break}case"p":case"k":{h&&W.ctrlKey&&j(W);break}case"ArrowUp":{j(W);break}case"Home":{W.preventDefault(),M(0);break}case"End":{W.preventDefault(),N();break}case"Enter":{W.preventDefault();let H=b();if(H){let G=new Event(Vi);H.dispatchEvent(G)}}}}},U.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:wh},c),ti(o,W=>U.createElement(Es.Provider,{value:T},U.createElement(Rs.Provider,{value:E},W))))}),ah=U.forwardRef((o,f)=>{var e,a;let p=ut(),d=U.useRef(null),g=U.useContext(Ts),m=Rn(),c=Is(o),u=(a=(e=c.current)==null?void 0:e.forceMount)!=null?a:g==null?void 0:g.forceMount;Yt(()=>{if(!u)return m.item(p,g==null?void 0:g.id)},[u]);let s=Ds(p,d,[o.value,o.children,d],o.keywords),i=sr(),r=Rt(w=>w.value&&w.value===s.current),t=Rt(w=>u||m.filter()===!1?!0:w.search?w.filtered.items.get(p)>0:!0);U.useEffect(()=>{let w=d.current;if(!(!w||o.disabled))return w.addEventListener(Vi,n),()=>w.removeEventListener(Vi,n)},[t,o.onSelect,o.disabled]);function n(){var w,T;l(),(T=(w=c.current).onSelect)==null||T.call(w,s.current)}function l(){i.setState("value",s.current,!0)}if(!t)return null;let{disabled:h,value:v,onSelect:y,forceMount:C,keywords:$,...S}=o;return U.createElement(Re.div,{ref:Sn(d,f),...S,id:p,"cmdk-item":"",role:"option","aria-disabled":!!h,"aria-selected":!!r,"data-disabled":!!h,"data-selected":!!r,onPointerMove:h||m.getDisablePointerSelection()?void 0:l,onClick:h?void 0:n},o.children)}),lh=U.forwardRef((o,f)=>{let{heading:e,children:a,forceMount:p,...d}=o,g=ut(),m=U.useRef(null),c=U.useRef(null),u=ut(),s=Rn(),i=Rt(t=>p||s.filter()===!1?!0:t.search?t.filtered.groups.has(g):!0);Yt(()=>s.group(g),[]),Ds(g,m,[o.value,o.heading,c]);let r=U.useMemo(()=>({id:g,forceMount:p}),[p]);return U.createElement(Re.div,{ref:Sn(m,f),...d,"cmdk-group":"",role:"presentation",hidden:i?void 0:!0},e&&U.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},e),ti(o,t=>U.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":e?u:void 0},U.createElement(Ts.Provider,{value:r},t))))}),ch=U.forwardRef((o,f)=>{let{alwaysRender:e,...a}=o,p=U.useRef(null),d=Rt(g=>!g.search);return!e&&!d?null:U.createElement(Re.div,{ref:Sn(p,f),...a,"cmdk-separator":"",role:"separator"})}),uh=U.forwardRef((o,f)=>{let{onValueChange:e,...a}=o,p=o.value!=null,d=sr(),g=Rt(u=>u.search),m=Rt(u=>u.selectedItemId),c=Rn();return U.useEffect(()=>{o.value!=null&&d.setState("search",o.value)},[o.value]),U.createElement(Re.input,{ref:f,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":m,id:c.inputId,type:"text",value:p?o.value:g,onChange:u=>{p||d.setState("search",u.target.value),e==null||e(u.target.value)}})}),hh=U.forwardRef((o,f)=>{let{children:e,label:a="Suggestions",...p}=o,d=U.useRef(null),g=U.useRef(null),m=Rt(u=>u.selectedItemId),c=Rn();return U.useEffect(()=>{if(g.current&&d.current){let u=g.current,s=d.current,i,r=new ResizeObserver(()=>{i=requestAnimationFrame(()=>{let t=u.offsetHeight;s.style.setProperty("--cmdk-list-height",t.toFixed(1)+"px")})});return r.observe(u),()=>{cancelAnimationFrame(i),r.unobserve(u)}}},[]),U.createElement(Re.div,{ref:Sn(d,f),...p,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":a,id:c.listId},ti(o,u=>U.createElement("div",{ref:Sn(g,c.listInnerRef),"cmdk-list-sizer":""},u)))}),dh=U.forwardRef((o,f)=>{let{open:e,onOpenChange:a,overlayClassName:p,contentClassName:d,container:g,...m}=o;return U.createElement(ll,{open:e,onOpenChange:a},U.createElement(cl,{container:g},U.createElement(ul,{"cmdk-overlay":"",className:p}),U.createElement(hl,{"aria-label":o.label,"cmdk-dialog":"",className:d},U.createElement(Ls,{ref:f,...m}))))}),fh=U.forwardRef((o,f)=>Rt(e=>e.filtered.count===0)?U.createElement(Re.div,{ref:f,...o,"cmdk-empty":"",role:"presentation"}):null),gh=U.forwardRef((o,f)=>{let{progress:e,children:a,label:p="Loading...",...d}=o;return U.createElement(Re.div,{ref:f,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,"aria-label":p},ti(o,g=>U.createElement("div",{"aria-hidden":!0},g)))}),sn=Object.assign(Ls,{List:hh,Item:ah,Input:uh,Group:lh,Separator:ch,Dialog:dh,Empty:fh,Loading:gh});function ph(o,f){let e=o.nextElementSibling;for(;e;){if(e.matches(f))return e;e=e.nextElementSibling}}function mh(o,f){let e=o.previousElementSibling;for(;e;){if(e.matches(f))return e;e=e.previousElementSibling}}function Is(o){let f=U.useRef(o);return Yt(()=>{f.current=o}),f}var Yt=typeof window>"u"?U.useEffect:U.useLayoutEffect;function Zt(o){let f=U.useRef();return f.current===void 0&&(f.current=o()),f}function Rt(o){let f=sr(),e=()=>o(f.snapshot());return U.useSyncExternalStore(f.subscribe,e,e)}function Ds(o,f,e,a=[]){let p=U.useRef(),d=Rn();return Yt(()=>{var g;let m=(()=>{var u;for(let s of e){if(typeof s=="string")return s.trim();if(typeof s=="object"&&"current"in s)return s.current?(u=s.current.textContent)==null?void 0:u.trim():p.current}})(),c=a.map(u=>u.trim());d.value(o,m,c),(g=f.current)==null||g.setAttribute(Xt,m),p.current=m}),p}var vh=()=>{let[o,f]=U.useState(),e=Zt(()=>new Map);return Yt(()=>{e.current.forEach(a=>a()),e.current=new Map},[o]),(a,p)=>{e.current.set(a,p),f({})}};function yh(o){let f=o.type;return typeof f=="function"?f(o.props):"render"in f?f.render(o.props):o}function ti({asChild:o,children:f},e){return o&&U.isValidElement(f)?U.cloneElement(yh(f),{ref:f.ref},e(f.props.children)):e(f)}var wh={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function bh({className:o,...f}){return I.jsx(sn,{"data-slot":"command",className:Oe("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",o),...f})}function xh({className:o,...f}){return I.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[I.jsx(El,{className:"size-4 shrink-0 opacity-50"}),I.jsx(sn.Input,{"data-slot":"command-input",className:Oe("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",o),...f})]})}function Sh({className:o,...f}){return I.jsx(sn.List,{"data-slot":"command-list",className:Oe("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",o),...f})}function Ch({...o}){return I.jsx(sn.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...o})}function $h({className:o,...f}){return I.jsx(sn.Group,{"data-slot":"command-group",className:Oe("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",o),...f})}function Mh({className:o,...f}){return I.jsx(sn.Item,{"data-slot":"command-item",className:Oe("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),...f})}var ar="Popover",[Os,Sg]=An(ar,[Qn]),En=Qn(),[_h,It]=Os(ar),Ns=o=>{const{__scopePopover:f,children:e,open:a,defaultOpen:p,onOpenChange:d,modal:g=!1}=o,m=En(f),c=U.useRef(null),[u,s]=U.useState(!1),[i=!1,r]=bn({prop:a,defaultProp:p,onChange:d});return I.jsx(ao,{...m,children:I.jsx(_h,{scope:f,contentId:ut(),triggerRef:c,open:i,onOpenChange:r,onOpenToggle:U.useCallback(()=>r(t=>!t),[r]),hasCustomAnchor:u,onCustomAnchorAdd:U.useCallback(()=>s(!0),[]),onCustomAnchorRemove:U.useCallback(()=>s(!1),[]),modal:g,children:e})})};Ns.displayName=ar;var Ps="PopoverAnchor",Ah=U.forwardRef((o,f)=>{const{__scopePopover:e,...a}=o,p=It(Ps,e),d=En(e),{onCustomAnchorAdd:g,onCustomAnchorRemove:m}=p;return U.useEffect(()=>(g(),()=>m()),[g,m]),I.jsx(Qi,{...d,...a,ref:f})});Ah.displayName=Ps;var Fs="PopoverTrigger",js=U.forwardRef((o,f)=>{const{__scopePopover:e,...a}=o,p=It(Fs,e),d=En(e),g=et(f,p.triggerRef),m=I.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":p.open,"aria-controls":p.contentId,"data-state":Vs(p.open),...a,ref:g,onClick:Le(o.onClick,p.onOpenToggle)});return p.hasCustomAnchor?m:I.jsx(Qi,{asChild:!0,...d,children:m})});js.displayName=Fs;var lr="PopoverPortal",[kh,Rh]=Os(lr,{forceMount:void 0}),Hs=o=>{const{__scopePopover:f,forceMount:e,children:a,container:p}=o,d=It(lr,f);return I.jsx(kh,{scope:f,forceMount:e,children:I.jsx(Kn,{present:e||d.open,children:I.jsx(lo,{asChild:!0,container:p,children:a})})})};Hs.displayName=lr;var nn="PopoverContent",Ws=U.forwardRef((o,f)=>{const e=Rh(nn,o.__scopePopover),{forceMount:a=e.forceMount,...p}=o,d=It(nn,o.__scopePopover);return I.jsx(Kn,{present:a||d.open,children:d.modal?I.jsx(Eh,{...p,ref:f}):I.jsx(Th,{...p,ref:f})})});Ws.displayName=nn;var Eh=U.forwardRef((o,f)=>{const e=It(nn,o.__scopePopover),a=U.useRef(null),p=et(f,a),d=U.useRef(!1);return U.useEffect(()=>{const g=a.current;if(g)return co(g)},[]),I.jsx(ho,{as:fo,allowPinchZoom:!0,children:I.jsx(zs,{...o,ref:p,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(o.onCloseAutoFocus,g=>{var m;g.preventDefault(),d.current||(m=e.triggerRef.current)==null||m.focus()}),onPointerDownOutside:Le(o.onPointerDownOutside,g=>{const m=g.detail.originalEvent,c=m.button===0&&m.ctrlKey===!0,u=m.button===2||c;d.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Le(o.onFocusOutside,g=>g.preventDefault(),{checkForDefaultPrevented:!1})})})}),Th=U.forwardRef((o,f)=>{const e=It(nn,o.__scopePopover),a=U.useRef(!1),p=U.useRef(!1);return I.jsx(zs,{...o,ref:f,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var g,m;(g=o.onCloseAutoFocus)==null||g.call(o,d),d.defaultPrevented||(a.current||(m=e.triggerRef.current)==null||m.focus(),d.preventDefault()),a.current=!1,p.current=!1},onInteractOutside:d=>{var c,u;(c=o.onInteractOutside)==null||c.call(o,d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(p.current=!0));const g=d.target;((u=e.triggerRef.current)==null?void 0:u.contains(g))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&p.current&&d.preventDefault()}})}),zs=U.forwardRef((o,f)=>{const{__scopePopover:e,trapFocus:a,onOpenAutoFocus:p,onCloseAutoFocus:d,disableOutsidePointerEvents:g,onEscapeKeyDown:m,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:s,...i}=o,r=It(nn,e),t=En(e);return uo(),I.jsx(go,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:p,onUnmountAutoFocus:d,children:I.jsx(po,{asChild:!0,disableOutsidePointerEvents:g,onInteractOutside:s,onEscapeKeyDown:m,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>r.onOpenChange(!1),children:I.jsx(mo,{"data-state":Vs(r.open),role:"dialog",id:r.contentId,...t,...i,ref:f,style:{...i.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Bs="PopoverClose",Lh=U.forwardRef((o,f)=>{const{__scopePopover:e,...a}=o,p=It(Bs,e);return I.jsx(Re.button,{type:"button",...a,ref:f,onClick:Le(o.onClick,()=>p.onOpenChange(!1))})});Lh.displayName=Bs;var Ih="PopoverArrow",Dh=U.forwardRef((o,f)=>{const{__scopePopover:e,...a}=o,p=En(e);return I.jsx(vo,{...p,...a,ref:f})});Dh.displayName=Ih;function Vs(o){return o?"open":"closed"}var Oh=Ns,Nh=js,Ph=Hs,Fh=Ws;function jh({...o}){return I.jsx(Oh,{"data-slot":"popover",...o})}function Hh({...o}){return I.jsx(Nh,{"data-slot":"popover-trigger",...o})}function Wh({className:o,align:f="center",sideOffset:e=4,...a}){return I.jsx(Ph,{children:I.jsx(Fh,{"data-slot":"popover-content",align:f,sideOffset:e,className:Oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",o),...a})})}function Ht({options:o,value:f,onValueChange:e,placeholder:a="默认值为空",mode:p="single",disabled:d=!1,terminateCancelSelect:g,displayNum:m=5,clearAble:c=!1}){const[u,s]=U.useState(!1);U.useEffect(()=>{if(!c&&(!f||Array.isArray(f)&&f.length===0)&&o.length>0){const n=o[0].value;e(p==="single"?n:[n])}},[o,c,f,p]),U.useEffect(()=>{o.forEach(n=>{const l=n.value,h=n.key;(!h||h==="")&&fe.error("选项必须包含key"),(!l||l==="")&&fe.error("选项必须包含value")})},[o]);const i=n=>{if(!(g&&g(n)&&(p==="single"&&n===f||p==="multiple"&&Array.isArray(f)&&f.includes(n))))if(p==="single"){if(!c&&n===f)return;e(n===f?"":n),s(!1)}else{const l=Array.isArray(f)?f:[];if(!c&&l.length===1&&l.includes(n))return;const h=l.includes(n)?l.filter(v=>v!==n):[...l,n];e(h)}},r=()=>{if(p==="multiple"){const n=o.map(v=>v.value),h=(Array.isArray(f)?f:[]).length===n.length?[]:n;e(h)}},t=p==="single"?f||a:f.length>0?f.length<=m?f.join(", "):f.length===o.length?"全部":`已选 ${f.length} 项`:a;return I.jsxs(jh,{open:u,onOpenChange:s,children:[I.jsx(Hh,{asChild:!0,children:I.jsxs(be,{variant:"outline",role:"combobox","aria-expanded":u,className:"w-full justify-between",disabled:d||o.length===0,children:[I.jsx("div",{className:"truncate max-w-[calc(100%-40px)]",children:t}),I.jsx(wl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),I.jsx(Wh,{className:"w-full p-0",children:I.jsxs(bh,{children:[I.jsx(xh,{placeholder:"搜索选项...",disabled:o.length===0}),p==="multiple"&&I.jsx("div",{className:"flex justify-end p-2",children:I.jsx(be,{className:"w-full",size:"sm",variant:"outline",onClick:r,disabled:o.length===0,children:f&&Array.isArray(f)&&f.length===o.length?"清空":"全选"})}),I.jsxs(Sh,{children:[I.jsx(Ch,{children:"没有找到选项"}),I.jsx($h,{children:o.map(n=>I.jsxs(Mh,{value:n.value,onSelect:()=>i(n.value),children:[I.jsx(wo,{className:Oe("mr-2 h-4 w-4",p==="single"?f===n.value?"opacity-100":"opacity-0":Array.isArray(f)&&f.includes(n.value)?"opacity-100":"opacity-0")}),n.value]},n.key))})]})]})})]})}const Gs=6048e5,zh=864e5,Bh=6e4,Vh=36e5,Gh=1e3,Kr=Symbol.for("constructDateFrom");function Ue(o,f){return typeof o=="function"?o(f):o&&typeof o=="object"&&Kr in o?o[Kr](f):o instanceof Date?new o.constructor(f):new Date(f)}function Be(o,f){return Ue(f||o,o)}function Vn(o,f,e){const a=Be(o,e==null?void 0:e.in);return isNaN(f)?Ue((e==null?void 0:e.in)||o,NaN):(f&&a.setDate(a.getDate()+f),a)}let Uh={};function an(){return Uh}function Et(o,f){var m,c,u,s;const e=an(),a=(f==null?void 0:f.weekStartsOn)??((c=(m=f==null?void 0:f.locale)==null?void 0:m.options)==null?void 0:c.weekStartsOn)??e.weekStartsOn??((s=(u=e.locale)==null?void 0:u.options)==null?void 0:s.weekStartsOn)??0,p=Be(o,f==null?void 0:f.in),d=p.getDay(),g=(d<a?7:0)+d-a;return p.setDate(p.getDate()-g),p.setHours(0,0,0,0),p}function rn(o,f){return Et(o,{...f,weekStartsOn:1})}function Us(o,f){const e=Be(o,f==null?void 0:f.in),a=e.getFullYear(),p=Ue(e,0);p.setFullYear(a+1,0,4),p.setHours(0,0,0,0);const d=rn(p),g=Ue(e,0);g.setFullYear(a,0,4),g.setHours(0,0,0,0);const m=rn(g);return e.getTime()>=d.getTime()?a+1:e.getTime()>=m.getTime()?a:a-1}function Gn(o){const f=Be(o),e=new Date(Date.UTC(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()));return e.setUTCFullYear(f.getFullYear()),+o-+e}function Yh(o,...f){const e=Ue.bind(null,o||f.find(a=>typeof a=="object"));return f.map(e)}function Qr(o,f){const e=Be(o,f==null?void 0:f.in);return e.setHours(0,0,0,0),e}function Kh(o,f,e){const[a,p]=Yh(e==null?void 0:e.in,o,f),d=Qr(a),g=Qr(p),m=+d-Gn(d),c=+g-Gn(g);return Math.round((m-c)/zh)}function Qh(o,f){const e=Us(o,f),a=Ue(o,0);return a.setFullYear(e,0,4),a.setHours(0,0,0,0),rn(a)}function qh(o){return o instanceof Date||typeof o=="object"&&Object.prototype.toString.call(o)==="[object Date]"}function Xh(o){return!(!qh(o)&&typeof o!="number"||isNaN(+Be(o)))}function Zh(o,f){const e=Be(o,f==null?void 0:f.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const Jh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ed=(o,f,e)=>{let a;const p=Jh[o];return typeof p=="string"?a=p:f===1?a=p.one:a=p.other.replace("{{count}}",f.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+a:a+" ago":a};function Ri(o){return(f={})=>{const e=f.width?String(f.width):o.defaultWidth;return o.formats[e]||o.formats[o.defaultWidth]}}const td={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nd={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},id={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rd={date:Ri({formats:td,defaultWidth:"full"}),time:Ri({formats:nd,defaultWidth:"full"}),dateTime:Ri({formats:id,defaultWidth:"full"})},od={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sd=(o,f,e,a)=>od[o];function pn(o){return(f,e)=>{const a=e!=null&&e.context?String(e.context):"standalone";let p;if(a==="formatting"&&o.formattingValues){const g=o.defaultFormattingWidth||o.defaultWidth,m=e!=null&&e.width?String(e.width):g;p=o.formattingValues[m]||o.formattingValues[g]}else{const g=o.defaultWidth,m=e!=null&&e.width?String(e.width):o.defaultWidth;p=o.values[m]||o.values[g]}const d=o.argumentCallback?o.argumentCallback(f):f;return p[d]}}const ad={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ld={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ud={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fd=(o,f)=>{const e=Number(o),a=e%100;if(a>20||a<10)switch(a%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},gd={ordinalNumber:fd,era:pn({values:ad,defaultWidth:"wide"}),quarter:pn({values:ld,defaultWidth:"wide",argumentCallback:o=>o-1}),month:pn({values:cd,defaultWidth:"wide"}),day:pn({values:ud,defaultWidth:"wide"}),dayPeriod:pn({values:hd,defaultWidth:"wide",formattingValues:dd,defaultFormattingWidth:"wide"})};function mn(o){return(f,e={})=>{const a=e.width,p=a&&o.matchPatterns[a]||o.matchPatterns[o.defaultMatchWidth],d=f.match(p);if(!d)return null;const g=d[0],m=a&&o.parsePatterns[a]||o.parsePatterns[o.defaultParseWidth],c=Array.isArray(m)?md(m,i=>i.test(g)):pd(m,i=>i.test(g));let u;u=o.valueCallback?o.valueCallback(c):c,u=e.valueCallback?e.valueCallback(u):u;const s=f.slice(g.length);return{value:u,rest:s}}}function pd(o,f){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)&&f(o[e]))return e}function md(o,f){for(let e=0;e<o.length;e++)if(f(o[e]))return e}function vd(o){return(f,e={})=>{const a=f.match(o.matchPattern);if(!a)return null;const p=a[0],d=f.match(o.parsePattern);if(!d)return null;let g=o.valueCallback?o.valueCallback(d[0]):d[0];g=e.valueCallback?e.valueCallback(g):g;const m=f.slice(p.length);return{value:g,rest:m}}}const yd=/^(\d+)(th|st|nd|rd)?/i,wd=/\d+/i,bd={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xd={any:[/^b/i,/^(a|c)/i]},Sd={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cd={any:[/1/i,/2/i,/3/i,/4/i]},$d={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Md={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_d={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ad={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kd={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rd={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ed={ordinalNumber:vd({matchPattern:yd,parsePattern:wd,valueCallback:o=>parseInt(o,10)}),era:mn({matchPatterns:bd,defaultMatchWidth:"wide",parsePatterns:xd,defaultParseWidth:"any"}),quarter:mn({matchPatterns:Sd,defaultMatchWidth:"wide",parsePatterns:Cd,defaultParseWidth:"any",valueCallback:o=>o+1}),month:mn({matchPatterns:$d,defaultMatchWidth:"wide",parsePatterns:Md,defaultParseWidth:"any"}),day:mn({matchPatterns:_d,defaultMatchWidth:"wide",parsePatterns:Ad,defaultParseWidth:"any"}),dayPeriod:mn({matchPatterns:kd,defaultMatchWidth:"any",parsePatterns:Rd,defaultParseWidth:"any"})},Ys={code:"en-US",formatDistance:ed,formatLong:rd,formatRelative:sd,localize:gd,match:Ed,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Td(o,f){const e=Be(o,f==null?void 0:f.in);return Kh(e,Zh(e))+1}function Ks(o,f){const e=Be(o,f==null?void 0:f.in),a=+rn(e)-+Qh(e);return Math.round(a/Gs)+1}function cr(o,f){var s,i,r,t;const e=Be(o,f==null?void 0:f.in),a=e.getFullYear(),p=an(),d=(f==null?void 0:f.firstWeekContainsDate)??((i=(s=f==null?void 0:f.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??p.firstWeekContainsDate??((t=(r=p.locale)==null?void 0:r.options)==null?void 0:t.firstWeekContainsDate)??1,g=Ue((f==null?void 0:f.in)||o,0);g.setFullYear(a+1,0,d),g.setHours(0,0,0,0);const m=Et(g,f),c=Ue((f==null?void 0:f.in)||o,0);c.setFullYear(a,0,d),c.setHours(0,0,0,0);const u=Et(c,f);return+e>=+m?a+1:+e>=+u?a:a-1}function Ld(o,f){var m,c,u,s;const e=an(),a=(f==null?void 0:f.firstWeekContainsDate)??((c=(m=f==null?void 0:f.locale)==null?void 0:m.options)==null?void 0:c.firstWeekContainsDate)??e.firstWeekContainsDate??((s=(u=e.locale)==null?void 0:u.options)==null?void 0:s.firstWeekContainsDate)??1,p=cr(o,f),d=Ue((f==null?void 0:f.in)||o,0);return d.setFullYear(p,0,a),d.setHours(0,0,0,0),Et(d,f)}function Qs(o,f){const e=Be(o,f==null?void 0:f.in),a=+Et(e,f)-+Ld(e,f);return Math.round(a/Gs)+1}function Te(o,f){const e=o<0?"-":"",a=Math.abs(o).toString().padStart(f,"0");return e+a}const Mt={y(o,f){const e=o.getFullYear(),a=e>0?e:1-e;return Te(f==="yy"?a%100:a,f.length)},M(o,f){const e=o.getMonth();return f==="M"?String(e+1):Te(e+1,2)},d(o,f){return Te(o.getDate(),f.length)},a(o,f){const e=o.getHours()/12>=1?"pm":"am";switch(f){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(o,f){return Te(o.getHours()%12||12,f.length)},H(o,f){return Te(o.getHours(),f.length)},m(o,f){return Te(o.getMinutes(),f.length)},s(o,f){return Te(o.getSeconds(),f.length)},S(o,f){const e=f.length,a=o.getMilliseconds(),p=Math.trunc(a*Math.pow(10,e-3));return Te(p,f.length)}},qt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qr={G:function(o,f,e){const a=o.getFullYear()>0?1:0;switch(f){case"G":case"GG":case"GGG":return e.era(a,{width:"abbreviated"});case"GGGGG":return e.era(a,{width:"narrow"});case"GGGG":default:return e.era(a,{width:"wide"})}},y:function(o,f,e){if(f==="yo"){const a=o.getFullYear(),p=a>0?a:1-a;return e.ordinalNumber(p,{unit:"year"})}return Mt.y(o,f)},Y:function(o,f,e,a){const p=cr(o,a),d=p>0?p:1-p;if(f==="YY"){const g=d%100;return Te(g,2)}return f==="Yo"?e.ordinalNumber(d,{unit:"year"}):Te(d,f.length)},R:function(o,f){const e=Us(o);return Te(e,f.length)},u:function(o,f){const e=o.getFullYear();return Te(e,f.length)},Q:function(o,f,e){const a=Math.ceil((o.getMonth()+1)/3);switch(f){case"Q":return String(a);case"QQ":return Te(a,2);case"Qo":return e.ordinalNumber(a,{unit:"quarter"});case"QQQ":return e.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(a,{width:"wide",context:"formatting"})}},q:function(o,f,e){const a=Math.ceil((o.getMonth()+1)/3);switch(f){case"q":return String(a);case"qq":return Te(a,2);case"qo":return e.ordinalNumber(a,{unit:"quarter"});case"qqq":return e.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(a,{width:"wide",context:"standalone"})}},M:function(o,f,e){const a=o.getMonth();switch(f){case"M":case"MM":return Mt.M(o,f);case"Mo":return e.ordinalNumber(a+1,{unit:"month"});case"MMM":return e.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(a,{width:"wide",context:"formatting"})}},L:function(o,f,e){const a=o.getMonth();switch(f){case"L":return String(a+1);case"LL":return Te(a+1,2);case"Lo":return e.ordinalNumber(a+1,{unit:"month"});case"LLL":return e.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(a,{width:"wide",context:"standalone"})}},w:function(o,f,e,a){const p=Qs(o,a);return f==="wo"?e.ordinalNumber(p,{unit:"week"}):Te(p,f.length)},I:function(o,f,e){const a=Ks(o);return f==="Io"?e.ordinalNumber(a,{unit:"week"}):Te(a,f.length)},d:function(o,f,e){return f==="do"?e.ordinalNumber(o.getDate(),{unit:"date"}):Mt.d(o,f)},D:function(o,f,e){const a=Td(o);return f==="Do"?e.ordinalNumber(a,{unit:"dayOfYear"}):Te(a,f.length)},E:function(o,f,e){const a=o.getDay();switch(f){case"E":case"EE":case"EEE":return e.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(a,{width:"short",context:"formatting"});case"EEEE":default:return e.day(a,{width:"wide",context:"formatting"})}},e:function(o,f,e,a){const p=o.getDay(),d=(p-a.weekStartsOn+8)%7||7;switch(f){case"e":return String(d);case"ee":return Te(d,2);case"eo":return e.ordinalNumber(d,{unit:"day"});case"eee":return e.day(p,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(p,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(p,{width:"short",context:"formatting"});case"eeee":default:return e.day(p,{width:"wide",context:"formatting"})}},c:function(o,f,e,a){const p=o.getDay(),d=(p-a.weekStartsOn+8)%7||7;switch(f){case"c":return String(d);case"cc":return Te(d,f.length);case"co":return e.ordinalNumber(d,{unit:"day"});case"ccc":return e.day(p,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(p,{width:"narrow",context:"standalone"});case"cccccc":return e.day(p,{width:"short",context:"standalone"});case"cccc":default:return e.day(p,{width:"wide",context:"standalone"})}},i:function(o,f,e){const a=o.getDay(),p=a===0?7:a;switch(f){case"i":return String(p);case"ii":return Te(p,f.length);case"io":return e.ordinalNumber(p,{unit:"day"});case"iii":return e.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(a,{width:"short",context:"formatting"});case"iiii":default:return e.day(a,{width:"wide",context:"formatting"})}},a:function(o,f,e){const p=o.getHours()/12>=1?"pm":"am";switch(f){case"a":case"aa":return e.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(p,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(p,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(p,{width:"wide",context:"formatting"})}},b:function(o,f,e){const a=o.getHours();let p;switch(a===12?p=qt.noon:a===0?p=qt.midnight:p=a/12>=1?"pm":"am",f){case"b":case"bb":return e.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(p,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(p,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(p,{width:"wide",context:"formatting"})}},B:function(o,f,e){const a=o.getHours();let p;switch(a>=17?p=qt.evening:a>=12?p=qt.afternoon:a>=4?p=qt.morning:p=qt.night,f){case"B":case"BB":case"BBB":return e.dayPeriod(p,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(p,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(p,{width:"wide",context:"formatting"})}},h:function(o,f,e){if(f==="ho"){let a=o.getHours()%12;return a===0&&(a=12),e.ordinalNumber(a,{unit:"hour"})}return Mt.h(o,f)},H:function(o,f,e){return f==="Ho"?e.ordinalNumber(o.getHours(),{unit:"hour"}):Mt.H(o,f)},K:function(o,f,e){const a=o.getHours()%12;return f==="Ko"?e.ordinalNumber(a,{unit:"hour"}):Te(a,f.length)},k:function(o,f,e){let a=o.getHours();return a===0&&(a=24),f==="ko"?e.ordinalNumber(a,{unit:"hour"}):Te(a,f.length)},m:function(o,f,e){return f==="mo"?e.ordinalNumber(o.getMinutes(),{unit:"minute"}):Mt.m(o,f)},s:function(o,f,e){return f==="so"?e.ordinalNumber(o.getSeconds(),{unit:"second"}):Mt.s(o,f)},S:function(o,f){return Mt.S(o,f)},X:function(o,f,e){const a=o.getTimezoneOffset();if(a===0)return"Z";switch(f){case"X":return Zr(a);case"XXXX":case"XX":return jt(a);case"XXXXX":case"XXX":default:return jt(a,":")}},x:function(o,f,e){const a=o.getTimezoneOffset();switch(f){case"x":return Zr(a);case"xxxx":case"xx":return jt(a);case"xxxxx":case"xxx":default:return jt(a,":")}},O:function(o,f,e){const a=o.getTimezoneOffset();switch(f){case"O":case"OO":case"OOO":return"GMT"+Xr(a,":");case"OOOO":default:return"GMT"+jt(a,":")}},z:function(o,f,e){const a=o.getTimezoneOffset();switch(f){case"z":case"zz":case"zzz":return"GMT"+Xr(a,":");case"zzzz":default:return"GMT"+jt(a,":")}},t:function(o,f,e){const a=Math.trunc(+o/1e3);return Te(a,f.length)},T:function(o,f,e){return Te(+o,f.length)}};function Xr(o,f=""){const e=o>0?"-":"+",a=Math.abs(o),p=Math.trunc(a/60),d=a%60;return d===0?e+String(p):e+String(p)+f+Te(d,2)}function Zr(o,f){return o%60===0?(o>0?"-":"+")+Te(Math.abs(o)/60,2):jt(o,f)}function jt(o,f=""){const e=o>0?"-":"+",a=Math.abs(o),p=Te(Math.trunc(a/60),2),d=Te(a%60,2);return e+p+f+d}const Jr=(o,f)=>{switch(o){case"P":return f.date({width:"short"});case"PP":return f.date({width:"medium"});case"PPP":return f.date({width:"long"});case"PPPP":default:return f.date({width:"full"})}},qs=(o,f)=>{switch(o){case"p":return f.time({width:"short"});case"pp":return f.time({width:"medium"});case"ppp":return f.time({width:"long"});case"pppp":default:return f.time({width:"full"})}},Id=(o,f)=>{const e=o.match(/(P+)(p+)?/)||[],a=e[1],p=e[2];if(!p)return Jr(o,f);let d;switch(a){case"P":d=f.dateTime({width:"short"});break;case"PP":d=f.dateTime({width:"medium"});break;case"PPP":d=f.dateTime({width:"long"});break;case"PPPP":default:d=f.dateTime({width:"full"});break}return d.replace("{{date}}",Jr(a,f)).replace("{{time}}",qs(p,f))},Gi={p:qs,P:Id},Dd=/^D+$/,Od=/^Y+$/,Nd=["D","DD","YY","YYYY"];function Xs(o){return Dd.test(o)}function Zs(o){return Od.test(o)}function Ui(o,f,e){const a=Pd(o,f,e);if(console.warn(a),Nd.includes(o))throw new RangeError(a)}function Pd(o,f,e){const a=o[0]==="Y"?"years":"days of the month";return`Use \`${o.toLowerCase()}\` instead of \`${o}\` (in \`${f}\`) for formatting ${a} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hd=/^'([^]*?)'?$/,Wd=/''/g,zd=/[a-zA-Z]/;function eo(o,f,e){var s,i,r,t,n,l,h,v;const a=an(),p=(e==null?void 0:e.locale)??a.locale??Ys,d=(e==null?void 0:e.firstWeekContainsDate)??((i=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??a.firstWeekContainsDate??((t=(r=a.locale)==null?void 0:r.options)==null?void 0:t.firstWeekContainsDate)??1,g=(e==null?void 0:e.weekStartsOn)??((l=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:l.weekStartsOn)??a.weekStartsOn??((v=(h=a.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??0,m=Be(o,e==null?void 0:e.in);if(!Xh(m))throw new RangeError("Invalid time value");let c=f.match(jd).map(y=>{const C=y[0];if(C==="p"||C==="P"){const $=Gi[C];return $(y,p.formatLong)}return y}).join("").match(Fd).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const C=y[0];if(C==="'")return{isToken:!1,value:Bd(y)};if(qr[C])return{isToken:!0,value:y};if(C.match(zd))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:y}});p.localize.preprocessor&&(c=p.localize.preprocessor(m,c));const u={firstWeekContainsDate:d,weekStartsOn:g,locale:p};return c.map(y=>{if(!y.isToken)return y.value;const C=y.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Zs(C)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&Xs(C))&&Ui(C,f,String(o));const $=qr[C[0]];return $(m,C,p.localize,u)}).join("")}function Bd(o){const f=o.match(Hd);return f?f[1].replace(Wd,"'"):o}function Vd(){return Object.assign({},an())}function Gd(o,f){const e=Be(o,f==null?void 0:f.in).getDay();return e===0?7:e}function Ud(o,f){const e=Yd(f)?new f(0):Ue(f,0);return e.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),e.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),e}function Yd(o){var f;return typeof o=="function"&&((f=o.prototype)==null?void 0:f.constructor)===o}const Kd=10;class Js{constructor(){re(this,"subPriority",0)}validate(f,e){return!0}}class Qd extends Js{constructor(f,e,a,p,d){super(),this.value=f,this.validateValue=e,this.setValue=a,this.priority=p,d&&(this.subPriority=d)}validate(f,e){return this.validateValue(f,this.value,e)}set(f,e,a){return this.setValue(f,e,this.value,a)}}class qd extends Js{constructor(e,a){super();re(this,"priority",Kd);re(this,"subPriority",-1);this.context=e||(p=>Ue(a,p))}set(e,a){return a.timestampIsSet?e:Ue(e,Ud(e,this.context))}}class Ee{run(f,e,a,p){const d=this.parse(f,e,a,p);return d?{setter:new Qd(d.value,this.validate,this.set,this.priority,this.subPriority),rest:d.rest}:null}validate(f,e,a){return!0}}class Xd extends Ee{constructor(){super(...arguments);re(this,"priority",140);re(this,"incompatibleTokens",["R","u","t","T"])}parse(e,a,p){switch(a){case"G":case"GG":case"GGG":return p.era(e,{width:"abbreviated"})||p.era(e,{width:"narrow"});case"GGGGG":return p.era(e,{width:"narrow"});case"GGGG":default:return p.era(e,{width:"wide"})||p.era(e,{width:"abbreviated"})||p.era(e,{width:"narrow"})}}set(e,a,p){return a.era=p,e.setFullYear(p,0,1),e.setHours(0,0,0,0),e}}const We={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},dt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ze(o,f){return o&&{value:f(o.value),rest:o.rest}}function Fe(o,f){const e=f.match(o);return e?{value:parseInt(e[0],10),rest:f.slice(e[0].length)}:null}function ft(o,f){const e=f.match(o);if(!e)return null;if(e[0]==="Z")return{value:0,rest:f.slice(1)};const a=e[1]==="+"?1:-1,p=e[2]?parseInt(e[2],10):0,d=e[3]?parseInt(e[3],10):0,g=e[5]?parseInt(e[5],10):0;return{value:a*(p*Vh+d*Bh+g*Gh),rest:f.slice(e[0].length)}}function ea(o){return Fe(We.anyDigitsSigned,o)}function He(o,f){switch(o){case 1:return Fe(We.singleDigit,f);case 2:return Fe(We.twoDigits,f);case 3:return Fe(We.threeDigits,f);case 4:return Fe(We.fourDigits,f);default:return Fe(new RegExp("^\\d{1,"+o+"}"),f)}}function Un(o,f){switch(o){case 1:return Fe(We.singleDigitSigned,f);case 2:return Fe(We.twoDigitsSigned,f);case 3:return Fe(We.threeDigitsSigned,f);case 4:return Fe(We.fourDigitsSigned,f);default:return Fe(new RegExp("^-?\\d{1,"+o+"}"),f)}}function ur(o){switch(o){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ta(o,f){const e=f>0,a=e?f:1-f;let p;if(a<=50)p=o||100;else{const d=a+50,g=Math.trunc(d/100)*100,m=o>=d%100;p=o+g-(m?100:0)}return e?p:1-p}function na(o){return o%400===0||o%4===0&&o%100!==0}class Zd extends Ee{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,a,p){const d=g=>({year:g,isTwoDigitYear:a==="yy"});switch(a){case"y":return ze(He(4,e),d);case"yo":return ze(p.ordinalNumber(e,{unit:"year"}),d);default:return ze(He(a.length,e),d)}}validate(e,a){return a.isTwoDigitYear||a.year>0}set(e,a,p){const d=e.getFullYear();if(p.isTwoDigitYear){const m=ta(p.year,d);return e.setFullYear(m,0,1),e.setHours(0,0,0,0),e}const g=!("era"in a)||a.era===1?p.year:1-p.year;return e.setFullYear(g,0,1),e.setHours(0,0,0,0),e}}class Jd extends Ee{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,a,p){const d=g=>({year:g,isTwoDigitYear:a==="YY"});switch(a){case"Y":return ze(He(4,e),d);case"Yo":return ze(p.ordinalNumber(e,{unit:"year"}),d);default:return ze(He(a.length,e),d)}}validate(e,a){return a.isTwoDigitYear||a.year>0}set(e,a,p,d){const g=cr(e,d);if(p.isTwoDigitYear){const c=ta(p.year,g);return e.setFullYear(c,0,d.firstWeekContainsDate),e.setHours(0,0,0,0),Et(e,d)}const m=!("era"in a)||a.era===1?p.year:1-p.year;return e.setFullYear(m,0,d.firstWeekContainsDate),e.setHours(0,0,0,0),Et(e,d)}}class ef extends Ee{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,a){return Un(a==="R"?4:a.length,e)}set(e,a,p){const d=Ue(e,0);return d.setFullYear(p,0,4),d.setHours(0,0,0,0),rn(d)}}class tf extends Ee{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,a){return Un(a==="u"?4:a.length,e)}set(e,a,p){return e.setFullYear(p,0,1),e.setHours(0,0,0,0),e}}class nf extends Ee{constructor(){super(...arguments);re(this,"priority",120);re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,a,p){switch(a){case"Q":case"QQ":return He(a.length,e);case"Qo":return p.ordinalNumber(e,{unit:"quarter"});case"QQQ":return p.quarter(e,{width:"abbreviated",context:"formatting"})||p.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return p.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return p.quarter(e,{width:"wide",context:"formatting"})||p.quarter(e,{width:"abbreviated",context:"formatting"})||p.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,a){return a>=1&&a<=4}set(e,a,p){return e.setMonth((p-1)*3,1),e.setHours(0,0,0,0),e}}class rf extends Ee{constructor(){super(...arguments);re(this,"priority",120);re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,a,p){switch(a){case"q":case"qq":return He(a.length,e);case"qo":return p.ordinalNumber(e,{unit:"quarter"});case"qqq":return p.quarter(e,{width:"abbreviated",context:"standalone"})||p.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return p.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return p.quarter(e,{width:"wide",context:"standalone"})||p.quarter(e,{width:"abbreviated",context:"standalone"})||p.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,a){return a>=1&&a<=4}set(e,a,p){return e.setMonth((p-1)*3,1),e.setHours(0,0,0,0),e}}class of extends Ee{constructor(){super(...arguments);re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);re(this,"priority",110)}parse(e,a,p){const d=g=>g-1;switch(a){case"M":return ze(Fe(We.month,e),d);case"MM":return ze(He(2,e),d);case"Mo":return ze(p.ordinalNumber(e,{unit:"month"}),d);case"MMM":return p.month(e,{width:"abbreviated",context:"formatting"})||p.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return p.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return p.month(e,{width:"wide",context:"formatting"})||p.month(e,{width:"abbreviated",context:"formatting"})||p.month(e,{width:"narrow",context:"formatting"})}}validate(e,a){return a>=0&&a<=11}set(e,a,p){return e.setMonth(p,1),e.setHours(0,0,0,0),e}}class sf extends Ee{constructor(){super(...arguments);re(this,"priority",110);re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,a,p){const d=g=>g-1;switch(a){case"L":return ze(Fe(We.month,e),d);case"LL":return ze(He(2,e),d);case"Lo":return ze(p.ordinalNumber(e,{unit:"month"}),d);case"LLL":return p.month(e,{width:"abbreviated",context:"standalone"})||p.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return p.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return p.month(e,{width:"wide",context:"standalone"})||p.month(e,{width:"abbreviated",context:"standalone"})||p.month(e,{width:"narrow",context:"standalone"})}}validate(e,a){return a>=0&&a<=11}set(e,a,p){return e.setMonth(p,1),e.setHours(0,0,0,0),e}}function af(o,f,e){const a=Be(o,e==null?void 0:e.in),p=Qs(a,e)-f;return a.setDate(a.getDate()-p*7),Be(a,e==null?void 0:e.in)}class lf extends Ee{constructor(){super(...arguments);re(this,"priority",100);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,a,p){switch(a){case"w":return Fe(We.week,e);case"wo":return p.ordinalNumber(e,{unit:"week"});default:return He(a.length,e)}}validate(e,a){return a>=1&&a<=53}set(e,a,p,d){return Et(af(e,p,d),d)}}function cf(o,f,e){const a=Be(o,e==null?void 0:e.in),p=Ks(a,e)-f;return a.setDate(a.getDate()-p*7),a}class uf extends Ee{constructor(){super(...arguments);re(this,"priority",100);re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,a,p){switch(a){case"I":return Fe(We.week,e);case"Io":return p.ordinalNumber(e,{unit:"week"});default:return He(a.length,e)}}validate(e,a){return a>=1&&a<=53}set(e,a,p){return rn(cf(e,p))}}const hf=[31,28,31,30,31,30,31,31,30,31,30,31],df=[31,29,31,30,31,30,31,31,30,31,30,31];class ff extends Ee{constructor(){super(...arguments);re(this,"priority",90);re(this,"subPriority",1);re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,a,p){switch(a){case"d":return Fe(We.date,e);case"do":return p.ordinalNumber(e,{unit:"date"});default:return He(a.length,e)}}validate(e,a){const p=e.getFullYear(),d=na(p),g=e.getMonth();return d?a>=1&&a<=df[g]:a>=1&&a<=hf[g]}set(e,a,p){return e.setDate(p),e.setHours(0,0,0,0),e}}class gf extends Ee{constructor(){super(...arguments);re(this,"priority",90);re(this,"subpriority",1);re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,a,p){switch(a){case"D":case"DD":return Fe(We.dayOfYear,e);case"Do":return p.ordinalNumber(e,{unit:"date"});default:return He(a.length,e)}}validate(e,a){const p=e.getFullYear();return na(p)?a>=1&&a<=366:a>=1&&a<=365}set(e,a,p){return e.setMonth(0,p),e.setHours(0,0,0,0),e}}function hr(o,f,e){var i,r,t,n;const a=an(),p=(e==null?void 0:e.weekStartsOn)??((r=(i=e==null?void 0:e.locale)==null?void 0:i.options)==null?void 0:r.weekStartsOn)??a.weekStartsOn??((n=(t=a.locale)==null?void 0:t.options)==null?void 0:n.weekStartsOn)??0,d=Be(o,e==null?void 0:e.in),g=d.getDay(),c=(f%7+7)%7,u=7-p,s=f<0||f>6?f-(g+u)%7:(c+u)%7-(g+u)%7;return Vn(d,s,e)}class pf extends Ee{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,a,p){switch(a){case"E":case"EE":case"EEE":return p.day(e,{width:"abbreviated",context:"formatting"})||p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return p.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return p.day(e,{width:"wide",context:"formatting"})||p.day(e,{width:"abbreviated",context:"formatting"})||p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"})}}validate(e,a){return a>=0&&a<=6}set(e,a,p,d){return e=hr(e,p,d),e.setHours(0,0,0,0),e}}class mf extends Ee{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,a,p,d){const g=m=>{const c=Math.floor((m-1)/7)*7;return(m+d.weekStartsOn+6)%7+c};switch(a){case"e":case"ee":return ze(He(a.length,e),g);case"eo":return ze(p.ordinalNumber(e,{unit:"day"}),g);case"eee":return p.day(e,{width:"abbreviated",context:"formatting"})||p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"});case"eeeee":return p.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return p.day(e,{width:"wide",context:"formatting"})||p.day(e,{width:"abbreviated",context:"formatting"})||p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"})}}validate(e,a){return a>=0&&a<=6}set(e,a,p,d){return e=hr(e,p,d),e.setHours(0,0,0,0),e}}class vf extends Ee{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,a,p,d){const g=m=>{const c=Math.floor((m-1)/7)*7;return(m+d.weekStartsOn+6)%7+c};switch(a){case"c":case"cc":return ze(He(a.length,e),g);case"co":return ze(p.ordinalNumber(e,{unit:"day"}),g);case"ccc":return p.day(e,{width:"abbreviated",context:"standalone"})||p.day(e,{width:"short",context:"standalone"})||p.day(e,{width:"narrow",context:"standalone"});case"ccccc":return p.day(e,{width:"narrow",context:"standalone"});case"cccccc":return p.day(e,{width:"short",context:"standalone"})||p.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return p.day(e,{width:"wide",context:"standalone"})||p.day(e,{width:"abbreviated",context:"standalone"})||p.day(e,{width:"short",context:"standalone"})||p.day(e,{width:"narrow",context:"standalone"})}}validate(e,a){return a>=0&&a<=6}set(e,a,p,d){return e=hr(e,p,d),e.setHours(0,0,0,0),e}}function yf(o,f,e){const a=Be(o,e==null?void 0:e.in),p=Gd(a,e),d=f-p;return Vn(a,d,e)}class wf extends Ee{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,a,p){const d=g=>g===0?7:g;switch(a){case"i":case"ii":return He(a.length,e);case"io":return p.ordinalNumber(e,{unit:"day"});case"iii":return ze(p.day(e,{width:"abbreviated",context:"formatting"})||p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"}),d);case"iiiii":return ze(p.day(e,{width:"narrow",context:"formatting"}),d);case"iiiiii":return ze(p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"}),d);case"iiii":default:return ze(p.day(e,{width:"wide",context:"formatting"})||p.day(e,{width:"abbreviated",context:"formatting"})||p.day(e,{width:"short",context:"formatting"})||p.day(e,{width:"narrow",context:"formatting"}),d)}}validate(e,a){return a>=1&&a<=7}set(e,a,p){return e=yf(e,p),e.setHours(0,0,0,0),e}}class bf extends Ee{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,a,p){switch(a){case"a":case"aa":case"aaa":return p.dayPeriod(e,{width:"abbreviated",context:"formatting"})||p.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return p.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return p.dayPeriod(e,{width:"wide",context:"formatting"})||p.dayPeriod(e,{width:"abbreviated",context:"formatting"})||p.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,a,p){return e.setHours(ur(p),0,0,0),e}}class xf extends Ee{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,a,p){switch(a){case"b":case"bb":case"bbb":return p.dayPeriod(e,{width:"abbreviated",context:"formatting"})||p.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return p.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return p.dayPeriod(e,{width:"wide",context:"formatting"})||p.dayPeriod(e,{width:"abbreviated",context:"formatting"})||p.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,a,p){return e.setHours(ur(p),0,0,0),e}}class Sf extends Ee{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["a","b","t","T"])}parse(e,a,p){switch(a){case"B":case"BB":case"BBB":return p.dayPeriod(e,{width:"abbreviated",context:"formatting"})||p.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return p.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return p.dayPeriod(e,{width:"wide",context:"formatting"})||p.dayPeriod(e,{width:"abbreviated",context:"formatting"})||p.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,a,p){return e.setHours(ur(p),0,0,0),e}}class Cf extends Ee{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,a,p){switch(a){case"h":return Fe(We.hour12h,e);case"ho":return p.ordinalNumber(e,{unit:"hour"});default:return He(a.length,e)}}validate(e,a){return a>=1&&a<=12}set(e,a,p){const d=e.getHours()>=12;return d&&p<12?e.setHours(p+12,0,0,0):!d&&p===12?e.setHours(0,0,0,0):e.setHours(p,0,0,0),e}}class $f extends Ee{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,a,p){switch(a){case"H":return Fe(We.hour23h,e);case"Ho":return p.ordinalNumber(e,{unit:"hour"});default:return He(a.length,e)}}validate(e,a){return a>=0&&a<=23}set(e,a,p){return e.setHours(p,0,0,0),e}}class Mf extends Ee{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,a,p){switch(a){case"K":return Fe(We.hour11h,e);case"Ko":return p.ordinalNumber(e,{unit:"hour"});default:return He(a.length,e)}}validate(e,a){return a>=0&&a<=11}set(e,a,p){return e.getHours()>=12&&p<12?e.setHours(p+12,0,0,0):e.setHours(p,0,0,0),e}}class _f extends Ee{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,a,p){switch(a){case"k":return Fe(We.hour24h,e);case"ko":return p.ordinalNumber(e,{unit:"hour"});default:return He(a.length,e)}}validate(e,a){return a>=1&&a<=24}set(e,a,p){const d=p<=24?p%24:p;return e.setHours(d,0,0,0),e}}class Af extends Ee{constructor(){super(...arguments);re(this,"priority",60);re(this,"incompatibleTokens",["t","T"])}parse(e,a,p){switch(a){case"m":return Fe(We.minute,e);case"mo":return p.ordinalNumber(e,{unit:"minute"});default:return He(a.length,e)}}validate(e,a){return a>=0&&a<=59}set(e,a,p){return e.setMinutes(p,0,0),e}}class kf extends Ee{constructor(){super(...arguments);re(this,"priority",50);re(this,"incompatibleTokens",["t","T"])}parse(e,a,p){switch(a){case"s":return Fe(We.second,e);case"so":return p.ordinalNumber(e,{unit:"second"});default:return He(a.length,e)}}validate(e,a){return a>=0&&a<=59}set(e,a,p){return e.setSeconds(p,0),e}}class Rf extends Ee{constructor(){super(...arguments);re(this,"priority",30);re(this,"incompatibleTokens",["t","T"])}parse(e,a){const p=d=>Math.trunc(d*Math.pow(10,-a.length+3));return ze(He(a.length,e),p)}set(e,a,p){return e.setMilliseconds(p),e}}class Ef extends Ee{constructor(){super(...arguments);re(this,"priority",10);re(this,"incompatibleTokens",["t","T","x"])}parse(e,a){switch(a){case"X":return ft(dt.basicOptionalMinutes,e);case"XX":return ft(dt.basic,e);case"XXXX":return ft(dt.basicOptionalSeconds,e);case"XXXXX":return ft(dt.extendedOptionalSeconds,e);case"XXX":default:return ft(dt.extended,e)}}set(e,a,p){return a.timestampIsSet?e:Ue(e,e.getTime()-Gn(e)-p)}}class Tf extends Ee{constructor(){super(...arguments);re(this,"priority",10);re(this,"incompatibleTokens",["t","T","X"])}parse(e,a){switch(a){case"x":return ft(dt.basicOptionalMinutes,e);case"xx":return ft(dt.basic,e);case"xxxx":return ft(dt.basicOptionalSeconds,e);case"xxxxx":return ft(dt.extendedOptionalSeconds,e);case"xxx":default:return ft(dt.extended,e)}}set(e,a,p){return a.timestampIsSet?e:Ue(e,e.getTime()-Gn(e)-p)}}class Lf extends Ee{constructor(){super(...arguments);re(this,"priority",40);re(this,"incompatibleTokens","*")}parse(e){return ea(e)}set(e,a,p){return[Ue(e,p*1e3),{timestampIsSet:!0}]}}class If extends Ee{constructor(){super(...arguments);re(this,"priority",20);re(this,"incompatibleTokens","*")}parse(e){return ea(e)}set(e,a,p){return[Ue(e,p),{timestampIsSet:!0}]}}const Df={G:new Xd,y:new Zd,Y:new Jd,R:new ef,u:new tf,Q:new nf,q:new rf,M:new of,L:new sf,w:new lf,I:new uf,d:new ff,D:new gf,E:new pf,e:new mf,c:new vf,i:new wf,a:new bf,b:new xf,B:new Sf,h:new Cf,H:new $f,K:new Mf,k:new _f,m:new Af,s:new kf,S:new Rf,X:new Ef,x:new Tf,t:new Lf,T:new If},Of=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pf=/^'([^]*?)'?$/,Ff=/''/g,jf=/\S/,Hf=/[a-zA-Z]/;function Wf(o,f,e,a){var h,v,y,C;const p=()=>Ue(e,NaN),d=Vd(),g=d.locale??Ys,m=d.firstWeekContainsDate??((v=(h=d.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,c=d.weekStartsOn??((C=(y=d.locale)==null?void 0:y.options)==null?void 0:C.weekStartsOn)??0;if(!f)return o?p():Be(e,a==null?void 0:a.in);const u={firstWeekContainsDate:m,weekStartsOn:c,locale:g},s=[new qd(a==null?void 0:a.in,e)],i=f.match(Nf).map($=>{const S=$[0];if(S in Gi){const w=Gi[S];return w($,g.formatLong)}return $}).join("").match(Of),r=[];for(let $ of i){Zs($)&&Ui($,f,o),Xs($)&&Ui($,f,o);const S=$[0],w=Df[S];if(w){const{incompatibleTokens:T}=w;if(Array.isArray(T)){const _=r.find(k=>T.includes(k.token)||k.token===S);if(_)throw new RangeError(`The format string mustn't contain \`${_.fullToken}\` and \`${$}\` at the same time`)}else if(w.incompatibleTokens==="*"&&r.length>0)throw new RangeError(`The format string mustn't contain \`${$}\` and any other token at the same time`);r.push({token:S,fullToken:$});const E=w.run(o,$,g.match,u);if(!E)return p();s.push(E.setter),o=E.rest}else{if(S.match(Hf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if($==="''"?$="'":S==="'"&&($=zf($)),o.indexOf($)===0)o=o.slice($.length);else return p()}}if(o.length>0&&jf.test(o))return p();const t=s.map($=>$.priority).sort(($,S)=>S-$).filter(($,S,w)=>w.indexOf($)===S).map($=>s.filter(S=>S.priority===$).sort((S,w)=>w.subPriority-S.subPriority)).map($=>$[0]);let n=Be(e,a==null?void 0:a.in);if(isNaN(+n))return p();const l={};for(const $ of t){if(!$.validate(n,u))return p();const S=$.set(n,l,u);Array.isArray(S)?(n=S[0],Object.assign(l,S[1])):n=S}return n}function zf(o){return o.match(Pf)[1].replace(Ff,"'")}const to=(o,f)=>{var m;if(!((m={"YYYY-MM-DD":/^\d{4}-\d{2}-\d{2}$/,YYYYMMDD:/^\d{4}\d{2}\d{2}$/}[f])!=null&&m.test(o)))return!1;let a,p,d;if(f==="YYYY-MM-DD")[a,p,d]=o.split("-").map(Number);else if(f==="YYYYMMDD")a=Number(o.slice(0,4)),p=Number(o.slice(4,6)),d=Number(o.slice(6,8));else return!1;if(p<1||p>12)return!1;const g=[31,28,31,30,31,30,31,31,30,31,30,31];return a%4===0&&(a%100!==0||a%400===0)&&(g[1]=29),d>=1&&d<=g[p-1]},ia=o=>{o=o.trim();const f=/^(\$\{)?(yyyy-MM-dd|yyyyMMdd)([+-]\d+[dwmy])?\}?$/,e=o.match(f);if(!e)return null;const[,,a,p]=e;let d=new Date;try{d=Wf(eo(d,a==="yyyy-MM-dd"?"yyyy-MM-dd":"yyyyMMdd"),a,new Date)}catch{return null}if(p){const g=p.match(/([+-])(\d+)([dwmy])/);if(g){const[,m,c,u]=g,s=m==="+"?parseInt(c):-parseInt(c);switch(u){case"d":d=Vn(d,s);break;case"w":d=Vn(d,s*7);break;case"m":d=new Date(d.getFullYear(),d.getMonth()+s,d.getDate());break;case"y":d=new Date(d.getFullYear()+s,d.getMonth(),d.getDate());break}}}return eo(d,a==="yyyy-MM-dd"?"yyyy-MM-dd":"yyyyMMdd")},Bf=o=>ia(o)!==null,Vf=()=>`p_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,Gf=({isOpen:o,onClose:f,onSave:e,parameter:a})=>{const[p,d]=U.useState(""),[g,m]=U.useState(""),[c,u]=U.useState(""),[s,i]=U.useState("single_input"),[r,t]=U.useState(""),[n,l]=U.useState([]),[h,v]=U.useState(""),[y,C]=U.useState(""),[$,S]=U.useState(""),[w,T]=U.useState([]),[E,_]=U.useState([]),[k,D]=U.useState(","),[A,R]=U.useState("'"),[b,x]=U.useState("YYYY-MM-DD"),[M,L]=U.useState(""),[O,N]=U.useState([]),[F,j]=U.useState(","),[W,P]=U.useState("'");U.useEffect(()=>{const G=()=>{t(""),S(""),l([]),v(""),C(""),T([]),_([]),D(","),R("'"),x("YYYY-MM-DD"),L(""),N([]),j(","),P("'")};if(a)switch(d(a.name),m(a.alias||""),u(a.description||""),i(a.config.type),G(),a.config.type){case"single_select":t(a.config.choices.map(V=>V.value).join(",")),l(a.config.choices),v(a.config.default);break;case"multi_select":S(a.config.choices.map(V=>V.value).join(",")),T(a.config.choices),_(a.config.default),D(a.config.sep),R(a.config.wrapper);break;case"single_input":C(a.config.default);break;case"multi_input":N(a.config.default),j(a.config.sep),P(a.config.wrapper);break;case"date_picker":x(a.config.dateFormat),L(a.config.default);break;default:fe.error("[DEBUG] parameter edit: 未知参数类型");break}else d(""),m(""),u(""),i("single_input"),G()},[a,o]);const z=()=>{let G;try{switch(s){case"single_select":G={type:"single_select",choices:n,default:h},h&&!n.some(q=>q.value===h)&&(fe.error("[PARAM] 异常, 默认值必须在单选清单中"),G.default="");break;case"single_input":G={type:"single_input",default:y};break;case"multi_select":G={type:"multi_select",choices:w,default:E,sep:k,wrapper:A};const Y=E.filter(q=>w.some(J=>J.value===q));Y.length!==E.length&&(fe.error("[PARAM] 异常, 默认值必须在多选清单中"),G.default=Y);break;case"date_picker":if(G={type:"date_picker",dateFormat:b,default:M},b!="YYYY-MM-DD"&&b!="YYYYMMDD"&&(fe.error("[PARAM] 异常, 默认日期格式错误"),G.dateFormat="YYYY-MM-DD"),!(M===""||to(M,b)))if(Bf(M)){const q=ia(M);if(q&&!to(q,b)){fe.error("[PARAM] 异常, 默认日期格式错误");return}}else{fe.error("[PARAM] 异常, 默认日期不是有效日期");return}break;case"multi_input":G={type:"multi_input",default:O,sep:F,wrapper:W};break;default:console.error("Unhandled parameter type:",s);return}}catch(Y){console.error("Error constructing config:",Y);return}if(!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(p)){fe.error("[PARAM] 异常, 名称仅包含数字、字母、下划线, 首字符为字母");return}const V={id:(a==null?void 0:a.id)||Vf(),name:p,alias:g||"",description:c||"",config:G};e(V)},H=()=>{switch(s){case"single_select":return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"single-select-choices",className:"text-right",children:"选项"}),I.jsx(Ie,{id:"single-select-choices",value:r,onChange:V=>{t(V.target.value);const Y=V.target.value.split(",").map(K=>K.trim()).filter(Boolean).map(K=>({key:K,value:K}));l(Y),h&&!Y.some(K=>K.value===h)&&v("")},className:"col-span-3",placeholder:"逗号分隔, e.g. 选项1,选项2"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"single-select-default",className:"text-right",children:"默认值"}),I.jsx("div",{className:"col-span-3",children:I.jsx(Ht,{options:n,value:h,onValueChange:V=>v(V),mode:"single",placeholder:"默认值为空"})})]})]});case"multi_select":return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"multi-select-choices",className:"text-right",children:"选项"}),I.jsx(Ie,{id:"multi-select-choices",value:$,onChange:V=>{S(V.target.value);const Y=V.target.value.split(",").map(K=>K.trim()).filter(Boolean).map(K=>({key:K,value:K}));T(Y),_([])},className:"col-span-3",placeholder:"逗号分隔, e.g. 选项A,选项B"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"multi-select-default",className:"text-right",children:"默认值"}),I.jsx("div",{className:"col-span-3",children:I.jsx(Ht,{options:w,value:E,placeholder:"默认值为空",onValueChange:V=>_(V),mode:"multiple"})})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"multi-select-sep",className:"text-right",children:"分隔符"}),I.jsx(Ie,{id:"multi-select-sep",value:k,onChange:V=>D(V.target.value),className:"col-span-3"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"multi-select-wrapper",className:"text-right",children:"包装符"}),I.jsx(Ie,{id:"multi-select-wrapper",value:A,onChange:V=>R(V.target.value),className:"col-span-3",placeholder:`e.g. ' or "`})]})]});case"date_picker":return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"date-picker-format",className:"text-right",children:"日期格式"}),I.jsx("div",{className:"col-span-3",children:I.jsxs(Cn,{value:b,onValueChange:x,children:[I.jsx(Mn,{id:"date-picker-format",children:I.jsx($n,{placeholder:"选择日期格式"})}),I.jsxs(_n,{children:[I.jsx(Ze,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"}),I.jsx(Ze,{value:"YYYYMMDD",children:"YYYYMMDD"})]})]})})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"date-picker-default",className:"text-right",children:"默认日期"}),I.jsx(Ie,{id:"date-picker-default",type:"text",value:M,onChange:V=>L(V.target.value),className:"col-span-3",placeholder:"默认日期字符串"})]})]});case"single_input":return I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"single-input-default",className:"text-right",children:"默认值"}),I.jsx(Ie,{id:"single-input-default",value:y,onChange:V=>C(V.target.value),className:"col-span-3"})]});case"multi_input":return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"multi-input-default",className:"text-right",children:"默认值"}),I.jsx(Ie,{id:"multi-input-default",defaultValue:O.join(","),onChange:V=>N(V.target.value.split(",").map(Y=>Y.trim()).filter(Boolean)),className:"col-span-3",placeholder:"逗号分隔默认值"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"multi-input-sep",className:"text-right",children:"分隔符"}),I.jsx(Ie,{id:"multi-input-sep",value:F,onChange:V=>j(V.target.value),className:"col-span-3"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"multi-input-wrapper",className:"text-right",children:"包装符"}),I.jsx(Ie,{id:"multi-input-wrapper",value:W,onChange:V=>P(V.target.value),className:"col-span-3",placeholder:`e.g. ' or "`})]})]});default:const G=s;return I.jsxs("p",{className:"text-sm text-destructive",children:["未知参数类型: ",G]})}};return I.jsx(Wt,{open:o,onOpenChange:G=>!G&&f(),children:I.jsxs(zt,{className:"sm:max-w-[525px]",children:[I.jsx(Bt,{children:I.jsx(Vt,{children:a?"编辑筛选条件":"添加筛选条件"})}),I.jsxs("div",{className:"grid gap-4 py-4",children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"name",className:"text-right",children:"名称*"}),I.jsx(Ie,{id:"name",value:p,onChange:G=>d(G.target.value),className:"col-span-3",required:!0})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"alias",className:"text-right",children:"别名"}),I.jsx(Ie,{id:"alias",value:g,onChange:G=>m(G.target.value),className:"col-span-3",placeholder:"（可选）用户界面显示的名称"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"description",className:"text-right",children:"描述"}),I.jsx(Ie,{id:"description",value:c,onChange:G=>u(G.target.value),className:"col-span-3",placeholder:"（可选）解释参数用途"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"param-type",className:"text-right",children:"类型*"}),I.jsxs(Cn,{value:s,onValueChange:G=>i(G),children:[I.jsx(Mn,{id:"param-type",className:"col-span-3",children:I.jsx($n,{placeholder:"选择参数类型"})}),I.jsxs(_n,{children:[I.jsx(Ze,{value:"single_input",children:"文本输入"}),I.jsx(Ze,{value:"multi_input",children:"多值输入"}),I.jsx(Ze,{value:"single_select",children:"单选列表"}),I.jsx(Ze,{value:"multi_select",children:"多选列表"}),I.jsx(Ze,{value:"date_picker",children:"日期选择"})]})]})]}),H()]}),I.jsxs(Gt,{children:[I.jsx(be,{variant:"outline",onClick:f,children:"取消"}),I.jsx(be,{onClick:z,disabled:!p||s==="single_select"&&!n.length||s==="multi_select"&&!w.length,children:"保存"})]})]})})},Uf=({parameters:o,handleAddParameter:f,handleEditParameter:e,handleDeleteParameter:a,confirmDelete:p})=>{const[d,g]=U.useState(!1),[m,c]=U.useState(null),u=r=>{c(r),g(!0)},s=()=>{g(!1),c(null)},i=r=>{let t=!1;m?t=e(r):t=f(r),t&&s()};return I.jsxs(I.Fragment,{children:[I.jsx(qn,{value:"filters",className:"p-4",children:I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"space-y-3",children:o.map(r=>I.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsxs("h4",{className:"font-medium",children:[r.name," ",r.alias&&`(alias: ${r.alias})`]}),I.jsxs("p",{className:"text-sm text-gray-500",children:["type: ",r.config.type]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-80",onClick:()=>u(r),children:I.jsx(xn,{className:"h-4 w-4"})}),I.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive opacity-80",onClick:()=>p(()=>a(r),`您确定要删除筛选条件"${r.name}"吗？`),children:I.jsx(tn,{className:"h-4 w-4"})})]})]})},r.id))}),I.jsx("div",{className:"mt-6",children:I.jsxs(be,{variant:"outline",className:"w-full border-dashed",onClick:()=>u(null),children:[I.jsx(en,{className:"h-4 w-4 mr-2"}),"添加筛选条件"]})})]})}),I.jsx(Gf,{isOpen:d,onClose:s,onSave:i,parameter:m})]})},ra=o=>{const f=Array(o.rows).fill(null).map(()=>Array(o.columns).fill(null));return o.items.forEach(e=>{for(let a=e.y;a<e.y+e.height;a++)for(let p=e.x;p<e.x+e.width;p++)a<o.rows&&p<o.columns&&(f[a][p]=e.id)}),f},oa=o=>{const f=new Set,e=new Set;o.items.forEach(d=>{for(let g=d.y;g<d.y+d.height;g++)f.add(g);for(let g=d.x;g<d.x+d.width;g++)e.add(g)});const a=Math.max(Math.max(...f)+1,1),p=Math.max(Math.max(...e)+1,1);return{...o,rows:a,columns:p,items:o.items.filter(d=>d.x<p&&d.y<a)}},Yf=(o,f)=>f<1?o:o.items.some(a=>a.y+a.height>f)?(fe.error("减少行数会导致某些图表超出边界"),o):{...o,rows:f},Kf=(o,f)=>f<1?o:o.items.some(a=>a.x+a.width>f)?(fe.error("减少列数会导致某些图表超出边界"),o):{...o,columns:f},Qf=(o,f,e)=>{const a=o.items.length===0,p={id:f,title:e,width:o.columns,height:1,x:0,y:a?0:o.rows};return{...o,rows:a?1:o.rows+1,items:[...o.items,p]}},qf=o=>{const f=ra(o),e=new Map;for(let p=0;p<f.length;p++)for(let d=0;d<f[p].length;d++){const g=f[p][d];g&&e.set(g,(e.get(g)||0)+1)}let a=!1;return o.items.forEach(p=>{const d=p.width*p.height;(e.get(p.id)||0)<d&&(a=!0)}),a};function Xf({open:o,onClose:f,onSave:e,initialLayout:a}){const p={columns:1,rows:1,items:[{id:"item-1",title:"你触发了default layout",width:1,height:1,x:0,y:0}]},[d,g]=U.useState(a||p);U.useEffect(()=>{o&&g(a||p)},[o,a]);const[m,c]=U.useState(null),[u,s]=U.useState(null),[i,r]=U.useState(null),t=w=>{s(w)},n=()=>{s(null),r(null)},l=(w,T,E)=>{w.preventDefault(),r({x:T,y:E})},h=(w,T,E)=>{if(w.preventDefault(),!u||!d.items.find(A=>A.id===u))return;const k=1,D=1;if(T+k>d.columns||E+D>d.rows){fe.error("目标位置无法放置该图表");return}g({...d,items:d.items.map(A=>A.id===u?{...A,x:T,y:E,width:k,height:D}:A)}),s(null),r(null)},v=()=>{if(qf(d)){fe.error("布局中存在重叠的图表，请检查");return}const w=oa(d);g(w),e(w),f()},y=w=>{const T=Kf(d,w);g(T)},C=w=>{const T=Yf(d,w);g(T)},$=(w,T,E,_,k)=>{const D=Array(d.rows).fill(!1).map(()=>Array(d.columns).fill(!1)),A=d.items.find(M=>M.id===w);if(!A)return!0;for(let M=A.y;M<A.y+A.height;M++)for(let L=A.x;L<A.x+A.width;L++)M<d.rows&&L<d.columns&&(D[M][L]=!0);const R=Array(d.rows).fill(!1).map(()=>Array(d.columns).fill(!1));for(let M=E;M<E+k;M++)for(let L=T;L<T+_;L++)M<d.rows&&L<d.columns&&(R[M][L]=!0);const b=[];for(let M=0;M<d.rows;M++)for(let L=0;L<d.columns;L++)R[M][L]&&!D[M][L]&&b.push({x:L,y:M});const x=d.items.filter(M=>M.id!==w);for(const M of b)for(const L of x)if(M.x>=L.x&&M.x<L.x+L.width&&M.y>=L.y&&M.y<L.y+L.height)return!0;return!1},S=w=>{const T=ra(w),E=[];for(let _=0;_<w.rows;_++)for(let k=0;k<w.columns;k++){const D=T[_][k],A=i&&i.x===k&&i.y===_;if(D!==null&&w.items.find(b=>b.id===D&&b.x===k&&b.y===_)){const b=w.items.find(M=>M.id===D),x=u===D;E.push(I.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 text-center bg-gray-200 relative 
                ${x?"opacity-50":""}`,style:{gridColumnStart:k+1,gridColumnEnd:k+b.width+1,gridRowStart:_+1,gridRowEnd:_+b.height+1,zIndex:1},draggable:!0,onDragStart:()=>t(b.id),onDragEnd:n,children:[I.jsx("span",{className:"text-center",children:b.title}),I.jsx("div",{className:"absolute right-0 bottom-0 cursor-nwse-resize select-none",style:{zIndex:10},onMouseDown:M=>{M.preventDefault();const L=M.clientX,O=M.clientY,N=b.width,F=b.height,j=M.currentTarget.closest(".grid");if(!j)return;const W=j.getBoundingClientRect(),P=W.width/w.columns,z=W.height/w.rows,H=V=>{const Y=V.clientX-L,K=V.clientY-O,q=Math.round(Y/P),J=Math.round(K/z),ne=Math.max(1,N+q),ce=Math.max(1,F+J),se=b.x+ne>w.columns?w.columns-b.x:ne,le=b.y+ce>w.rows?w.rows-b.y:ce;$(b.id,b.x,b.y,se,le)||g({...w,items:w.items.map(ke=>ke.id===b.id?{...ke,width:se,height:le}:ke)}),c({itemId:b.id,targetWidth:se,targetHeight:le})},G=V=>{if(document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",G),m){const Y=m.targetWidth,K=m.targetHeight;$(b.id,b.x,b.y,Y,K)?(fe.error("调整尺寸会与其他图表重叠"),g({...w,items:w.items.map(J=>J.id===b.id?{...J,width:N,height:F}:J)})):fe.success(`已将图表尺寸调整为 ${Y} x ${K}`)}c(null)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",G)},children:I.jsxs("div",{className:"relative w-6 h-6 flex items-center justify-center",children:[I.jsx("div",{className:"absolute right-0.5 bottom-0.5 w-2 h-2 bg-gray-500 rounded-sm"}),I.jsx("div",{className:"absolute right-2.5 bottom-0.5 w-1.5 h-1 bg-gray-400 rounded-sm"}),I.jsx("div",{className:"absolute right-0.5 bottom-2.5 w-1 h-1.5 bg-gray-400 rounded-sm"})]})})]},`item-${k}-${_}`))}else D||E.push(I.jsx("div",{className:`border border-dashed border-gray-300 rounded-lg ${A?"bg-blue-100":""}`,style:{gridColumnStart:k+1,gridColumnEnd:k+2,gridRowStart:_+1,gridRowEnd:_+2},onDragOver:b=>l(b,k,_),onDrop:b=>h(b,k,_)},`empty-${k}-${_}`))}return E};return I.jsx(Wt,{open:o,onOpenChange:f,children:I.jsxs(zt,{className:"max-w-[90vw] max-h-[90vh] flex flex-col overflow-hidden",children:[I.jsx(Bt,{children:I.jsx(Vt,{children:"编辑布局"})}),I.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"border rounded-lg p-4",children:I.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${d.columns}, 1fr)`,gridTemplateRows:`repeat(${d.rows}, 100px)`,position:"relative"},children:S(d)})}),I.jsxs("div",{className:"flex justify-between flex-wrap gap-4",children:[I.jsx("div",{className:"flex-1"}),I.jsxs("div",{className:"flex items-center space-x-8",children:[I.jsxs("div",{className:"flex items-center space-x-4",children:[I.jsx(ve,{htmlFor:"columns",children:"列数:"}),I.jsxs("div",{className:"flex items-center space-x-1",children:[I.jsx("div",{className:"text-xl font-medium",children:d.columns}),I.jsx("div",{className:"relative flex flex-col items-center",children:I.jsxs("div",{className:"flex flex-col -mt-1 space-y-1",children:[I.jsx(be,{variant:"ghost",size:"icon",className:"h-4 w-4 rounded-b-none py-0",onClick:()=>y(d.columns+1),children:I.jsx($r,{className:"h-3 w-3"})}),I.jsx(be,{variant:"ghost",size:"icon",className:"h-4 w-4 rounded-t-none py-0",onClick:()=>y(d.columns-1),disabled:d.columns<=1,children:I.jsx(Cr,{className:"h-3 w-3"})})]})})]})]}),I.jsxs("div",{className:"flex items-center space-x-4",children:[I.jsx(ve,{htmlFor:"rows",children:"行数:"}),I.jsxs("div",{className:"flex items-center space-x-1",children:[I.jsx("div",{className:"text-xl font-medium",children:d.rows}),I.jsx("div",{className:"relative flex flex-col items-center",children:I.jsxs("div",{className:"flex flex-col -mt-1 space-y-1",children:[I.jsx(be,{variant:"ghost",size:"icon",className:"h-4 w-4 rounded-b-none py-0",onClick:()=>C(d.rows+1),children:I.jsx($r,{className:"h-3 w-3"})}),I.jsx(be,{variant:"ghost",size:"icon",className:"h-4 w-4 rounded-t-none py-0",onClick:()=>C(d.rows-1),disabled:d.rows<=1,children:I.jsx(Cr,{className:"h-3 w-3"})})]})})]})]})]})]})]})}),I.jsxs(Gt,{children:[I.jsx(be,{variant:"outline",onClick:f,children:"取消"}),I.jsx(be,{onClick:v,children:"保存"})]})]})})}const Zf=()=>`param_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,Jf=({isOpen:o,onClose:f,onSave:e,paramData:a,dependencies:p,plainParamNames:d,setPlainParamNames:g})=>{const[m,c]=U.useState("plain"),[u,s]=U.useState(""),[i,r]=U.useState(""),[t,n]=U.useState(""),[l,h]=U.useState(""),[v,y]=U.useState("string"),[C,$]=U.useState("single"),[S,w]=U.useState(""),[T,E]=U.useState([]),[_,k]=U.useState([]),[D,A]=U.useState(""),[R,b]=U.useState(""),[x,M]=U.useState([]);U.useEffect(()=>{if(a)if(c(a.type),a.type==="plain"){const P=a.param;s(P.id),r(P.name),n(P.alias||""),h(P.description||""),y(P.valueType),$(P.type),k(P.choices),A(P.choices.map(z=>`${z.value}`).join(",")),P.type==="single"?w(P.default):E(P.default)}else{const P=a.param;b(P.dfAlias),M([...P.levels])}else L()},[a,o]);const L=()=>{c("plain"),s(Zf()),r(""),n(""),h(""),y("string"),$("single"),w(""),E([]),k([]),A(""),b(""),M([])},O=P=>{A(P);const z=P.split(",").map(H=>H.trim()).filter(H=>H.length>0);k(z.map(H=>({key:H,value:H}))),S&&!z.includes(S)&&w(""),T.length>0&&E(T.filter(H=>z.includes(H)))},N=()=>{M([...x,{dfColumn:"",name:`级别 ${x.length}`}])},F=(P,z,H)=>{const G=[...x];G[P]={...G[P],[z]:H},M(G)},j=P=>{M(x.filter((z,H)=>H!==P))},W=()=>{try{if(m==="plain"){if(!i.trim()){fe.error("参数名称不能为空");return}if(!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(i)){fe.error("[PARAM] 异常, 名称仅包含数字、字母、下划线, 首字符为字母");return}if(i.startsWith("df_")){fe.error("参数名称不能以df_开头");return}if(d.includes(i)&&i!==(a==null?void 0:a.param.name)){fe.error("参数名称已存在");return}if(_.length===0){fe.error("请至少添加一个选项");return}if(C==="single"){const z={type:"single",id:(a==null?void 0:a.type)==="plain"?a.param.id:u,name:i,alias:t||void 0,description:l||void 0,valueType:v,default:S||_[0].value,choices:_};e(z)}else{const z={type:"multiple",id:(a==null?void 0:a.type)==="plain"?a.param.id:u,name:i,alias:t||void 0,description:l||void 0,valueType:v,default:T.length>0?T:[_[0].value],choices:_};e(z)}const P=d.filter(z=>z!==(a==null?void 0:a.param.name));P.push(i),g(P)}else{if(!R){fe.error("数据源别名不能为空");return}if(x.length===0){fe.error("请至少添加一个级联级别");return}for(let z=0;z<x.length;z++)if(!x[z].dfColumn||!x[z].name){fe.error(`级别 ${z+1} 的数据列名和名称不能为空`);return}e({dfAlias:R,levels:x})}}catch(P){console.error("Error saving parameter:",P),fe.error("保存参数时发生错误")}};return I.jsx(Wt,{open:o,onOpenChange:P=>!P&&f(),children:I.jsxs(zt,{className:"sm:max-w-[600px]",children:[I.jsx(Bt,{children:I.jsx(Vt,{children:a?"编辑参数":"添加参数"})}),I.jsxs("div",{className:"grid gap-4 py-4",children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{className:"text-right",children:"参数类型*"}),I.jsxs(Ni,{value:m,onValueChange:P=>c(P),className:"col-span-3 flex",children:[I.jsxs("div",{className:"flex items-center space-x-2 mr-4",children:[I.jsx(Jt,{value:"plain",id:"param-type-plain"}),I.jsx(ve,{htmlFor:"param-type-plain",children:"普通参数"})]}),I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(Jt,{value:"cascader",id:"param-type-cascader"}),I.jsx(ve,{htmlFor:"param-type-cascader",children:"级联参数"})]})]})]}),m==="plain"&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"plainName",className:"text-right",children:"参数名称*"}),I.jsx(Ie,{id:"plainName",value:i,onChange:P=>r(P.target.value),className:"col-span-3",required:!0,placeholder:"参数代码中的名称"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"plainAlias",className:"text-right",children:"参数别名"}),I.jsx(Ie,{id:"plainAlias",value:t,onChange:P=>n(P.target.value),className:"col-span-3",placeholder:"参数的显示名称（可选）"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"plainDescription",className:"text-right",children:"描述"}),I.jsx(Ie,{id:"plainDescription",value:l,onChange:P=>h(P.target.value),className:"col-span-3",placeholder:"参数描述（可选）"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"plainValueType",className:"text-right",children:"数据类型*"}),I.jsxs(Cn,{value:v,onValueChange:P=>y(P),children:[I.jsx(Mn,{className:"col-span-3",children:I.jsx($n,{placeholder:"选择数据类型"})}),I.jsxs(_n,{children:[I.jsx(Ze,{value:"string",children:"字符串 (String)"}),I.jsx(Ze,{value:"double",children:"浮点数 (Double)"}),I.jsx(Ze,{value:"int",children:"整数 (Int)"}),I.jsx(Ze,{value:"boolean",children:"布尔值 (Boolean)"})]})]})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{className:"text-right",children:"参数值类型*"}),I.jsxs(Ni,{value:C,onValueChange:P=>$(P),className:"col-span-3 flex",children:[I.jsxs("div",{className:"flex items-center space-x-2 mr-4",children:[I.jsx(Jt,{value:"single",id:"param-single"}),I.jsx(ve,{htmlFor:"param-single",children:"单选"})]}),I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(Jt,{value:"multiple",id:"param-multiple"}),I.jsx(ve,{htmlFor:"param-multiple",children:"多选"})]})]})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"plainChoices",className:"text-right",children:"选项列表(逗号分隔)*"}),I.jsx(Ie,{id:"plainChoices",value:D,onChange:P=>O(P.target.value),className:"col-span-3",placeholder:"逗号分隔的选项，如：选项1,选项2,选项3"})]}),C==="single"&&I.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[I.jsx(ve,{htmlFor:"plainDefault",className:"text-right pt-2",children:"默认值"}),I.jsx("div",{className:"col-span-3",children:I.jsx(Ht,{options:_.map(P=>({key:P.key,value:P.value})),value:S,onValueChange:P=>{Array.isArray(P)||w(S===P?"":P)},mode:"single",placeholder:"选择默认值",disabled:_.length===0})})]}),C==="multiple"&&I.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[I.jsx(ve,{htmlFor:"plainDefaultMultiple",className:"text-right pt-2",children:"默认值"}),I.jsxs("div",{className:"col-span-3",children:[I.jsx(Ht,{options:_.map(P=>({key:P.key,value:P.value})),value:T,onValueChange:P=>{Array.isArray(P)&&E(P.sort())},mode:"multiple",placeholder:"选择默认值",disabled:_.length===0}),_.length===0&&I.jsx("div",{className:"text-gray-500 text-sm",children:"请先添加选项"})]})]})]}),m==="cascader"&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"cascaderDfAlias",className:"text-right",children:"数据源别名*"}),I.jsx("div",{className:"col-span-3",children:I.jsx(Ht,{options:p.map(P=>({key:P,value:P})),value:R,onValueChange:P=>{Array.isArray(P)?b(P[0]):b(P)},mode:"single",placeholder:"选择数据源别名"})})]}),I.jsxs("div",{className:"grid grid-cols-4 items-start gap-4 mt-2",children:[I.jsx(ve,{className:"text-right pt-2",children:"级联层级列表*"}),I.jsxs("div",{className:"col-span-3 space-y-3",children:[x.length>0?x.map((P,z)=>I.jsxs("div",{className:"border rounded-md p-3 relative group",children:[I.jsxs("h4",{className:"text-sm font-medium mb-2",children:["级别 ",z+1]}),I.jsxs("div",{className:"grid gap-2",children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-2",children:[I.jsx(ve,{htmlFor:`level-${z}-column`,className:"text-right text-xs",children:"数据列名*"}),I.jsx(Ie,{id:`level-${z}-column`,value:P.dfColumn,onChange:H=>F(z,"dfColumn",H.target.value),className:"col-span-3",placeholder:"指定df中的column"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-2",children:[I.jsx(ve,{htmlFor:`level-${z}-name`,className:"text-right text-xs",children:"名称*"}),I.jsx(Ie,{id:`level-${z}-name`,value:P.name,onChange:H=>F(z,"name",H.target.value),className:"col-span-3",placeholder:"名称, 便于理解"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-2",children:[I.jsx(ve,{htmlFor:`level-${z}-description`,className:"text-right text-xs",children:"描述"}),I.jsx(Ie,{id:`level-${z}-description`,value:P.description||"",onChange:H=>F(z,"description",H.target.value),className:"col-span-3",placeholder:"可选描述"})]})]}),I.jsx(be,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 text-destructive opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>j(z),children:I.jsx(tn,{className:"h-4 w-4"})})]},z)):I.jsx("div",{className:"text-center text-gray-500 p-4 border-2 border-dashed rounded-lg",children:"暂无级联层级，请添加第一个层级"}),I.jsxs(be,{variant:"outline",className:"w-full border-dashed",onClick:N,children:[I.jsx(en,{className:"h-4 w-4 mr-2"}),"添加级联层级"]})]})]})]})]}),I.jsxs(Gt,{children:[I.jsx(be,{variant:"outline",onClick:f,children:"取消"}),I.jsx(be,{onClick:W,disabled:m==="plain"&&(!i||!_.length)||m==="cascader"&&(!R||!x.length||x.some(P=>!P.dfColumn||!P.name)),children:"保存"})]})]})})},eg=()=>`artifact_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,tg=({isOpen:o,onClose:f,onSave:e,artifact:a,dataSources:p,engineChoices:d=["default","pandas","numpy"]})=>{const[g,m]=U.useState(""),[c,u]=U.useState(""),[s,i]=U.useState(""),[r,t]=U.useState(""),[n,l]=U.useState([]),[h,v]=U.useState("default"),[y,C]=U.useState([]),[$,S]=U.useState([]),[w,T]=U.useState([]),[E,_]=U.useState(!1),[k,D]=U.useState(null),A=p.map(L=>L.alias);U.useEffect(()=>{var L;a?(m(a.id),u(a.title),i(a.description||""),t(a.code),l(a.dependencies),v(a.executor_engine),C(a.plainParams||[]),S(a.cascaderParams||[]),T(((L=a.plainParams)==null?void 0:L.map(O=>O.name))||[])):(m(eg()),u(""),i(""),t(""),l([]),v("default"),C([]),S([]),T([]))},[a,o]);const R=L=>{"type"in L?C(O=>[...O,L]):S(O=>[...O,L]),_(!1)},b=(L,O,N)=>{O==="plain"?C(F=>F.map(j=>j.id===N?L:j)):S(F=>F.map((j,W)=>W===parseInt(N)?L:j)),D(null),_(!1)},x=(L,O)=>{O==="plain"?C(N=>N.filter(F=>F.id!==L)):S(N=>N.filter((F,j)=>j.toString()!==L))},M=()=>{try{if(!c.trim()){fe.error("图表标题不能为空");return}if(!r.trim()){fe.error("图表代码不能为空");return}if(n.length===0){fe.error("请至少选择一个数据源依赖");return}let L;a?L={id:(a==null?void 0:a.id)||g,title:c,description:s||"",code:r||"",dependencies:n||[],executor_engine:h||"default",plainParams:y.length>0?y:[],cascaderParams:$.length>0?$:[]}:L={id:g,title:c,description:s||"",code:r||"",dependencies:n||[],executor_engine:h||"default",plainParams:y.length>0?y:[],cascaderParams:$.length>0?$:[]},console.info("savedArtifact",L),e(L)}catch(L){console.error("Error saving artifact:",L),fe.error("保存图表时发生错误")}};return I.jsxs(Wt,{open:o,onOpenChange:L=>!L&&f(),children:[I.jsxs(zt,{className:"max-w-[650px] ",children:[I.jsx(Bt,{children:I.jsx(Vt,{children:a?"编辑图表":"添加图表"})}),I.jsxs("div",{className:"grid gap-4 py-4 pr-2 max-h-[70vh] overflow-y-auto",children:[I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"title",className:"text-right",children:"标题*"}),I.jsx(Ie,{id:"title",value:c,onChange:L=>u(L.target.value),className:"col-span-3",required:!0})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"description",className:"text-right",children:"描述"}),I.jsx(Ie,{id:"description",value:s,onChange:L=>i(L.target.value),className:"col-span-3",placeholder:"（可选）图表描述"})]}),I.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[I.jsx(ve,{htmlFor:"executor-engine",className:"text-right",children:"执行引擎*"}),I.jsx("div",{className:"col-span-3",children:I.jsx(Ht,{options:d.map(L=>({key:L,value:L})),value:h||"default",onValueChange:L=>{Array.isArray(L)?v(L[0]):(console.log("engine value:",L),v(L||"default"))},mode:"single",placeholder:"选择执行引擎"})})]}),I.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[I.jsx(ve,{className:"text-right pt-2",children:"数据源依赖*"}),I.jsx("div",{className:"col-span-3",children:I.jsx(Ht,{options:A.map(L=>({key:L,value:L})),value:n,onValueChange:L=>{Array.isArray(L)?l(L):l(O=>O.includes(L)?O.filter(N=>N!==L):[...O,L])},mode:"multiple",placeholder:"选择数据源依赖",terminateCancelSelect:L=>$.filter(N=>N.dfAlias===L).length>0?(fe.error("不能取消选中"),!0):!1})})]}),I.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[I.jsx(ve,{className:"text-right pt-2",children:"参数列表"}),I.jsxs("div",{className:"col-span-3 pt-1 space-y-2",children:[y.length>0&&I.jsxs("div",{className:"space-y-2",children:[I.jsx("h4",{className:"text-sm font-medium",children:"普通参数"}),y.map(L=>I.jsxs("div",{className:"border-2 rounded-lg p-3 text-sm relative group shadow-sm",children:[I.jsxs("div",{className:"font-medium",children:[L.name," ",L.alias?`(${L.alias})`:""]}),I.jsxs("div",{className:"text-xs text-gray-500",children:[L.description||"无描述"," · ",L.valueType," ·"," ",L.type]}),I.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-80 transition-opacity",children:[I.jsx(be,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{D({param:L,type:"plain",id:L.id}),_(!0)},children:I.jsx(xn,{className:"h-4 w-4"})}),I.jsx(be,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:()=>x(L.id,"plain"),children:I.jsx(tn,{className:"h-4 w-4"})})]})]},L.id))]}),$.length>0&&I.jsxs("div",{className:"space-y-2",children:[I.jsx("h4",{className:"text-sm font-medium",children:"级联参数"}),$.map((L,O)=>I.jsxs("div",{className:"border-2 rounded-lg p-3 text-sm relative group shadow-sm",children:[I.jsxs("div",{className:"font-medium",children:["数据源: ",L.dfAlias]}),I.jsx("ul",{className:"text-xs mt-1",children:L.levels.map((N,F)=>I.jsxs("li",{children:["level ",F+1,": ",N.dfColumn," ",N.name&&`(别名: ${N.name})`]},F))}),I.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-80 transition-opacity",children:[I.jsx(be,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{D({param:L,type:"cascader",id:O.toString()}),_(!0)},children:I.jsx(xn,{className:"h-4 w-4"})}),I.jsx(be,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:()=>x(O.toString(),"cascader"),children:I.jsx(tn,{className:"h-4 w-4"})})]})]},O))]}),y.length===0&&$.length===0&&I.jsx("div",{className:"text-center text-gray-500 p-4 border-2 border-dashed rounded-lg",children:"暂无参数(可选)"}),I.jsxs(be,{variant:"outline",className:"w-full border-dashed mt-2",onClick:()=>{D(null),_(!0)},children:[I.jsx(en,{className:"h-4 w-4 mr-2"}),"新增参数"]})]})]}),I.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[I.jsx(ve,{htmlFor:"code",className:"text-right pt-2",children:"Python代码*"}),I.jsx("div",{className:"col-span-3",children:I.jsx(_s,{mode:"python",theme:"xcode",name:"artifactCodeEditor",height:"200px",width:"100%",onChange:L=>t(L),value:r,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2}})})]})]}),I.jsxs(Gt,{children:[I.jsx(be,{variant:"outline",onClick:f,children:"取消"}),I.jsx(be,{onClick:M,disabled:!c||!r||n.length===0||!h,children:"保存"})]})]}),I.jsx(Jf,{isOpen:E,onClose:()=>{_(!1),D(null)},onSave:k?L=>b(L,k.type,k.id):R,paramData:k,plainParamNames:w,setPlainParamNames:T,dependencies:n})]})},ng=({layout:o,setLayout:f,handleAddArtifact:e,handleModifyArtifact:a,handleDeleteArtifact:p,confirmDelete:d,artifacts:g,dataSources:m,engineChoices:c})=>{const[u,s]=U.useState(!1),[i,r]=U.useState(!1),[t,n]=U.useState(null),l=h=>{t?a(h):e(h),r(!1)};return I.jsxs("div",{children:[I.jsx(zl,{value:"artifacts",className:"p-4",children:I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"border rounded-lg p-4",children:o?I.jsx("div",{className:"grid gap-4 relative",style:{gridTemplateColumns:`repeat(${o.columns}, 1fr)`,gridTemplateRows:`repeat(${o.rows}, 100px)`,minHeight:"100px"},children:o.items.map(h=>I.jsxs("div",{className:"border-2 rounded-lg p-4 text-center flex items-center justify-center relative group shadow-sm",style:{gridColumn:`${h.x+1} / span ${h.width}`,gridRow:`${h.y+1} / span ${h.height}`},children:[h.title,I.jsxs("div",{className:"absolute bottom-0 flex gap-1 opacity-0 group-hover:opacity-80 transition-opacity",children:[I.jsx(be,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{const v=g.find(y=>y.id===h.id);v?(n(v),r(!0)):fe.error("图表不存在")},children:I.jsx(xn,{className:"h-4 w-4"})}),I.jsx(be,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:()=>d(()=>p(h.id),`您确定要删除 "${h.title}" 吗？`),children:I.jsx(tn,{className:"h-4 w-4"})})]})]},h.id))}):I.jsx("div",{className:"text-center p-4",children:"正在加载布局..."})}),I.jsxs("div",{className:"mt-6",children:[I.jsxs(be,{variant:"outline",className:"w-full border-dashed",onClick:()=>{n(null),r(!0)},children:[I.jsx(en,{className:"h-4 w-4 mr-2"}),"添加图表"]}),I.jsxs(be,{variant:"outline",className:"w-full border-dashed mt-2",onClick:()=>s(!0),children:[I.jsx(en,{className:"h-4 w-4 mr-2"}),"修改布局"]})]})]})}),I.jsx(tg,{isOpen:i,onClose:()=>r(!1),onSave:l,artifact:t,dataSources:m,engineChoices:c}),I.jsx(Xf,{open:u,onClose:()=>s(!1),onSave:h=>{f(h),s(!1)},initialLayout:o})]})};function ig({className:o,...f}){return I.jsx("textarea",{"data-slot":"textarea",className:Oe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),...f})}function rg({className:o,...f}){return I.jsx("div",{"data-slot":"card",className:Oe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",o),...f})}function Cg({className:o,...f}){return I.jsx("div",{"data-slot":"card-header",className:Oe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",o),...f})}function $g({className:o,...f}){return I.jsx("div",{"data-slot":"card-title",className:Oe("leading-none font-semibold",o),...f})}function og({className:o,...f}){return I.jsx("div",{"data-slot":"card-content",className:Oe("px-6",o),...f})}const sg=({title:o,description:f,onUpdate:e,titleEditable:a})=>{const[p,d]=U.useState(!1),[g,m]=U.useState(o||"default_title"),[c,u]=U.useState(f||""),s=()=>{if(!g.trim()){fe.error("报表标题不能为空");return}if(/[<>:"/\\|?*\x00-\x1F]/.test(g)){fe.error("报表标题包含不允许的字符");return}e(g,c),d(!1),fe.success("基本信息已更新")},i=()=>{d(!1)};return I.jsx("div",{className:"p-6 space-y-6",children:I.jsx(rg,{className:"shadow-sm",children:I.jsx(og,{className:"pt-6 pb-6",children:p?I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:a&&I.jsxs(I.Fragment,{children:[I.jsxs(ve,{htmlFor:"title",className:"text-right font-medium",children:["报表标题",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsx(Ie,{id:"title",value:g,onChange:r=>m(r.target.value),className:"col-span-3",placeholder:"请输入报表标题",required:!0})]})}),I.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[I.jsx(ve,{htmlFor:"description",className:"text-right font-medium pt-2",children:"报表描述"}),I.jsx(ig,{id:"description",value:c,onChange:r=>u(r.target.value),className:"col-span-3 min-h-[100px] max-h-[200px] overflow-y-auto",placeholder:"请输入报表描述（可选）"})]}),I.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[I.jsx(be,{variant:"outline",onClick:i,children:"取消"}),I.jsx(be,{onClick:s,disabled:!g.trim(),children:"保存"})]})]}):I.jsxs("div",{className:"space-y-4",children:[a&&I.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[I.jsx("div",{className:"text-right font-medium",children:"报表标题:"}),I.jsx("div",{className:"col-span-3",children:o})]}),I.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[I.jsx("div",{className:"text-right font-medium",children:"报表描述:"}),I.jsx("div",{className:"col-span-3",children:f||"无描述"})]}),I.jsx("div",{className:"flex justify-end pt-4",children:I.jsxs(be,{variant:"outline",onClick:()=>d(!0),className:"flex items-center gap-1",children:[I.jsx(Ll,{className:"h-4 w-4"}),"编辑信息"]})})]})})})})},Ei=(o,f,e)=>{const a={...e};return o&&Object.keys(a.aliasToArtifacts).forEach(p=>{a.aliasToArtifacts[p]=a.aliasToArtifacts[p].filter(d=>d.artifactId!==o.id)}),f&&f.dependencies.forEach(p=>{a.aliasToArtifacts[p]||(a.aliasToArtifacts[p]=[]),a.aliasToArtifacts[p].push({artifactTitle:f.title,artifactId:f.id})}),Object.keys(a.aliasToArtifacts).forEach(p=>{a.aliasToArtifacts[p].length===0&&delete a.aliasToArtifacts[p]}),a},sa=(o,f,e)=>{const a={...e};return o&&Object.keys(a.aliasToDataSourceId).forEach(p=>{a.aliasToDataSourceId[p]===o.id&&delete a.aliasToDataSourceId[p]}),a.aliasToDataSourceId[f.alias]=f.id,Object.keys(a.aliasToArtifacts).forEach(p=>{a.aliasToArtifacts[p].length===0&&delete a.aliasToArtifacts[p]}),a},aa=(o,f)=>{const e=f.reduce((d,g)=>(g.dependencies.forEach(m=>{d[m]||(d[m]=[]),d[m].push({artifactTitle:g.title,artifactId:g.id})}),d),{}),a=o.reduce((d,g)=>(d[g.alias]=g.id,d),{});return{aliasToArtifacts:e,aliasToDataSourceId:a}},ag=(o,f,e)=>{const a=f.length,p={...o,id:`source_${a+1}`},d=sa(null,p,e);return{newDataSources:[...f,p],newAliasRelianceMap:d}},lg=(o,f,e,a)=>{const p=e.map(g=>g.id===f.id?f:g),d=sa(o,f,a);return{newDataSources:p,newAliasRelianceMap:d}},cg=(o,f,e)=>{const p=f.filter(g=>g.id!==o.id).map((g,m)=>({...g,id:`source_${m+1}`})),d=aa(p,e);return{newDataSources:p,newAliasRelianceMap:d}},no={dataSources:[{id:"source-1",name:"主数据",alias:"df_sales",executor:{type:"sql",engine:"default",code:"select 1",updateMode:{type:"manual"}}},{id:"source-2",name:"外部数据",alias:"df_external",executor:{type:"python",engine:"default",code:'result = df.groupby("category").sum()',updateMode:{type:"manual"}}},{id:"source-3",name:"品类销量",alias:"df_category",executor:{type:"csv_uploader",demoData:`category,sales
A,100
B,200
C,300`}},{id:"source-4",name:"csv数据",alias:"df_csv_data",executor:{type:"csv_data",data:`a,b,c
1,2,3
4,5,6`}},{id:"source-5",name:"月度预算",alias:"df_budget",executor:{type:"csv_uploader",demoData:`month,budget
1,1000
2,2000
3,3000`}}],artifacts:[{id:"artifact-1",title:"销售趋势",code:"line",dependencies:["df_sales"],executor_engine:"default"},{id:"artifact-2",title:"销售占比",code:"pie",dependencies:["df_external"],executor_engine:"default"},{id:"artifact-3",title:"销售明细",code:"pie",dependencies:["df_external"],executor_engine:"default"},{id:"artifact-4",title:"新增图表1",code:"pie",dependencies:["df_sales","df_external"],executor_engine:"default"},{id:"artifact-5",title:"新增图表2",code:"pie",dependencies:["df_sales"],executor_engine:"default"}]},ug={sql:["default","starrocks"],python:["default","3.9"]},hg=["default"],Mg=({open:o,onClose:f,report:e,handleSave:a,titleEdiable:p=!1})=>{const[d,g]=U.useState("info"),[m,c]=U.useState(""),[u,s]=U.useState(""),[i,r]=U.useState([]),[t,n]=U.useState([]),[l,h]=U.useState([]),[v,y]=U.useState(""),[C,$]=U.useState(""),[S,w]=U.useState({items:[],columns:1,rows:1});U.useEffect(()=>{e&&(c((e==null?void 0:e.title)||""),s((e==null?void 0:e.description)||""),r((e==null?void 0:e.dataSources)||[]),n((e==null?void 0:e.parameters)||[]),h((e==null?void 0:e.artifacts)||[]),w((e==null?void 0:e.layout)||{items:[],columns:1,rows:1}),y((e==null?void 0:e.createdAt)||new Date().toISOString()),$((e==null?void 0:e.updatedAt)||new Date().toISOString()))},[e]);const[T,E]=U.useState(aa(no.dataSources,no.artifacts)),[_,k]=U.useState(!1),[D,A]=U.useState(null),[R,b]=U.useState(""),x=()=>{f()},M=V=>{h([...l,V]),E(Ei(null,V,T)),w(Qf(S,V.id,V.title))},L=V=>{const Y=l.find(K=>K.id===V.id);if(!Y){fe.error("图表不存在");return}if(Y.title!==V.title){const K=S.items.map(q=>q.id===V.id?{...q,title:V.title}:q);w({...S,items:K})}E(Ei(Y,V,T)),h(l.map(K=>K.id===V.id?V:K))},O=V=>{const Y=l.find(q=>q.id===V);if(!Y){fe.error("图表不存在");return}E(Ei(Y,null,T)),h(l.filter(q=>q.id!==V));let K={...S,items:S.items.filter(q=>q.id!==V)};K=oa(K),w(K),fe.success("图表已删除")},N=(V,Y)=>{k(!0),A(()=>V),b(Y)},F=V=>{const{newDataSources:Y,newAliasRelianceMap:K}=ag(V,i,T);r(Y),E(K)},j=(V,Y)=>{const{newDataSources:K,newAliasRelianceMap:q}=lg(V,Y,i,T);r(K),E(q)},W=V=>{if(T.aliasToArtifacts[V.alias]&&T.aliasToArtifacts[V.alias].length>0){const q=T.aliasToArtifacts[V.alias].map(J=>`"${J.artifactTitle}"`);fe.error(`数据源${V.name}被图表[${q.join(", ")}]依赖，不能删除`);return}const{newDataSources:Y,newAliasRelianceMap:K}=cg(V,i,l);r(Y),E(K)},P=V=>t.find(K=>K.name===V.name)?(fe.error("[PARAM] 异常, 参数名称已存在"),!1):(n([...t,V]),!0),z=V=>t.find(K=>K.name===V.name&&K.id!==V.id)?(fe.error("[PARAM] 异常, 参数名称已存在"),!1):(n(t.map(K=>K.id===V.id?V:K)),!0),H=V=>{n(t.filter(Y=>Y.id!==V.id))},G=(V,Y)=>{c(V),s(Y)};return I.jsxs(I.Fragment,{children:[I.jsx(Wt,{open:o,onOpenChange:f,children:I.jsxs(zt,{className:"max-w-[90vw] h-[70vh] flex flex-col",children:[I.jsx(Bt,{children:I.jsx(Vt,{children:"编辑报表"})}),I.jsxs(Hl,{value:d,onValueChange:g,className:"flex-1 flex flex-col overflow-hidden",children:[I.jsxs(Wl,{className:"w-full grid grid-cols-3 sticky top-0 z-10",children:[I.jsxs(li,{value:"data",className:"flex items-center gap-2",children:[I.jsx($l,{size:24}),I.jsx("span",{children:"数据源"})]}),I.jsxs(li,{value:"filters",className:"flex items-center gap-2",children:[I.jsx(kl,{size:24}),I.jsx("span",{children:"筛选条件"})]}),I.jsxs(li,{value:"artifacts",className:"flex items-center gap-2",children:[I.jsx(fl,{size:24}),I.jsx("span",{children:"图表"})]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d==="info"&&I.jsx(sg,{title:m,description:u,onUpdate:G,titleEditable:!1}),I.jsx(Qu,{dataSources:i,setDataSources:r,engineChoices:ug,aliasRelianceMap:T,handleAddDataSource:F,handleEditDataSource:j,handleDeleteDataSource:W,confirmDelete:N}),I.jsx(Uf,{parameters:t,handleDeleteParameter:H,handleAddParameter:P,handleEditParameter:z,confirmDelete:N}),I.jsx(ng,{layout:S,setLayout:w,handleAddArtifact:M,handleModifyArtifact:L,handleDeleteArtifact:O,confirmDelete:N,artifacts:l,dataSources:i,engineChoices:hg})]})]}),I.jsxs(Gt,{children:[I.jsx(be,{variant:"outline",onClick:x,className:"mr-2",children:"取消"}),I.jsx(be,{onClick:()=>{a(m,u,v,new Date().toISOString(),t,l,i,S)},children:"保存"})]})]})}),I.jsx(Wt,{open:_,onOpenChange:()=>k(!1),children:I.jsxs(zt,{children:[I.jsx(Bt,{children:I.jsx(Vt,{children:"确认"})}),I.jsx("p",{children:R}),I.jsxs(Gt,{children:[I.jsx(be,{variant:"outline",onClick:()=>k(!1),children:"取消"}),I.jsx(be,{onClick:()=>{D&&D(),k(!1)},children:"确认"})]})]})})]})},_g={async getReportByFileId(o){const{data:f}=await dn.get(`/report/${o}`);return f},async getReportByReportId(o){const{data:f}=await dn.get(`/report/by_report_id/${o}`);return f},async updateReport(o,f){const{data:e}=await dn.post(`/report/${o}`,f);return e},async listReports(){const{data:o}=await dn.get("/reports");return o},async createReport(o,f){const e=f?{parent_id:f}:{},{data:a}=await dn.post("/reports",o,{params:e});return a}};export{Hh as A,Wh as B,Mn as C,_l as D,Mg as E,$n as F,_n as G,Ze as H,rg as I,og as J,El as K,ml as L,Ht as M,ve as N,Ro as O,zi as P,wo as Q,vg as R,Cn as S,Hl as T,or as U,Cg as V,$g as W,Vn as a,Et as b,Ue as c,an as d,Wl as e,li as f,Gn as g,zl as h,bg as i,xg as j,Au as k,Ys as l,Gs as m,Yh as n,Kh as o,eo as p,Zh as q,_g as r,Qr as s,Be as t,Tu as u,rn as v,Ks as w,Qs as x,qh as y,jh as z};
