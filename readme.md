# æ‰“åŒ…ä»£ç 

```shell

tar -czvf ../dataviz_$(date +%Y%m%d_%H%M%S).tar.gz  --exclude backend/engine_config.py backend

```

# å¯åŠ¨å‰ç«¯, å¹¶å°†å¤„ç†ä¸äº†çš„è¯·æ±‚å¯¼å‘ index.html

npm install http-server -g
http-server -P "http://localhost:8080/?"

# python å¯åŠ¨

uvicorn app:app --host 0.0.0.0 --port 8000 --reload

# react å¯åŠ¨

npm start

# react ç¼–è¯‘

npm run build
npx tsc

```



20. vizæä¾›playgroundï¼Œå¯ä»¥å¤åˆ¶å½“å‰queryStauså’Œä»£ç ï¼Œè¿›è¡Œç”»å›¾
21. shareå°±å¾ˆæœ‰æ„æ€â€¦å†æƒ³æƒ³; shareå¦‚æœæœ‰ä¸ªshareç®¡ç†å°±å¥½äº†ï¼› ç¦»èŒä¹Ÿèƒ½å¸¦èµ°ä¸€äº›ä¸œè¥¿
33. reportçš„jsonå¯¼å‡ºï¼Œ jsonå¯¼å…¥;
34. æ–‡ä»¶æ‹–æ‹½æ–¹å¼çš„jsonå¯¼å…¥

38. å¤åˆ¶æ–‡ä»¶åŠŸèƒ½æ˜¯ å‡å¤åˆ¶....(ğŸ˜‚å“­æ­»)

45. è¿˜æ²¡queryæ—¶ï¼Œ  æˆ‘ä¹Ÿæƒ³çœ‹parsed_code
53. cascaderå’ŒinferredColumnï¼Œå¼„æˆå…¨å±€çš„ï¼›  å¹¶ä¸”å¯ä»¥è®¾ç½®å±€éƒ¨ä¸å—å½±å“ï¼›
54. toggle æ–‡ä»¶å¤¹æ—¶ï¼Œ artifactæ²¡æœ‰autosizeã€‚ã€‚ğŸ˜‚
55. artifactï¼Œå¯ä»¥è€ƒè™‘ç”¨tanstack query,  cached queryç»“æœï¼› é¿å…åå¤è¯·æ±‚;





å®Œæˆï¼š
8. aritifact:  æ”¯æŒå›¾ç‰‡ã€plotlyã€ pyechartsï¼› æ”¯æŒdataframe, æ„Ÿè§‰ shadcn/uiçš„è¶³å¤Ÿç”¨äº†;
2. æ—§çš„æŸ¥è¯¢ç»“æœ, è‹¥param_valuesï¼› æœåŠ¡å™¨è¦æ ¹æ® reportçš„modified, æ–‡ä»¶çš„åå­—(ref), sessionIdæ¥ç”Ÿæˆhash;
4.  åˆ·æ–°é¡µé¢ï¼Œèƒ½è¿˜åŸå½“æ—¶çš„æŸ¥è¯¢ç»“æœï¼›
5.  session IDå­˜å‚¨çš„æ˜¯ param_valueså’Œfile_contensï¼Œ å’Œreportçš„updatedTimeï¼›  åˆ·æ–°ç½‘é¡µæ—¶ï¼Œ è¿˜èƒ½é‡æ–°è¿˜åŸï¼›
6.  param valuesçš„è¯»å–å’Œå­˜å‚¨ï¼› åŠ¨æ€æ—¥æœŸå‚æ•°çš„è§£æï¼Œ éƒ½åœ¨å‰ç«¯ï¼› multiple_selectï¼Œ ä¸éœ€è¦æ‹¼æ¥äº†ï¼Œä¸ºäº†é¡µé¢èƒ½è¿˜åŸï¼›
7. å¤šä¸ªdatasourceçš„å­˜å‚¨ï¼Œ æ˜¯åˆ†å¤šä¸ªæ–‡ä»¶è¿˜æ˜¯å•ä¸ªæ–‡ä»¶ï¼›
9. æ–‡ä»¶ä¸Šä¼ ï¼Œ å­—æ®µä¸åŒ¹é…ï¼Œè¦æç¤ºï¼›
11. dataVizåŒºåŸŸ,   æä¾›pythonä»£ç ï¼›+æ•°æ®
13. queryå¤„ï¼Œ æä¾›æ¯ä¸ª datasourceçš„è§£æåçš„ä»£ç ï¼›
14.  reportéœ€è¦ç»´æŠ¤ createTime, updateTime; ç”¨äºçŸ¥é“æ˜¯å¦å‘ç”Ÿå˜æ›´;
15. mul_inputä¸èƒ½è¾“å…¥,
16. çº§è”å‚æ•°ä¸­å·²ç»ä¾èµ–äº†çš„dataSourceï¼›  ä¸å…è®¸åˆ é™¤ï¼›
17.  vizåŒºåŸŸçš„å‚æ•°ï¼Œä¼šé€ æˆæ— é™æ¬¡æ¸²æŸ“ï¼›
18. åˆ é™¤æ–‡ä»¶æ—¶ï¼Œä¸è¦çœŸçš„åˆ é™¤ï¼›ç»™è¡¨åŠ ä¸Šä¸€ä¸ªis_deletedå°±å¯ä»¥äº†
22. cascaderæ˜¯å¦ç”Ÿæ•ˆäº†; å¤šå¯¹å¤šæ€ä¹ˆå¤„ç†
23. close tabæ—¶ï¼Œè¦æ¸…ç†ä¸€äº›æ•°æ®
24. æ¢ä¸€ä¸‹é»˜è®¤çš„æ–‡ä»¶è·¯å¾„ï¼Œ è®©å‘å¸ƒä»£ç æ›´æ–¹ä¾¿ã€‚
25. åˆ é™¤æ–‡ä»¶æ—¶ï¼Œ æ–‡ä»¶çš„å¼•ç”¨ä¸€èµ·close
26. å…³é—­tab, dashboardæ²¡æœ‰æ­£å¸¸å“åº”
27. df_aliaså’Œoptionçš„keyåï¼Œä¸èƒ½ä¸€æ ·
28. cascaderï¼Œåº”è¯¥æ˜¯ä¸€é¢—æ ‘ï¼Œä¸èƒ½å¤šå¯¹å¤š
29. ç”¨æˆ·ç™»å½•
30. é™åˆ¶äº†æ•°æ®æŸ¥è¯¢çš„è¡Œæ•°ï¼Œ ç›®å‰æ˜¯5ä¸‡
31. cascaderå–æ¶ˆå³åé€‰ï¼š
32.  plainParamï¼Œ å•é€‰ä¸èƒ½ä¸ºç©ºï¼›  ä¸”åšå¥½ç±»å‹è½¬æ¢ï¼›
35. csvæ–‡ä»¶çš„å¤„ç†
39. é‡æ–°queryçš„æ—¶å€™ï¼Œ queryStatus, artifactResponseå¯ä»¥æ›´æ–°ä¸€ä¸‹é¢œè‰²; (INIT)
40. ç½‘é¡µåˆ·æ–°ï¼Œè¿›å…¥åˆ° /login, ä¸ºä»€ä¹ˆæ˜¯ç™½è‰²é¡µé¢
41. åç«¯å¤šè¿›ç¨‹ç™»é™†
42. åç«¯å¤šè¿›ç¨‹çš„locké—®é¢˜
43. åç«¯çš„ioè¯»å†™ï¼Œæ”¹ä¸ºå¼‚æ­¥
44. è‹¥ä¸èƒ½å¤åˆ¶å‰ªåˆ‡æ¿ï¼Œåˆ™æ”¹ä¸ºä¸‹è½½
46. éšè—å‚æ•°æŒ‰é’®ï¼Œ ç‚¹å‡»ä¸¤æ¬¡ï¼Œæ²¡æœ‰åŠ è½½å½“å‰çš„valueï¼›
47. navbar, itemçš„æ–‡å­—æº¢å‡ºæˆªæ–­ï¼›
48. versionç®¡ç†: -> æ²¡å¼€å‘ï¼Œ ä»…ç”¨äº†gitæ¥ä¿å­˜å†å²ç‰ˆæœ¬
50. date_rangeå‚æ•°çš„æ”¯æŒã€‚  æ¯”å¦‚  ${job_date:start}, ${job_date:end}
52. cascaderæ¨æ–­ï¼Œ éœ€è¦æ”¯æŒ å¤šå¯¹å¤šï¼›
56. é‡æ–°æŸ¥è¯¢ï¼Œ åº”è¯¥å¾—æ¶ˆé™¤ artifact paramsçš„values.
57. çº§è”å•é€‰ï¼Œå¯ä»¥è€ƒè™‘ï¼Œé»˜è®¤é€‰ç¬¬ä¸€ä¸ªã€‚
58. æ”¯æŒç±»ä¼¼dtaleçš„åŠŸèƒ½
59. multiple_inputï¼š  æ”¯æŒå¤åˆ¶ç²˜è´´,  é€—å·æˆ–å›è½¦åˆ†å‰²







äº¤äº’:
+------------+-----------------------+
|                  header            |
+------------+-----------------------+
|            |       tabs(2)         |
|  navbar(1) |  -------------------  |
|            |       param area(3)   |
|            |  ---------------------|
|            |       layout(4)       |
|            |                       |
|            |                       |
|            |                       |
|            |                       |
+------------+-----------------------+


äº¤äº’åŠ¨ä½œï¼Œ å½±å“äº†å“ªäº›é¡µé¢:

1 ->  2, 3, 4:  ç‚¹å‡»æ–‡ä»¶ï¼Œå½±å“äº†activateTab
1 ->  2,  4:    æ–‡ä»¶æ”¹å, å½±å“äº†tab.title;   ä¸ä¸€å®šæ˜¯activateTab
1 ->  2, (3,4):  åˆ é™¤æ–‡ä»¶
      åˆ†æ”¯1 -> å½±å“äº†tabList, è‹¥è¯¥æ–‡ä»¶ä¸å½±å“activateTab, å³  1 -> 2
      åˆ†æ”¯2 -> å½±å“äº†tabList, è‹¥è¯¥æ–‡ä»¶è¿˜å½±å“äº†activateTab, å³  1 -> 2, 3, 4


2 -> 3,4   ç‚¹å‡»äº†tab, å½±å“äº†activateTab
2 -> 3,4   åˆ‡æ¢tab, å½±å“äº†activateTab


3 -> 3, 4: ç¼–è¾‘report...  éœ€è¦æ‰¾ä¸€ä¸ªåœ°æ–¹å­˜å‚¨updateTime
3 -> 4:    query, å½±å“äº† queryStatus
3 -> 3:   å‚æ•°æ›´æ–°ï¼Œ æ–‡ä»¶ä¸Šä¼ ç­‰ç­‰ï¼› ä»…å½±å“äº†è‡ªå·±;

4 -> 4: optioné€‰æ‹©ï¼Œ ä»…å½±å“äº†è‡ªå·±


æ€»ç»“:
1. æ ¸å¿ƒçš„æŠ“æ‰‹:
    - activateTab
    - tab.title
    - tabsList
    - paramValues, paramFiles
    - queryStatus
    - å“ªé‡Œå­˜å‚¨ reportçš„updateAt
2. param areaå’Œlayoutï¼Œéœ€è¦memo, æ ¹æ®activateTabæ›´æ–°;
3. å„åŒºåŸŸéœ€è¦çš„hook
    (1) navbar:
        - setActivateTab
        - setTabList (eg: åˆ é™¤, ä¿®æ”¹æ–‡ä»¶çš„æ“ä½œ)

        DONE:
            - memo
            - FileSystemItemçš„ä»»ä½•ä¿®æ”¹, éœ€è¦apiåŒæ­¥; å·²æ”¹ä¸ºusecallback

    (2) tabs:
        - activateTab
        - tabsList
        - ps: ä¿®æ”¹titleï¼Œ ä¸åº”è¯¥é‡æ–°æ¸²æŸ“  param areaå’Œlayout

    (3) param area:
        - report
        - activateTab
        - paramValues
        - paramFiles
        - report.updateAt??
    (4) layout:
        - report
        - activateTab
        - queryStatus
```
